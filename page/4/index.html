<!DOCTYPE html>
<html lang=ja>
<head>
    <meta charset="utf-8">
    
    <title>memo-blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="This is just a memo">
<meta property="og:type" content="website">
<meta property="og:title" content="memo-blog">
<meta property="og:url" content="https://dobachi.github.io/memo-blog/page/4/index.html">
<meta property="og:site_name" content="memo-blog">
<meta property="og:description" content="This is just a memo">
<meta property="og:locale" content="ja">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="memo-blog">
<meta name="twitter:description" content="This is just a memo">
    

    
        <link rel="alternate" href="/" title="memo-blog" type="application/atom+xml" />
    

    

    <link rel="stylesheet" href="/memo-blog/libs/font-awesome5/css/fontawesome.min.css">
    <link rel="stylesheet" href="/memo-blog/libs/font-awesome5/css/fa-brands.min.css">
    <link rel="stylesheet" href="/memo-blog/libs/font-awesome5/css/fa-solid.min.css">
    <link rel="stylesheet" href="/memo-blog/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/memo-blog/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/memo-blog/css/style.css">

    <script src="/memo-blog/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/memo-blog/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/memo-blog/libs/justified-gallery/justifiedGallery.min.css">
    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-155235180-1', 'auto');
ga('send', 'pageview');

</script>
    
    
    


</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/memo-blog/" id="logo">
                <i class="logo"></i>
                <span class="site-title">memo-blog</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/memo-blog/.">Home</a>
                
                    <a class="main-nav-link" href="/memo-blog/archives">Archives</a>
                
                    <a class="main-nav-link" href="/memo-blog/categories">Categories</a>
                
                    <a class="main-nav-link" href="/memo-blog/tags">Tags</a>
                
                    <a class="main-nav-link" href="/memo-blog/about">About</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/memo-blog/css/images/avatar.png" />
                            <i class="fas fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="検索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fas fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '投稿',
            PAGES: 'Pages',
            CATEGORIES: 'カテゴリ',
            TAGS: 'タグ',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/memo-blog/',
        CONTENT_URL: '/memo-blog/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/memo-blog/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/memo-blog/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/memo-blog/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/memo-blog/categories">Categories</a></td>
                
                    <td><a class="main-nav-link" href="/memo-blog/tags">Tags</a></td>
                
                    <td><a class="main-nav-link" href="/memo-blog/about">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="検索" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile" class="profile-fixed">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/memo-blog/css/images/avatar.png" />
            <h2 id="name">dobachi</h2>
            <h3 id="title">man of leisure</h3>
            <span id="location"><i class="fas fa-map-marker-alt" style="padding-right: 5px"></i>Tokyo, Japan</span>
            <a id="follow" target="_blank" href="https://github.com/dobachi">フォローする</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                204
                <span>投稿</span>
            </div>
            <div class="article-info-block">
                225
                <span>タグ</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="http://github.com/dobachi" target="_blank" title="github" class=tooltip>
                            <i class="fab fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/memo-blog/" target="_blank" title="rss" class=tooltip>
                            <i class="fab fa-rss"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main">
    <article id="post-Information-about-trends-in-2020" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2020/12/26/Information-about-trends-in-2020/">Information about trends in 2020</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2020/12/26/Information-about-trends-in-2020/">
            <time datetime="2020-12-26T13:27:40.000Z" itemprop="datePublished">2020-12-26</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Research/">Research</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Research/Trends/">Trends</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/Trends/">Trends</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#参考" id="toc-参考">参考</a>
<ul>
<li><a href="#ガートナー" id="toc-ガートナー">ガートナー</a></li>
<li><a href="#データファブリック" id="toc-データファブリック">データ・ファブリック</a></li>
<li><a href="#dnaコンピューティング" id="toc-dnaコンピューティング">DNAコンピューティング</a></li>
<li><a href="#アダプティブラーニング" id="toc-アダプティブラーニング">アダプティブラーニング</a></li>
<li><a href="#デジタルツイン" id="toc-デジタルツイン">デジタル・ツイン</a></li>
<li><a href="#iown" id="toc-iown">IOWN</a></li>
</ul></li>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#先進テクノロジのハイプサイクル2020年" id="toc-先進テクノロジのハイプサイクル2020年">先進テクノロジのハイプ・サイクル：2020年</a>
<ul>
<li><a href="#挙げられていたトレンドと所感" id="toc-挙げられていたトレンドと所感">挙げられていたトレンドと所感</a></li>
<li><a href="#個人的にピックアップしたキーワードと所感" id="toc-個人的にピックアップしたキーワードと所感">個人的にピックアップしたキーワードと所感</a></li>
</ul></li>
<li><a href="#週刊ダイヤモンド-2020年1212号" id="toc-週刊ダイヤモンド-2020年1212号">週刊ダイヤモンド
2020年12/12号</a></li>
<li><a href="#iown公開情報" id="toc-iown公開情報">IOWN公開情報</a></li>
</ul></li>
</ul>
</div>
<h1><span id="参考">参考</span></h1>
<h2><span id="ガートナー">ガートナー</span></h2>
<ul>
<li><a href="https://www.gartner.com/jp/newsroom/press-releases/pr-20200819" target="_blank" rel="noopener">ガートナー、「先進テクノロジのハイプ・サイクル：2020年」を発表</a></li>
</ul>
<h2><span id="データファブリック">データ・ファブリック</span></h2>
<ul>
<li><a href="https://www.netone.co.jp/knowledge-center/netone-blog/20191030-1/#:~:text=%E3%83%87%E3%83%BC%E3%82%BF%E3%83%95%E3%82%A1%E3%83%96%E3%83%AA%E3%83%83%E3%82%AF%E3%81%A8%E3%81%AF%E3%80%81%E3%82%AA%E3%83%B3%E3%83%97%E3%83%AC%E3%83%9F%E3%82%B9,%E3%82%92%E4%B9%97%E3%82%8A%E8%B6%8A%E3%81%88%E3%82%8B%E5%BF%85%E8%A6%81%E3%81%8C%E3%81%82%E3%82%8A%E3%81%BE%E3%81%99%E3%80%82" target="_blank" rel="noopener">データファブリックを実現するクラウドデータサービス</a></li>
<li><a href="https://enterprisezine.jp/news/detail/12195" target="_blank" rel="noopener">ネットアップとNEC、国内初となるデータファブリックソリューションの提供を開始</a></li>
<li><a href="https://tintri.co.jp/blog/netapp/" target="_blank" rel="noopener">NetAppのデータ
ファブリックは時代遅れなのか？</a></li>
<li><a href="https://www.gii.co.jp/report/go901984-data-fabric.html" target="_blank" rel="noopener">世界のデータファブリックの市場</a></li>
<li><a href="https://www.talend.com/jp/products/data-fabric/" target="_blank" rel="noopener">Talend
Data Fabric</a></li>
<li><a href="https://www.splunk.com/ja_jp/resources/enterprise-machine-data-fabric.html" target="_blank" rel="noopener">Splunk
エンタープライズ マシン データ ファブリック</a></li>
</ul>
<h2><span id="dnaコンピューティング">DNAコンピューティング</span></h2>
<ul>
<li><a href="https://www.biophys.jp/highschool_old/E-25.html" target="_blank" rel="noopener">DNAコンピューティング（日本生物理学会）</a></li>
<li><a href="http://seisan.server-shared.com/633/633-28.pdf" target="_blank" rel="noopener">DNAコンピューティングの原理と展開（小倉裕介）</a></li>
</ul>
<h2><span id="アダプティブラーニング">アダプティブラーニング</span></h2>
<ul>
<li><a href="https://www.itmedia.co.jp/news/articles/2002/20/news015.html" target="_blank" rel="noopener">米軍の教育でもAIが活躍　「アダプティブ・ラーニング」の可能性
(1/4)</a></li>
</ul>
<h2><span id="デジタルツイン">デジタル・ツイン</span></h2>
<ul>
<li><a href="https://www.ntt.co.jp/journal/2001/JN20200117_h.html" target="_blank" rel="noopener">ヒトと社会のデジタル化世界
─ デジタルツインコンピューティング ─</a></li>
<li><a href="https://businessnetwork.jp/Detail/tabid/65/artid/7753/Default.aspx" target="_blank" rel="noopener">IOWNでヒトもデジタル化　“私のコピー”が仮想空間で仕事する世界</a></li>
</ul>
<h2><span id="iown">IOWN</span></h2>
<ul>
<li><a href="https://magazine.dmkt-sp.jp/magazine/0040/0131/00035437" target="_blank" rel="noopener">週刊ダイヤモンド
2020年12/12号</a></li>
<li><a href="https://www.rd.ntt/iown/" target="_blank" rel="noopener">IOWN公式ウェブサイト</a></li>
</ul>
<h1><span id="メモ">メモ</span></h1>
<p>オープンになっている情報を中心に既存情報を軽くまとめる。
特にデータ処理、データ活用との関連を探る。</p>
<h2><span id="先進テクノロジのハイプサイクル2020年">先進テクノロジのハイプ・サイクル：2020年</span></h2>
<p><a href="https://www.gartner.com/jp/newsroom/press-releases/pr-20200819" target="_blank" rel="noopener">ガートナー、「先進テクノロジのハイプ・サイクル：2020年」を発表</a>
の記事によると、 2020/8/19にハイプ・サイクルが発表された。</p>
<p>記事冒頭で触れられているとおり、COVID-19の影響は否定できない。
例ではヘルス・パスポート、ソーシャル・ディスタンシング・テクノロジが挙げられていた。
記載されているととおり、「過度な期待」として初登場する技術は少ないのだが、
それに該当するということで注目されている。</p>
<h3><span id="挙げられていたトレンドと所感">挙げられていたトレンドと所感</span></h3>
<ul>
<li>デジタル・ミー
<ul>
<li>つまりは、デジタル・ツイン</li>
<li>多分にもれずデジタル・ツイン関連は取り上げられていた。</li>
<li>過去になかったデータを使うようになるという側面はあるが、
それに合わせた新たなアーキテクチャが必要になるか。
<ul>
<li>過去のブーム面との例
<ul>
<li>大量の顧客行動情報、ログ：非構造データ処理に適した並列分散処理フレームワーク（MapReduceなど）</li>
<li>大量の画像データ：深層学習</li>
<li>大量のセンサーデータ：IoT、ストリーム処理</li>
<li>大量のデジタル・ツイン・データ：？</li>
</ul></li>
</ul></li>
</ul></li>
<li>コンポジット・アーキテクチャ
<ul>
<li>一言で言うとデータ・ファブリック※1を基礎としたアーキテクチャ
<ul>
<li>※1）つまりオンプレ、クラウドに点在するデータを最適な場所に配置し、いつでも利用可能にする</li>
</ul></li>
<li>重要なのは柔軟性を実現するという目論見</li>
<li>柔軟性を求める組織に必要とされるアーキテクチャと考えることもできそうだ</li>
</ul></li>
<li>フォーマティブAI
<ul>
<li>一言で言うと状況に動的に対応するAI</li>
<li>動的に適応していく、さらに突き詰めると「自律的に…」というニュアンスが生じそう</li>
<li>AIに関する倫理の議論と関連すると考えられる。</li>
</ul></li>
<li>アルゴリズムによる信頼
<ul>
<li>一言で言うと、責任ある権限に基づく信頼モデルから、アルゴリズムによる信頼への転換</li>
</ul></li>
<li>シリコンの先へ
<ul>
<li>一言で言うと、シリコンに変わる新素材に対する期待</li>
<li>参考
<ul>
<li><a href="https://www.biophys.jp/highschool_old/E-25.html" target="_blank" rel="noopener">DNAコンピューティング（日本生物理学会）</a>、<a href="http://seisan.server-shared.com/633/633-28.pdf" target="_blank" rel="noopener">DNAコンピューティングの原理と展開（小倉裕介）</a></li>
</ul></li>
</ul></li>
</ul>
<h3><span id="個人的にピックアップしたキーワードと所感">個人的にピックアップしたキーワードと所感</span></h3>
<ul>
<li>アダプティブな機械学習
<ul>
<li>「学習」という領域におけるパーソナライズの一つの形と思えばよいか</li>
<li>近年ではAIの普及もあり、機械的な支援をもとに実現することも増えてきたか。</li>
<li>参考
<ul>
<li><a href="https://www.itmedia.co.jp/news/articles/2002/20/news015.html" target="_blank" rel="noopener">米軍の教育でもAIが活躍　「アダプティブ・ラーニング」の可能性
(1/4)</a></li>
</ul></li>
</ul></li>
<li>シチズン・ツイン
<ul>
<li>Google検索では適切な結果は得られなかった</li>
</ul></li>
<li>人のデジタル・ツイン
<ul>
<li>シチズン・ツインと同様、モノのデジタル化に続いて、ヒトのデジタル化を目指す、ということか。</li>
<li>NTTサービスイノベーション総合研究所の提唱する「デジタルツインコンピューティング」では、
層の中間層を設けることが重要とされている。</li>
<li>参考</li>
<li><a href="https://www.ntt.co.jp/journal/2001/JN20200117_h.html" target="_blank" rel="noopener">ヒトと社会のデジタル化世界
─ デジタルツインコンピューティング ─</a></li>
<li><a href="https://businessnetwork.jp/Detail/tabid/65/artid/7753/Default.aspx" target="_blank" rel="noopener">IOWNでヒトもデジタル化　“私のコピー”が仮想空間で仕事する世界</a></li>
</ul></li>
<li>データ・ファブリック
<ul>
<li>「オンプレ、クラウドに点在するデータを最適な場所に配置し、いつでも利用可能にする」というコンセプトは特徴的だが、
ベンダによって実際の定義が異なるように感じる。</li>
<li>「データ民主化」と同様のコンセプトに感じる。</li>
<li>ポイントはストレージとしての特徴ではなく、「統合」を実現する側面か</li>
<li>参考情報
<ul>
<li><a href="https://www.netone.co.jp/knowledge-center/netone-blog/20191030-1/#:~:text=%E3%83%87%E3%83%BC%E3%82%BF%E3%83%95%E3%82%A1%E3%83%96%E3%83%AA%E3%83%83%E3%82%AF%E3%81%A8%E3%81%AF%E3%80%81%E3%82%AA%E3%83%B3%E3%83%97%E3%83%AC%E3%83%9F%E3%82%B9,%E3%82%92%E4%B9%97%E3%82%8A%E8%B6%8A%E3%81%88%E3%82%8B%E5%BF%85%E8%A6%81%E3%81%8C%E3%81%82%E3%82%8A%E3%81%BE%E3%81%99%E3%80%82" target="_blank" rel="noopener">データファブリックを実現するクラウドデータサービス</a>、<a href="https://enterprisezine.jp/news/detail/12195" target="_blank" rel="noopener">ネットアップとNEC、国内初となるデータファブリックソリューションの提供を開始</a>、
<a href="https://tintri.co.jp/blog/netapp/" target="_blank" rel="noopener">NetAppのデータ
ファブリックは時代遅れなのか？</a>、<a href="https://www.gii.co.jp/report/go901984-data-fabric.html" target="_blank" rel="noopener">世界のデータファブリックの市場</a>、<a href="https://www.talend.com/jp/products/data-fabric/" target="_blank" rel="noopener">Talend Data
Fabric</a>、 <a href="https://www.splunk.com/ja_jp/resources/enterprise-machine-data-fabric.html" target="_blank" rel="noopener">Splunk
エンタープライズ マシン データ ファブリック</a></li>
</ul></li>
</ul></li>
</ul>
<h2><span id="週刊ダイヤモンド2020年1212号">週刊ダイヤモンド
2020年12/12号</span></h2>
<p><a href="https://magazine.dmkt-sp.jp/magazine/0040/0131/00035437" target="_blank" rel="noopener">週刊ダイヤモンド
2020年12/12号</a> の中に、 「NTT帝国の逆襲」という特集記事がある。</p>
<p>技術というより、事業職が強いが念の為に（あえて）技術に関連するキーワードだけ述べる。
なお、この書籍で重要なのは、本来はどちらかというとビジネス戦略側面である。
詳細は当該書籍を参照されたし。</p>
<p>技術キーワード</p>
<ul>
<li>IOWN構想
<ul>
<li>光ファイバー、ネットワーク転送、音声等のNTT特許数は圧倒的である。</li>
<li>電力効率100話い、伝送容量125倍、遅延を200分の1を目指す</li>
<li>光電子融合型の光トランジスタ開発によりリード。</li>
</ul></li>
<li>O-RAN
<ul>
<li>通信規格を主導。オープン化で囲い込みを打破する。</li>
</ul></li>
<li>V-RAN
<ul>
<li>通信の仮想化</li>
</ul></li>
</ul>
<h2><span id="iown公開情報">IOWN公開情報</span></h2>
<p>あくまで公開された情報ではあるがリスト化しておく。</p>
<ul>
<li><a href="https://www.rd.ntt/iown/" target="_blank" rel="noopener">IOWN公式ウェブサイト</a>
<ul>
<li>概要や目指しているところを理解できるコンテンツが公開されている</li>
<li>構成要素は以下の通り。
<ul>
<li>「オールフォトニクス・ネットワーク」
<ul>
<li>「大容量光伝送システム・デバイス」、「イジングマシン」、「光格子時計ネットワーク」</li>
</ul></li>
<li>「デジタルツインコンピューティング」
<ul>
<li>「多様な産業やモノとヒトのデジタルツインを自在に掛け合わせて演算を行う」ことが特色</li>
</ul></li>
<li>「コグニティブ・ファウンデーション」
<ul>
<li>ICTリソースを全体最適に調和させ、必要な情報をNW内に流通させる。</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2020/12/26/Information-about-trends-in-2020/" data-id="clkw1cpnh01531vmwhok3oyh5" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-Reference-of-connector-plugin" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2020/12/16/Reference-of-connector-plugin/">Reference of connector plugin</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2020/12/16/Reference-of-connector-plugin/">
            <time datetime="2020-12-16T14:31:01.000Z" itemprop="datePublished">2020-12-16</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Messaging-System/">Messaging System</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Messaging-System/Kafka/">Kafka</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/Kafak-Connect/">Kafak Connect</a>, <a class="tag-link" href="/memo-blog/tags/Kafka/">Kafka</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#参考" id="toc-参考">参考</a></li>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#kafka-connect-syslog" id="toc-kafka-connect-syslog">kafka-connect-syslog</a>
<ul>
<li><a href="#動作確認" id="toc-動作確認">動作確認</a></li>
</ul></li>
<li><a href="#kafka-connect-datagen" id="toc-kafka-connect-datagen">kafka-connect-datagen</a>
<ul>
<li><a href="#概要" id="toc-概要">概要</a></li>
<li><a href="#実装状況" id="toc-実装状況">実装状況</a></li>
<li><a href="#動作確認-1" id="toc-動作確認-1">動作確認</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<h1><span id="参考">参考</span></h1>
<ul>
<li><a href="https://www.confluent.io/hub/confluentinc/kafka-connect-syslog" target="_blank" rel="noopener">kafka-connect-syslog</a></li>
<li><a href="https://www.confluent.io/hub/confluentinc/kafka-connect-datagen" target="_blank" rel="noopener">kafka-connect-datagen</a></li>
<li><a href="https://github.com/confluentinc/kafka-connect-datagen" target="_blank" rel="noopener">kafka-connect-datagenのGitHub</a></li>
<li><a href="https://github.com/confluentinc" target="_blank" rel="noopener">ConfluentのGitHub</a></li>
<li><a href="https://kafka.apache.org/documentation/#quickstart" target="_blank" rel="noopener">Kafkaのクイックスタート</a></li>
<li><a href="https://docs.confluent.io/platform/current/installation/versions-interoperability.html#cp-and-apache-ak-compatibility" target="_blank" rel="noopener">Confluent
Platform and Apache Kafka Compatibility</a></li>
<li><a href="https://github.com/confluentinc/avro-random-generator" target="_blank" rel="noopener">avro-random-generator</a></li>
<li><a href="https://github.com/confluentinc/kafka-connect-datagen/tree/master/src/main/resources" target="_blank" rel="noopener">kafka-connect-datagenのサンプルスキーマ</a></li>
</ul>
<h1><span id="メモ">メモ</span></h1>
<p>2020/12時点で、Kafka Connectのプラグインの参考になるもの探す。</p>
<h2><span id="kafka-connect-syslog">kafka-connect-syslog</span></h2>
<p><a href="https://www.confluent.io/hub/confluentinc/kafka-connect-syslog" target="_blank" rel="noopener">kafka-connect-syslog</a>
が最も簡易に動作確認できそうだった。 ただ、 <a href="https://github.com/confluentinc" target="_blank" rel="noopener">ConfluentのGitHub</a>
を見る限り、GitHub上には実装が公開されていないようだった。</p>
<h3><span id="動作確認">動作確認</span></h3>
<p>ここでは、ローカルに簡易実験用の1プロセスのKafkaを起動した前提とする。
起動方法は <a href="https://kafka.apache.org/documentation/#quickstart" target="_blank" rel="noopener">Kafkaのクイックスタート</a>
を参照。</p>
<p><a href="https://www.confluent.io/hub/confluentinc/kafka-connect-syslog" target="_blank" rel="noopener">kafka-connect-syslog</a>
のパッケージをダウンロードして <code>/opt/connectors</code>
以下に展開。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cd /opt/connectors</span><br><span class="line">$ sudo unzip confluentinc-kafka-connect-syslog-1.3.2.zip</span><br><span class="line">$ sudo chown -R kafka:kafka confluentinc-kafka-connect-syslog-1.3.2</span><br></pre></td></tr></table></figure>
<p>というパッケージが展開される。</p>
<p>動作確認に使用するプロパティは以下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ cat etc/minimal-tcp.properties</span><br><span class="line">#</span><br><span class="line"># Copyright [2016 - 2019] Confluent Inc.</span><br><span class="line">#</span><br><span class="line"></span><br><span class="line">name=syslog-tcp</span><br><span class="line">tasks.max=1</span><br><span class="line">connector.class=io.confluent.connect.syslog.SyslogSourceConnector</span><br><span class="line">syslog.port=5515</span><br><span class="line">syslog.listener=TCP</span><br><span class="line">confluent.license</span><br><span class="line">confluent.topic.bootstrap.servers=localhost:9092</span><br><span class="line">confluent.topic.replication.factor=1</span><br></pre></td></tr></table></figure>
<p>また、Connectの設定には以下を追加する。</p>
<p>/opt/kafka_pseudo/default/config/connect-standalone.properties</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(snip)</span><br><span class="line"></span><br><span class="line">plugin.path=/usr/local/share/java,/usr/local/share/kafka/plugins,/opt/connectors,</span><br></pre></td></tr></table></figure>
<p>プラグインを置く場所として、 <code>/opt/connectors</code>
を指定した。</p>
<p><code>/opt/kafka_pseudo/default/bin/connect-standalone.sh</code>
を利用して、 スタンドアローンモードでKafka Connectを起動。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo -u kafka /opt/kafka_pseudo/default/bin/connect-standalone.sh /opt/kafka_pseudo/default/config/connect-standalone.properties \</span></span><br><span class="line">  /opt/connectors/confluentinc-kafka-connect-syslog-1.3.2/etc/minimal-tcp.properties</span><br></pre></td></tr></table></figure>
<p>起動したのを確認し、別の端末から適当なデータを送信。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="string">"&lt;34&gt;1 2003-10-11T22:14:15.003Z mymachine.example.com su - ID47 - Your refrigerator is running"</span> | nc -v -w 1 localhost 5515</span></span><br></pre></td></tr></table></figure>
<p>Console Consumerを利用して書き込み状況を確認。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> <span class="variable">$&#123;KAFKA_HOME&#125;</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic syslog --from-beginning</span></span><br></pre></td></tr></table></figure>
<p>先程書き込んだものが表示されるはずである。</p>
<h2><span id="kafka-connect-datagen">kafka-connect-datagen</span></h2>
<p><a href="https://www.confluent.io/hub/confluentinc/kafka-connect-datagen" target="_blank" rel="noopener">kafka-connect-datagen</a>
もあった。 <a href="https://github.com/confluentinc/kafka-connect-datagen" target="_blank" rel="noopener">kafka-connect-datagenのGitHub</a>
に実装も公開されているように見える。
ドキュメントのリンクから、当該レポジトリのREADMEにジャンプしたため、そのように判断。</p>
<p>以降、v0.4.0を対象として確認したものである。</p>
<h3><span id="概要">概要</span></h3>
<p>指定されたスキーマで、ダミーデータを生成するコネクタ。 <a href="https://github.com/confluentinc/avro-random-generator" target="_blank" rel="noopener">avro-random-generator</a>
を内部的に利用している。</p>
<p>スキーマ指定はAvroのスキーマファイルを渡す方法もあるし、
組み込みのスキーマを指定する方法もある。 <a href="https://github.com/confluentinc/kafka-connect-datagen/tree/master/src/main/resources" target="_blank" rel="noopener">kafka-connect-datagenのサンプルスキーマ</a>
を参照。</p>
<p>また、Kafkaに出力する際のフォーマットは指定可能。 Kafka
Connect自体の一般的なパラメータである、 <code>value.converter</code>
を指定すれば良い。 例えば以下の通り。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;value.converter&quot;: &quot;org.apache.kafka.connect.json.JsonConverter&quot;,</span><br></pre></td></tr></table></figure>
<h3><span id="実装状況">実装状況</span></h3>
<p>2020/12/21時点では本プロジェクトのバージョンは0.4.0であり、</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.confluent<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>common-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>の通り、Confluent Platformのバージョンとしては、6系である。</p>
<p><a href="https://docs.confluent.io/platform/current/installation/versions-interoperability.html#cp-and-apache-ak-compatibility" target="_blank" rel="noopener">Confluent
Platform and Apache Kafka Compatibility</a> によると、 Confluent
Platform 6系のKafkaバージョンは2.6.Xである。</p>
<h4><span id="ioconfluentkafkaconnectdatagendatagenconnector">io.confluent.kafka.connect.datagen.DatagenConnector</span></h4>
<p><code>io.confluent.kafka.connect.datagen.DatagenConnector</code>
クラスは、 <code>org.apache.kafka.connect.source.SourceConnector</code>
を継承している。 割と素直な実装。</p>
<p><code>io.confluent.kafka.connect.datagen.DatagenConnector#start</code>
メソッドは特別なことはしておらず、 コンフィグをロードするだけ。</p>
<p><code>io.confluent.kafka.connect.datagen.DatagenConnector#taskConfigs</code>
メソッドも 特別なことはしていない。start時に受け取ったプロパティから
taskConfigを生成して返す。</p>
<p><code>io.confluent.kafka.connect.datagen.DatagenConnector#stop</code>
メソッド および、
<code>io.confluent.kafka.connect.datagen.DatagenConnector#config</code>
もほぼ何もしない。</p>
<p>タスクには
<code>io.confluent.kafka.connect.datagen.DatagenTask</code>
クラスを利用する。</p>
<h4><span id="ioconfluentkafkaconnectdatagendatagentaskクラス">io.confluent.kafka.connect.datagen.DatagenTask
クラス</span></h4>
<p><code>io.confluent.kafka.connect.datagen.DatagenTask#start</code>
メソッドが overrideされている。 以下、ポイントを確認する。</p>
<p>オフセット管理の仕組みあり。</p>
<p>io/confluent/kafka/connect/datagen/DatagenTask.java:133</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, Object&gt; offset = context.offsetStorageReader().offset(sourcePartition);</span><br><span class="line"><span class="keyword">if</span> (offset != <span class="keyword">null</span>) &#123;</span><br><span class="line">  <span class="comment">//  The offset as it is stored contains our next state, so restore it as-is.</span></span><br><span class="line">  taskGeneration = ((Long) offset.get(TASK_GENERATION)).intValue();</span><br><span class="line">  count = ((Long) offset.get(CURRENT_ITERATION));</span><br><span class="line">  random.setSeed((Long) offset.get(RANDOM_SEED));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>io.confluent.avro.random.generator.Generator</code>
のジェネレータ（のビルダ）を利用する。</p>
<p>io/confluent/kafka/connect/datagen/DatagenTask.java:141</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Generator.Builder generatorBuilder = <span class="keyword">new</span> Generator.Builder()</span><br><span class="line">    .random(random)</span><br><span class="line">    .generation(count);</span><br></pre></td></tr></table></figure>
<p>クイックスタートの設定があれば、それに従ってスキーマを読み込む。</p>
<p>io/confluent/kafka/connect/datagen/DatagenTask.java:144</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">String quickstartName = config.getQuickstart();</span><br><span class="line"><span class="keyword">if</span> (quickstartName != <span class="string">""</span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    quickstart = Quickstart.valueOf(quickstartName.toUpperCase());</span><br><span class="line">    <span class="keyword">if</span> (quickstart != <span class="keyword">null</span>) &#123;</span><br><span class="line">      schemaFilename = quickstart.getSchemaFilename();</span><br><span class="line">      schemaKeyField = schemaKeyField.equals(<span class="string">""</span>)</span><br><span class="line">          ? quickstart.getSchemaKeyField() : schemaKeyField;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        generator = generatorBuilder</span><br><span class="line">            .schemaStream(getClass().getClassLoader().getResourceAsStream(schemaFilename))</span><br><span class="line">            .build();</span><br><span class="line">      &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> ConnectException(<span class="string">"Unable to read the '"</span></span><br><span class="line">            + schemaFilename + <span class="string">"' schema file"</span>, e);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (IllegalArgumentException e) &#123;</span><br><span class="line">    log.warn(<span class="string">"Quickstart '&#123;&#125;' not found: "</span>, quickstartName, e);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>指定されたクイックスタート名に従い、パッケージに含まれるスキーマファイルを読み込み、
それを適用しながらジェネレータを生成する。</p>
<p>なお、クイックスタートのたぐいはenumで定義されている。</p>
<p>io/confluent/kafka/connect/datagen/DatagenTask.java:75</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="keyword">enum</span> Quickstart &#123;</span><br><span class="line">  CLICKSTREAM_CODES(<span class="string">"clickstream_codes_schema.avro"</span>, <span class="string">"code"</span>),</span><br><span class="line">  CLICKSTREAM(<span class="string">"clickstream_schema.avro"</span>, <span class="string">"ip"</span>),</span><br><span class="line">  CLICKSTREAM_USERS(<span class="string">"clickstream_users_schema.avro"</span>, <span class="string">"user_id"</span>),</span><br><span class="line">  ORDERS(<span class="string">"orders_schema.avro"</span>, <span class="string">"orderid"</span>),</span><br><span class="line">  RATINGS(<span class="string">"ratings_schema.avro"</span>, <span class="string">"rating_id"</span>),</span><br><span class="line">  USERS(<span class="string">"users_schema.avro"</span>, <span class="string">"userid"</span>),</span><br><span class="line">  USERS_(<span class="string">"users_array_map_schema.avro"</span>, <span class="string">"userid"</span>),</span><br><span class="line">  PAGEVIEWS(<span class="string">"pageviews_schema.avro"</span>, <span class="string">"viewtime"</span>),</span><br><span class="line">  STOCK_TRADES(<span class="string">"stock_trades_schema.avro"</span>, <span class="string">"symbol"</span>),</span><br><span class="line">  INVENTORY(<span class="string">"inventory.avro"</span>, <span class="string">"id"</span>),</span><br><span class="line">  PRODUCT(<span class="string">"product.avro"</span>, <span class="string">"id"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> String schemaFilename;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> String keyName;</span><br><span class="line"></span><br><span class="line">  Quickstart(String schemaFilename, String keyName) &#123;</span><br><span class="line">    <span class="keyword">this</span>.schemaFilename = schemaFilename;</span><br><span class="line">    <span class="keyword">this</span>.keyName = keyName;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getSchemaFilename</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> schemaFilename;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getSchemaKeyField</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> keyName;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>クイックスタートが設定されておらず、スキーマの文字列が与えられた場合は、
それを用いてジェネレータが生成される。</p>
<p>io/confluent/kafka/connect/datagen/DatagenTask.java:164</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (schemaString != <span class="string">""</span>) &#123;</span><br><span class="line">  generator = generatorBuilder.schemaString(schemaString).build();</span><br></pre></td></tr></table></figure>
<p>それ以外の場合、つまりスキーマ定義の書かれたファイルを指定する場合は、
以下の通り。</p>
<p>io/confluent/kafka/connect/datagen/DatagenTask.java:166</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">      String err = <span class="string">"Unable to read the '"</span> + schemaFilename + <span class="string">"' schema file"</span>;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        generator = generatorBuilder.schemaStream(<span class="keyword">new</span> FileInputStream(schemaFilename)).build();</span><br><span class="line">      &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">        <span class="comment">// also look in jars on the classpath</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          generator = generatorBuilder</span><br><span class="line">              .schemaStream(DatagenTask.class.getClassLoader().getResourceAsStream(schemaFilename))</span><br><span class="line">              .build();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException inner) &#123;</span><br><span class="line">          <span class="keyword">throw</span> <span class="keyword">new</span> ConnectException(err, e);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> ConnectException(err, e);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>最後のAvroに関連する情報を生成して終了。</p>
<p>io/confluent/kafka/connect/datagen/DatagenTask.java:184</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">avroSchema = generator.schema();</span><br><span class="line">avroData = <span class="keyword">new</span> AvroData(<span class="number">1</span>);</span><br><span class="line">ksqlSchema = avroData.toConnectSchema(avroSchema);</span><br></pre></td></tr></table></figure>
<p><code>io.confluent.kafka.connect.datagen.DatagenTask#poll</code>
メソッドもoverrideされている。 以下、ポイントを記載する。</p>
<p>インターバル機能あり。</p>
<p>io/confluent/kafka/connect/datagen/DatagenTask.java:192</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (maxInterval &gt; <span class="number">0</span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    Thread.sleep((<span class="keyword">long</span>) (maxInterval * Math.random()));</span><br><span class="line">  &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">    Thread.interrupted();</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ジェネレータを利用し、オブジェクトを生成する。</p>
<p>io/confluent/kafka/connect/datagen/DatagenTask.java:201</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> Object generatedObject = generator.generate();</span><br><span class="line"><span class="keyword">if</span> (!(generatedObject <span class="keyword">instanceof</span> GenericRecord)) &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(String.format(</span><br><span class="line">      <span class="string">"Expected Avro Random Generator to return instance of GenericRecord, found %s instead"</span>,</span><br><span class="line">      generatedObject.getClass().getName()</span><br><span class="line">  ));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">final</span> GenericRecord randomAvroMessage = (GenericRecord) generatedObject;</span><br></pre></td></tr></table></figure>
<p>生成されたオブジェクトから、スキーマ定義に基づいてフィールドの値を取り出し、
バリューのArrayListを生成する。</p>
<p>io/confluent/kafka/connect/datagen/DatagenTask.java:210</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> List&lt;Object&gt; genericRowValues = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (org.apache.avro.Schema.Field field : avroSchema.getFields()) &#123;</span><br><span class="line">  <span class="keyword">final</span> Object value = randomAvroMessage.get(field.name());</span><br><span class="line">  <span class="keyword">if</span> (value <span class="keyword">instanceof</span> Record) &#123;</span><br><span class="line">    <span class="keyword">final</span> Record record = (Record) value;</span><br><span class="line">    <span class="keyword">final</span> Object ksqlValue = avroData.toConnectData(record.getSchema(), record).value();</span><br><span class="line">    Object optionValue = getOptionalValue(ksqlSchema.field(field.name()).schema(), ksqlValue);</span><br><span class="line">    genericRowValues.add(optionValue);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    genericRowValues.add(value);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>キーも同様に取り出し、Kafka Connectの形式に変換する。</p>
<p>io/confluent/kafka/connect/datagen/DatagenTask.java:224</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SchemaAndValue key = <span class="keyword">new</span> SchemaAndValue(DEFAULT_KEY_SCHEMA, <span class="keyword">null</span>);</span><br><span class="line"><span class="keyword">if</span> (!schemaKeyField.isEmpty()) &#123;</span><br><span class="line">  key = avroData.toConnectData(</span><br><span class="line">      randomAvroMessage.getSchema().getField(schemaKeyField).schema(),</span><br><span class="line">      randomAvroMessage.get(schemaKeyField)</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>先程ArrayListとして取り出したバリューもKafka
Connect形式に変換する。</p>
<p>io/confluent/kafka/connect/datagen/DatagenTask.java:233</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> org.apache.kafka.connect.data.Schema messageSchema = avroData.toConnectSchema(avroSchema);</span><br><span class="line"><span class="keyword">final</span> Object messageValue = avroData.toConnectData(avroSchema, randomAvroMessage).value();</span><br></pre></td></tr></table></figure>
<p>イテレートのたびに、メタデータを更新する。</p>
<p>io/confluent/kafka/connect/datagen/DatagenTask.java:246</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The source offsets will be the values that the next task lifetime will restore from</span></span><br><span class="line"><span class="comment">// Essentially, the "next" state of the connector after this loop completes</span></span><br><span class="line">Map&lt;String, Object&gt; sourceOffset = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"><span class="comment">// The next lifetime will be a member of the next generation.</span></span><br><span class="line">sourceOffset.put(TASK_GENERATION, taskGeneration + <span class="number">1</span>);</span><br><span class="line"><span class="comment">// We will have produced this record</span></span><br><span class="line">sourceOffset.put(CURRENT_ITERATION, count + <span class="number">1</span>);</span><br><span class="line"><span class="comment">// This is the seed that we just re-seeded for our own next iteration.</span></span><br><span class="line">sourceOffset.put(RANDOM_SEED, seed);</span><br></pre></td></tr></table></figure>
<p>最後に、SourceRecordのリスト形式に変換し、
レコードとして生成して戻り値として返す。</p>
<p>io/confluent/kafka/connect/datagen/DatagenTask.java:261</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> List&lt;SourceRecord&gt; records = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">SourceRecord record = <span class="keyword">new</span> SourceRecord(</span><br><span class="line">    sourcePartition,</span><br><span class="line">    sourceOffset,</span><br><span class="line">    topic,</span><br><span class="line">    <span class="keyword">null</span>,</span><br><span class="line">    key.schema(),</span><br><span class="line">    key.value(),</span><br><span class="line">    messageSchema,</span><br><span class="line">    messageValue,</span><br><span class="line">    <span class="keyword">null</span>,</span><br><span class="line">    headers</span><br><span class="line">);</span><br><span class="line">records.add(record);</span><br><span class="line">count += records.size();</span><br><span class="line"><span class="keyword">return</span> records;</span><br></pre></td></tr></table></figure>
<p>つづいて、
<code>io.confluent.kafka.connect.datagen.DatagenTask#stop</code>
メソッドだが、 これは特に何もしない。</p>
<p><code>io.confluent.kafka.connect.datagen.DatagenTask#getOptionalSchema</code>
という
オプショナルなフィールドに関するスキーマを取得するためのヘルパーメソッドもある。
<code>io.confluent.kafka.connect.datagen.DatagenTask#getOptionalValue</code>
メソッドもある。</p>
<h3><span id="動作確認">動作確認</span></h3>
<p>confluentinc-kafka-connect-datagen-0.4.0.zip をダウンロードし、
<code>/opt/connectors</code>以下に展開したものとする。</p>
<p>今回は以下の設定ファイルを参考に、データ生成してみる。
なお、イテレーション回数は適度に修正して用いることを推奨する。</p>
<p>confluentinc-kafka-connect-datagen-0.4.0/etc/connector_users.config</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"datagen-users"</span>,</span><br><span class="line">  <span class="attr">"config"</span>: &#123;</span><br><span class="line">    <span class="attr">"connector.class"</span>: <span class="string">"io.confluent.kafka.connect.datagen.DatagenConnector"</span>,</span><br><span class="line">    <span class="attr">"kafka.topic"</span>: <span class="string">"users"</span>,</span><br><span class="line">    <span class="attr">"quickstart"</span>: <span class="string">"users"</span>,</span><br><span class="line">    <span class="attr">"key.converter"</span>: <span class="string">"org.apache.kafka.connect.storage.StringConverter"</span>,</span><br><span class="line">    <span class="attr">"value.converter"</span>: <span class="string">"org.apache.kafka.connect.json.JsonConverter"</span>,</span><br><span class="line">    <span class="attr">"value.converter.schemas.enable"</span>: <span class="string">"false"</span>,</span><br><span class="line">    <span class="attr">"max.interval"</span>: <span class="number">1000</span>,</span><br><span class="line">    <span class="attr">"iterations"</span>: <span class="number">10000000</span>,</span><br><span class="line">    <span class="attr">"tasks.max"</span>: <span class="string">"1"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上記はconfluentコマンド用で利用する際のコンフィグファイルである。
そこで以下のようなKafka Connect用の設定ファイルを生成する。</p>
<p>/opt/connectors/confluentinc-kafka-connect-datagen-0.4.0/etc/connector_users.properties</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">name=users</span><br><span class="line">connector.class=io.confluent.kafka.connect.datagen.DatagenConnector</span><br><span class="line">kafka.topic=users</span><br><span class="line">quickstart=users</span><br><span class="line">key.converter=org.apache.kafka.connect.storage.StringConverter</span><br><span class="line">value.converter=org.apache.kafka.connect.json.JsonConverter</span><br><span class="line">value.converter.schemas.enable=false</span><br><span class="line">max.interval=1000</span><br><span class="line">iterations=10</span><br><span class="line">tasks.max=1</span><br></pre></td></tr></table></figure>
<p>スタンドアローンモードでKafka Connectを起動する。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo -u kafka /opt/kafka_pseudo/default/bin/connect-standalone.sh \</span></span><br><span class="line">  /opt/kafka_pseudo/default/config/connect-standalone.properties \</span><br><span class="line">  /opt/connectors/confluentinc-kafka-connect-datagen-0.4.0/etc/connector_users.properties</span><br></pre></td></tr></table></figure>
<p>停止した後、結果を確認する。 トピックが作られたことがわかる。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> /opt/kafka_pseudo/default/bin/kafka-topics.sh --bootstrap-server localhost:9092 --list</span></span><br><span class="line">__consumer_offsets</span><br><span class="line">_confluent-command</span><br><span class="line">syslog</span><br><span class="line">users</span><br></pre></td></tr></table></figure>
<p>データを確認する。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> /opt/kafka_pseudo/default/bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic users --from-beginning</span></span><br><span class="line">&#123;"registertime":1501850210149,"userid":"User_8","regionid":"Region_3","gender":"FEMALE"&#125;</span><br><span class="line">&#123;"registertime":1516539876299,"userid":"User_2","regionid":"Region_7","gender":"OTHER"&#125;</span><br><span class="line">&#123;"registertime":1505292095234,"userid":"User_4","regionid":"Region_1","gender":"OTHER"&#125;</span><br><span class="line">&#123;"registertime":1502118362741,"userid":"User_3","regionid":"Region_1","gender":"FEMALE"&#125;</span><br><span class="line">&#123;"registertime":1503193759324,"userid":"User_9","regionid":"Region_5","gender":"MALE"&#125;</span><br><span class="line">&#123;"registertime":1507693509191,"userid":"User_1","regionid":"Region_8","gender":"OTHER"&#125;</span><br><span class="line">&#123;"registertime":1497764008309,"userid":"User_1","regionid":"Region_6","gender":"OTHER"&#125;</span><br><span class="line">&#123;"registertime":1514606256206,"userid":"User_1","regionid":"Region_3","gender":"MALE"&#125;</span><br><span class="line">&#123;"registertime":1492595638722,"userid":"User_2","regionid":"Region_6","gender":"MALE"&#125;</span><br><span class="line">&#123;"registertime":1500602208014,"userid":"User_3","regionid":"Region_1","gender":"MALE"&#125;</span><br></pre></td></tr></table></figure>
<p>ダミーデータが生成されていることが確認できた。</p>
<p>（WIP）</p>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2020/12/16/Reference-of-connector-plugin/" data-id="clkw1cpr4019v1vmw3mbk1l10" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-Create-project-includes-sbt-launcher" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2020/12/07/Create-project-includes-sbt-launcher/">Create projects includes sbt launcher</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2020/12/07/Create-project-includes-sbt-launcher/">
            <time datetime="2020-12-06T16:12:13.000Z" itemprop="datePublished">2020-12-07</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Scala/">Scala</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Scala/SBT/">SBT</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/SBT/">SBT</a>, <a class="tag-link" href="/memo-blog/tags/Scala/">Scala</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#参考" id="toc-参考">参考</a></li>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#coursierプロジェクト" id="toc-coursierプロジェクト">Coursierプロジェクト</a></li>
<li><a href="#補足sbt-launcher-packageプロジェクト" id="toc-補足sbt-launcher-packageプロジェクト">（補足）sbt-launcher-packageプロジェクト</a></li>
<li><a href="#補足launcherプロジェクト" id="toc-補足launcherプロジェクト">（補足）launcherプロジェクト</a></li>
</ul></li>
</ul>
</div>
<h1><span id="参考">参考</span></h1>
<ul>
<li><a href="https://github.com/sbt/launcher" target="_blank" rel="noopener">launcher</a></li>
<li><a href="https://github.com/sbt/sbt-launcher-package" target="_blank" rel="noopener">sbt-launcher-package</a></li>
<li><a href="https://nomadblacky.hatenablog.com/entry/2020/03/22/164815" target="_blank" rel="noopener">Coursier
を使って最速でScalaの開発環境を整える</a></li>
<li><a href="https://get-coursier.io/docs/cli-installation" target="_blank" rel="noopener">csのインストール</a></li>
</ul>
<h1><span id="メモ">メモ</span></h1>
<p>プロジェクト内に、sbt自体を含めてクローンしただけでビルドできるようにしたい、という動機。
現時点ではCoursierプロジェクトが汎用性※が高く便利であると、個人的には感じた。</p>
<p>※ここでは、多くの環境で実行可能で、様々なツールを一度にセットアップ可能という意味。</p>
<h2><span id="coursierプロジェクト">Coursierプロジェクト</span></h2>
<p><a href="https://nomadblacky.hatenablog.com/entry/2020/03/22/164815" target="_blank" rel="noopener">Coursier
を使って最速でScalaの開発環境を整える</a>
のブログに記載されているとおり、 Scala開発環境を簡単に整えられる。</p>
<p>ひとまずDocker内で試す。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> sudo docker pull ubuntu:18.04</span><br><span class="line"><span class="meta">$</span> sudo docker run -rm -it -d --name ubu ubuntu:18.04</span><br><span class="line"><span class="meta">$</span> sudo docker exec -it ubu /bin/bash</span><br></pre></td></tr></table></figure>
<p>Dockerコンテナ内でインストール。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> apt update</span><br><span class="line"><span class="meta">#</span> apt install -y curl</span><br><span class="line"><span class="meta">#</span> curl -fLo cs https://git.io/coursier-cli-linux &amp;&amp;</span><br><span class="line">     chmod +x cs &amp;&amp;</span><br><span class="line">     ./cs</span><br></pre></td></tr></table></figure>
<p>結果として以下がインストールされた様子。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Checking if the standard Scala applications are installed</span><br><span class="line">  Installed ammonite</span><br><span class="line">  Installed cs</span><br><span class="line">  Installed coursier</span><br><span class="line">  Installed scala</span><br><span class="line">  Installed scalac</span><br><span class="line">  Installed sbt</span><br><span class="line">  Installed sbtn</span><br><span class="line">  Installed scalafmt</span><br></pre></td></tr></table></figure>
<p><code>~/.profile</code>に環境変数等がまとまっているので有効化する。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># source ~/.profile</span><br></pre></td></tr></table></figure>
<p>これでインストールされたコマンドが使用できるようになった。</p>
<p>なお、参考までに上記でダウンロードしたcsコマンドは以下の通り。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">$ ./cs setup --help</span><br><span class="line">Command: setup</span><br><span class="line">Usage: cs setup</span><br><span class="line">  --jvm  &lt;string?&gt;</span><br><span class="line">  --jvm-dir  &lt;string?&gt;</span><br><span class="line">  --system-jvm  &lt;bool?&gt;</span><br><span class="line">  --local-only  &lt;bool&gt;</span><br><span class="line">  --update  &lt;bool&gt;</span><br><span class="line">  --jvm-index  &lt;string?&gt;</span><br><span class="line">  --graalvm-home  &lt;string?&gt;</span><br><span class="line">  --graalvm-option  &lt;string*&gt;</span><br><span class="line">  --graalvm-default-version  &lt;string?&gt;</span><br><span class="line">  --install-dir | --dir  &lt;string?&gt;</span><br><span class="line">  --install-platform  &lt;string?&gt;</span><br><span class="line">        Platform for prebuilt binaries (e.g. &quot;x86_64-pc-linux&quot;, &quot;x86_64-apple-darwin&quot;, &quot;x86_64-pc-win32&quot;)</span><br><span class="line">  --install-prefer-prebuilt  &lt;bool&gt;</span><br><span class="line">  --only-prebuilt  &lt;bool&gt;</span><br><span class="line">        Require prebuilt artifacts for native applications, don&apos;t try to build native executable ourselves</span><br><span class="line">  --repository | -r  &lt;maven|sonatype:$repo|ivy2local|bintray:$org/$repo|bintray-ivy:$org/$repo|typesafe:ivy-$repo|typesafe:$repo|sbt-plugin:$repo|ivy:$pattern&gt;</span><br><span class="line">        Repository - for multiple repositories, separate with comma and/or add this option multiple times (e.g. -r central,ivy2local -r sonatype:snapshots, or equivalently -r central,ivy2local,sonatype:snapshots)</span><br><span class="line">  --default-repositories  &lt;bool&gt;</span><br><span class="line">  --proguarded  &lt;bool?&gt;</span><br><span class="line">  --channel  &lt;org:name&gt;</span><br><span class="line">        Channel for apps</span><br><span class="line">  --default-channels  &lt;bool&gt;</span><br><span class="line">        Add default channels</span><br><span class="line">  --contrib  &lt;bool&gt;</span><br><span class="line">        Add contrib channel</span><br><span class="line">  --file-channels  &lt;bool&gt;</span><br><span class="line">        Add channels read from the configuration directory</span><br><span class="line">  --cache  &lt;string?&gt;</span><br><span class="line">        Cache directory (defaults to environment variable COURSIER_CACHE, or ~/.cache/coursier/v1 on Linux and ~/Library/Caches/Coursier/v1 on Mac)</span><br><span class="line">  --mode | -m  &lt;offline|update-changing|update|missing|force&gt;</span><br><span class="line">        Download mode (default: missing, that is fetch things missing from cache)</span><br><span class="line">  --ttl | -l  &lt;duration&gt;</span><br><span class="line">        TTL duration (e.g. &quot;24 hours&quot;)</span><br><span class="line">  --parallel | -n  &lt;int&gt;</span><br><span class="line">        Maximum number of parallel downloads (default: 6)</span><br><span class="line">  --checksum  &lt;checksum1,checksum2,...&gt;</span><br><span class="line">        Checksum types to check - end with none to allow for no checksum validation if no checksum is available, example: SHA-256,SHA-1,none</span><br><span class="line">  --retry-count  &lt;int&gt;</span><br><span class="line">        Retry limit for Checksum error when fetching a file</span><br><span class="line">  --cache-file-artifacts | --cfa  &lt;bool&gt;</span><br><span class="line">        Flag that specifies if a local artifact should be cached.</span><br><span class="line">  --follow-http-to-https-redirect  &lt;bool&gt;</span><br><span class="line">        Whether to follow http to https redirections</span><br><span class="line">  --credentials  &lt;host(realm) user:pass|host user:pass&gt;</span><br><span class="line">        Credentials to be used when fetching metadata or artifacts. Specify multiple times to pass multiple credentials. Alternatively, use the COURSIER_CREDENTIALS environment variable</span><br><span class="line">  --credential-file  &lt;string*&gt;</span><br><span class="line">        Path to credential files to read credentials from</span><br><span class="line">  --use-env-credentials  &lt;bool&gt;</span><br><span class="line">        Whether to read credentials from COURSIER_CREDENTIALS (env) or coursier.credentials (Java property), along those passed with --credentials and --credential-file</span><br><span class="line">  --quiet | -q  &lt;counter&gt;</span><br><span class="line">        Quiet output</span><br><span class="line">  --verbose | -v  &lt;counter&gt;</span><br><span class="line">        Increase verbosity (specify several times to increase more)</span><br><span class="line">  --progress | -P  &lt;bool&gt;</span><br><span class="line">        Force display of progress bars</span><br><span class="line">  --env  &lt;bool&gt;</span><br><span class="line">  --user-home  &lt;string?&gt;</span><br><span class="line">  --banner  &lt;bool?&gt;</span><br><span class="line">  --yes | -y  &lt;bool?&gt;</span><br><span class="line">  --try-revert  &lt;bool&gt;</span><br><span class="line">  --apps  &lt;string*&gt;</span><br></pre></td></tr></table></figure>
<h2><span id="補足sbt-launcher-packageプロジェクト">（補足）sbt-launcher-packageプロジェクト</span></h2>
<p><a href="https://github.com/sbt/sbt-launcher-package" target="_blank" rel="noopener">sbt-launcher-package</a>
をビルドすることでSBTランチャーを提供できそうだった。</p>
<h2><span id="補足launcherプロジェクト">（補足）launcherプロジェクト</span></h2>
<p>https://github.com/sbt/launcher/blob/1.x/.java-version
にも記載されているとおり、 JDK7系にしか公式に対応していなかった。</p>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2020/12/07/Create-project-includes-sbt-launcher/" data-id="clkw1cp6500291vmwy8lyucmj" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-Read-and-write-data-on-Delta-Lake-streaming-manner" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2020/11/19/Read-and-write-data-on-Delta-Lake-streaming-manner/">Read and write data on Delta Lake streaming manner</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2020/11/19/Read-and-write-data-on-Delta-Lake-streaming-manner/">
            <time datetime="2020-11-18T15:11:42.000Z" itemprop="datePublished">2020-11-19</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Storage-Layer/">Storage Layer</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Storage-Layer/Delta-Lake/">Delta Lake</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/Delta-Lake/">Delta Lake</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#参考" id="toc-参考">参考</a></li>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#準備sbt" id="toc-準備sbt">準備（SBT）</a></li>
<li><a href="#簡単なビルドと実行の例" id="toc-簡単なビルドと実行の例">簡単なビルドと実行の例</a></li>
<li><a href="#書き込み" id="toc-書き込み">書き込み</a>
<ul>
<li><a href="#appendモード" id="toc-appendモード">Appendモード</a></li>
<li><a href="#completeモード" id="toc-completeモード">Completeモード</a></li>
</ul></li>
<li><a href="#読み出し" id="toc-読み出し">読み出し</a>
<ul>
<li><a href="#準備" id="toc-準備">準備</a></li>
<li><a href="#ストリームで読み込んでみる" id="toc-ストリームで読み込んでみる">ストリームで読み込んでみる</a></li>
<li><a href="#読み込み時の-maxfilespertrigger-オプション" id="toc-読み込み時の-maxfilespertrigger-オプション">読み込み時の
maxFilesPerTrigger オプション</a></li>
<li><a href="#読み込み時の-maxbytespertrigger-オプション" id="toc-読み込み時の-maxbytespertrigger-オプション">読み込み時の
maxBytesPerTrigger オプション</a></li>
<li><a href="#追記ではなく更新したらどうなるか" id="toc-追記ではなく更新したらどうなるか">追記ではなく更新したらどうなるか？</a></li>
<li><a href="#読み込み時の-ignoredeletes-オプション" id="toc-読み込み時の-ignoredeletes-オプション">読み込み時の
ignoreDeletes オプション</a></li>
<li><a href="#読み込み時の-ignorechanges-オプション" id="toc-読み込み時の-ignorechanges-オプション">読み込み時の
ignoreChanges オプション</a></li>
</ul></li>
<li><a href="#org.apache.spark.sql.delta.sources.deltasource-クラスについて" id="toc-org.apache.spark.sql.delta.sources.deltasource-クラスについて">org.apache.spark.sql.delta.sources.DeltaSource
クラスについて</a>
<ul>
<li><a href="#org.apache.spark.sql.delta.sources.deltasourcegetchanges-メソッド" id="toc-org.apache.spark.sql.delta.sources.deltasourcegetchanges-メソッド">org.apache.spark.sql.delta.sources.DeltaSource#getChanges
メソッド</a></li>
<li><a href="#org.apache.spark.sql.delta.sources.deltasourcegetsnapshotat-メソッド" id="toc-org.apache.spark.sql.delta.sources.deltasourcegetsnapshotat-メソッド">org.apache.spark.sql.delta.sources.DeltaSource#getSnapshotAt
メソッド</a></li>
<li><a href="#org.apache.spark.sql.delta.sources.deltasourcegetchangeswithratelimit-メソッド" id="toc-org.apache.spark.sql.delta.sources.deltasourcegetchangeswithratelimit-メソッド">org.apache.spark.sql.delta.sources.DeltaSource#getChangesWithRateLimit
メソッド</a></li>
<li><a href="#org.apache.spark.sql.delta.sources.deltasourcegetstartingoffset-メソッド" id="toc-org.apache.spark.sql.delta.sources.deltasourcegetstartingoffset-メソッド">org.apache.spark.sql.delta.sources.DeltaSource#getStartingOffset
メソッド</a></li>
<li><a href="#org.apache.spark.sql.delta.sources.deltasourcelatestoffset-メソッド" id="toc-org.apache.spark.sql.delta.sources.deltasourcelatestoffset-メソッド">org.apache.spark.sql.delta.sources.DeltaSource#latestOffset
メソッド</a></li>
<li><a href="#org.apache.spark.sql.delta.sources.deltasourceverifystreamhygieneandfilteraddfiles-メソッド" id="toc-org.apache.spark.sql.delta.sources.deltasourceverifystreamhygieneandfilteraddfiles-メソッド">org.apache.spark.sql.delta.sources.DeltaSource#verifyStreamHygieneAndFilterAddFiles
メソッド</a></li>
<li><a href="#org.apache.spark.sql.delta.sources.deltasourcegetbatch-メソッド" id="toc-org.apache.spark.sql.delta.sources.deltasourcegetbatch-メソッド">org.apache.spark.sql.delta.sources.DeltaSource#getBatch
メソッド</a></li>
</ul></li>
<li><a href="#org.apache.spark.sql.delta.sources.deltasource.admissionlimits-クラスについて" id="toc-org.apache.spark.sql.delta.sources.deltasource.admissionlimits-クラスについて">org.apache.spark.sql.delta.sources.DeltaSource.AdmissionLimits
クラスについて</a>
<ul>
<li><a href="#org.apache.spark.sql.delta.sources.deltasource.admissionlimitstoreadlimit-メソッド" id="toc-org.apache.spark.sql.delta.sources.deltasource.admissionlimitstoreadlimit-メソッド">org.apache.spark.sql.delta.sources.DeltaSource.AdmissionLimits#toReadLimit
メソッド</a></li>
<li><a href="#org.apache.spark.sql.delta.sources.deltasource.admissionlimitsadmit-メソッド" id="toc-org.apache.spark.sql.delta.sources.deltasource.admissionlimitsadmit-メソッド">org.apache.spark.sql.delta.sources.DeltaSource.AdmissionLimits#admit
メソッド</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<h1><span id="参考">参考</span></h1>
<ul>
<li><a href="https://github.com/dobachi/StructuredStreamingDeltaLakeExample" target="_blank" rel="noopener">dobachi's
StructuredStreamingDeltaLakeExample</a></li>
<li><a href="https://www.scala-sbt.org/" target="_blank" rel="noopener">sbt</a></li>
<li><a href="https://dev.classmethod.jp/articles/merit-to-use-spark-testing-base-on-spark-unittest/" target="_blank" rel="noopener">SparkのUnitTest作成でspark-testing-base</a></li>
<li><a href="https://github.com/holdenk/spark-testing-base/" target="_blank" rel="noopener">spark-testing-base</a></li>
<li><a href="https://github.com/dobachi/sparkProjectTemplate.g8" target="_blank" rel="noopener">dobachi's
sparkProjectTemplate.g8</a></li>
<li><a href="https://github.com/dobachi/spark-sbt.g8" target="_blank" rel="noopener">dobachi's
spark-sbt</a></li>
<li><a href="https://github.com/apache/spark/blob/master/examples/src/main/scala/org/apache/spark/examples/sql/streaming/StructuredNetworkWordCount.scala" target="_blank" rel="noopener">StructuredNetworkWordCount</a></li>
<li><a href="https://docs.delta.io/latest/delta-streaming.html#delta-table-as-a-sink" target="_blank" rel="noopener">Delta
table as a sink</a></li>
<li><a href="https://docs.delta.io/latest/delta-streaming.html#delta-table-as-a-stream-source" target="_blank" rel="noopener">Delta
table as a stream source</a></li>
<li><a href="https://docs.delta.io/latest/delta-streaming.html#ignore-updates-and-deletes" target="_blank" rel="noopener">Ignore
updates and deletes</a></li>
</ul>
<h1><span id="メモ">メモ</span></h1>
<h2><span id="準備sbt">準備（SBT）</span></h2>
<p>今回はSBTを利用してSalaを用いたSparkアプリケーションで試すことにする。
<a href="https://www.scala-sbt.org/" target="_blank" rel="noopener">sbt</a>
を参考にSBTをセットアップする。（基本的には対象バージョンをダウンロードして置くだけ）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mkdir -p ~/Sources</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> ~/Sources</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sbt new dobachi/spark-sbt.g8</span></span><br></pre></td></tr></table></figure>
<p>ここでは、 [dobachi's spark-sbt.g8]
を利用してSpark3.0.1の雛形を作った。
対話的に色々聞かれるので、ほぼデフォルトで生成。</p>
<p>ここでは、 <a href="https://github.com/apache/spark/blob/master/examples/src/main/scala/org/apache/spark/examples/sql/streaming/StructuredNetworkWordCount.scala" target="_blank" rel="noopener">StructuredNetworkWordCount</a>
を参考に、Word Countした結果をDelta Lakeに書き込むことにする。</p>
<p>なお、以降の例で示しているアプリケーションは、すべて <a href="https://github.com/dobachi/StructuredStreamingDeltaLakeExample" target="_blank" rel="noopener">dobachi's
StructuredStreamingDeltaLakeExample</a> に含まれている。</p>
<h2><span id="簡単なビルドと実行の例">簡単なビルドと実行の例</span></h2>
<p>以下のように予めncコマンドを起動しておく。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> nc -lk 9999</span></span><br></pre></td></tr></table></figure>
<p>続いて、別のターミナルでアプリケーションをビルドして実行。（ncコマンドを起動したターミナルは一旦保留）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> structured_streaming_deltalake</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sbt assembly</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> /opt/spark/default/bin/spark-submit --class com.example.StructuredStreamingDeltaLakeExample target/scala-2.12/structured_streaming_deltalake-assembly-0.0.1.jar localhost 9999</span></span><br></pre></td></tr></table></figure>
<p>先程起動したncコマンドの引数に合わせ、9999ポートに接続する。
Structured
Streamingが起動したら、ncコマンド側で、適当な文字列（単語）を入力する（以下は例）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hoge hoge fuga</span><br><span class="line">fuga fuga</span><br><span class="line">fuga fuga hoge</span><br></pre></td></tr></table></figure>
<p>もうひとつターミナルを開き、spark-shellを起動する。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> /opt/spark/default/bin/spark-shell --packages io.delta:delta-core_2.12:0.7.0 --conf <span class="string">"spark.sql.extensions=io.delta.sql.DeltaSparkSessionExtension"</span> --conf <span class="string">"spark.sql.catalog.spark_catalog=org.apache.spark.sql.delta.catalog.DeltaCatalog"</span></span></span><br></pre></td></tr></table></figure>
<p>アプリケーションで出力先としたディレクトリ内のDelta
Lakeテーブルを参照すると、以下のようにテーブルが更新されていることがわかる。
ひとまずncコマンドでいろいろな単語を入力して挙動を試すと良い。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> df = spark.read.format(<span class="string">"delta"</span>).load(<span class="string">"/tmp/delta/wordcount"</span>)</span><br><span class="line">df: org.apache.spark.sql.<span class="type">DataFrame</span> = [value: string, count: bigint]</span><br><span class="line"></span><br><span class="line">scala&gt; df.show</span><br><span class="line">+-----+-----+</span><br><span class="line">|value|count|</span><br><span class="line">+-----+-----+</span><br><span class="line">| fuga|    <span class="number">5</span>|</span><br><span class="line">| hoge|    <span class="number">3</span>|</span><br><span class="line">+-----+-----+</span><br></pre></td></tr></table></figure>
<p>(wip)</p>
<h2><span id="書き込み">書き込み</span></h2>
<p><a href="https://docs.delta.io/latest/delta-streaming.html#delta-table-as-a-sink" target="_blank" rel="noopener">Delta
table as a sink</a> の通り、Delta
LakeテーブルをSink（つまり書き込み先）として利用する際には、
AppendモードとCompleteモードのそれぞれが使える。</p>
<h3><span id="appendモード">Appendモード</span></h3>
<p>例のごとく、ncコマンドを起動し、アプリケーションを実行。（予めsbt
assemblyしておく） もうひとつターミナルを開き、spark-shellでDelta
Lakeテーブルの中身を確認する。</p>
<p>ターミナル1</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> nc -lk 9999</span></span><br></pre></td></tr></table></figure>
<p>ターミナル2</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> /opt/spark/default/bin/spark-submit --class com.example.StructuredStreamingDeltaLakeAppendExample</span></span><br><span class="line">target/scala-2.12/structured_streaming_deltalake-assembly-0.0.1.jar localhost 9999</span><br></pre></td></tr></table></figure>
<p>ターミナル3</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> /opt/spark/default/bin/spark-shell --packages io.delta:delta-core_2.12:0.7.0 --conf <span class="string">"spark.sql.extensions=io.delta.sql.DeltaSparkSessionExtension"</span> --conf <span class="string">"spark.sql.catalog.spark_catalog=org.apache.spark.sql.delta.catalog.DeltaCatalog"</span></span></span><br></pre></td></tr></table></figure>
<p>ターミナル1のncで適当な単語列を入力する。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hoge hoge</span><br></pre></td></tr></table></figure>
<p>ターミナル3のspark-shellでDelta Lakeテーブルの中身を確認する。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> df = spark.read.format(<span class="string">"delta"</span>).load(<span class="string">"/tmp/delta/wordcount_per_line"</span>)</span><br><span class="line">df: org.apache.spark.sql.<span class="type">DataFrame</span> = [unixtime: bigint, count: bigint]</span><br><span class="line"></span><br><span class="line">scala&gt; df.show</span><br><span class="line">+-------------+-----+</span><br><span class="line">|     unixtime|count|</span><br><span class="line">+-------------+-----+</span><br><span class="line">|<span class="number">1605968491821</span>|    <span class="number">2</span>|</span><br><span class="line">+-------------+-----+</span><br></pre></td></tr></table></figure>
<p>何度かncコマンド経由でテキストを流し込むと、以下のように行が加わるkとがわかる。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; df.show</span><br><span class="line">+-------------+-----+</span><br><span class="line">|     unixtime|count|</span><br><span class="line">+-------------+-----+</span><br><span class="line">|1605968491821|    2|</span><br><span class="line">+-------------+-----+</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">scala&gt; df.show</span><br><span class="line">+-------------+-----+</span><br><span class="line">|     unixtime|count|</span><br><span class="line">+-------------+-----+</span><br><span class="line">|1605968518584|    2|</span><br><span class="line">|1605968522461|    3|</span><br><span class="line">|1605968491821|    2|</span><br><span class="line">+-------------+-----+</span><br></pre></td></tr></table></figure>
<h3><span id="completeモード">Completeモード</span></h3>
<p>Completeモードは、上記のWordCountの例がそのまま例になっている。
<code>com.example.StructuredStreamingDeltaLakeExample</code> 参照。</p>
<h2><span id="読み出し">読み出し</span></h2>
<p><a href="https://docs.delta.io/latest/delta-streaming.html#delta-table-as-a-stream-source" target="_blank" rel="noopener">Delta
table as a stream source</a> の通り、既存のDelta
Lakeテーブルからストリームデータを取り出す。</p>
<h3><span id="準備">準備</span></h3>
<p>ひとまずDelta Lakeのテーブルを作る。
ここではspark-shellで適当に作成する。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> /opt/spark/default/bin/spark-shell --packages io.delta:delta-core_2.12:0.7.0 --conf <span class="string">"spark.sql.extensions=io.delta.sql.DeltaSparkSessionExtension"</span> --conf <span class="string">"spark.sql.catalog.spark_catalog=org.apache.spark.sql.delta.catalog.DeltaCatalog"</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> df = spark.read.format(<span class="string">"parquet"</span>).load(<span class="string">"/opt/spark/default/examples/src/main/resources/users.parquet"</span>)</span><br><span class="line">scala&gt; df.show</span><br><span class="line">+------+--------------+----------------+</span><br><span class="line">|  name|favorite_color|favorite_numbers|</span><br><span class="line">+------+--------------+----------------+</span><br><span class="line">|<span class="type">Alyssa</span>|          <span class="literal">null</span>|  [<span class="number">3</span>, <span class="number">9</span>, <span class="number">15</span>, <span class="number">20</span>]|</span><br><span class="line">|   <span class="type">Ben</span>|           red|              []|</span><br><span class="line">+------+--------------+----------------+</span><br><span class="line"></span><br><span class="line">scala&gt; df.write.format(<span class="string">"delta"</span>).save(<span class="string">"/tmp/delta/users"</span>)</span><br></pre></td></tr></table></figure>
<p>上記のDataFrameのスキーマは以下の通り。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; df.printSchema</span><br><span class="line">root</span><br><span class="line"> |-- name: string (nullable = <span class="literal">true</span>)</span><br><span class="line"> |-- favorite_color: string (nullable = <span class="literal">true</span>)</span><br><span class="line"> |-- favorite_numbers: array (nullable = <span class="literal">true</span>)</span><br><span class="line"> |    |-- element: integer (containsNull = <span class="literal">true</span>)</span><br></pre></td></tr></table></figure>
<h3><span id="ストリームで読み込んでみる">ストリームで読み込んでみる</span></h3>
<p>もうひとつターミナルを立ち上げる。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> /opt/spark/default/bin/spark-submit --class com.example.StructuredStreamingDeltaLakeReadExample target/scala-2.12/structured_streaming_deltalake-assembly-0.0.1.jar /tmp/delta/users</span></span><br></pre></td></tr></table></figure>
<p>先程作成しておいたテーブルの中身が読み込まれる。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-------------------------------------------</span><br><span class="line">Batch: 0</span><br><span class="line">-------------------------------------------</span><br><span class="line">20/11/22 00:29:41 INFO CodeGenerator: Code generated in 3.212 ms</span><br><span class="line">20/11/22 00:29:41 INFO CodeGenerator: Code generated in 4.1238 ms</span><br><span class="line">+------+--------------+----------------+</span><br><span class="line">|  name|favorite_color|favorite_numbers|</span><br><span class="line">+------+--------------+----------------+</span><br><span class="line">|Alyssa|          null|  [3, 9, 15, 20]|</span><br><span class="line">|   Ben|           red|              []|</span><br><span class="line">+------+--------------+----------------+</span><br></pre></td></tr></table></figure>
<p>先程の、Delta Lakeテーブルを作成したターミナルのspark-shellで、
追加データを作り、Delta Lakeテーブルに挿入する。</p>
<p>まず、追加データ用のスキーマを持つcase classを作成する。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span>(<span class="params">name: <span class="type">String</span>, favorite_color: <span class="type">String</span>, favorite_numbers: <span class="type">Array</span>[<span class="type">Int</span>]</span>)</span></span><br></pre></td></tr></table></figure>
<p>つづいて、作られたcase classを利用して、追加用のDataFrameを作る。
（SeqからDataFrameを生成する）</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> addRecord = <span class="type">Seq</span>(<span class="type">User</span>(<span class="string">"Bob"</span>, <span class="string">"yellow"</span>, <span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>))).toDF</span><br></pre></td></tr></table></figure>
<p>appendモードで既存のDelta Lakeテーブルに追加する。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; addRecord.write.format(<span class="string">"delta"</span>).mode(<span class="string">"append"</span>).save(<span class="string">"/tmp/delta/users"</span>)</span><br></pre></td></tr></table></figure>
<p>ここで、ストリーム処理を動かしている方のターミナルを見ると、
以下のように追記された内容が表示されていることがわかる。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-------------------------------------------</span><br><span class="line">Batch: 1</span><br><span class="line">-------------------------------------------</span><br><span class="line">+----+--------------+----------------+</span><br><span class="line">|name|favorite_color|favorite_numbers|</span><br><span class="line">+----+--------------+----------------+</span><br><span class="line">| Bob|        yellow|          [1, 2]|</span><br><span class="line">+----+--------------+----------------+</span><br></pre></td></tr></table></figure>
<h3><span id="読み込み時のmaxfilespertrigger-オプション">読み込み時の
maxFilesPerTrigger オプション</span></h3>
<p>ストリーム読み込み時には、 <code>maxFilesPerTrigger</code>
オプションを指定できる。
このオプションは、以下のパラメータとして利用される。</p>
<p>org/apache/spark/sql/delta/DeltaOptions.scala:98</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> maxFilesPerTrigger = options.get(<span class="type">MAX_FILES_PER_TRIGGER_OPTION</span>).map &#123; str =&gt;</span><br><span class="line">  <span class="type">Try</span>(str.toInt).toOption.filter(_ &gt; <span class="number">0</span>).getOrElse &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="type">DeltaErrors</span>.illegalDeltaOptionException(</span><br><span class="line">      <span class="type">MAX_FILES_PER_TRIGGER_OPTION</span>, str, <span class="string">"must be a positive integer"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>このパラメータは
org.apache.spark.sql.delta.sources.DeltaSource.AdmissionLimits#toReadLimit
メソッド内で用いられる。</p>
<p>org/apache/spark/sql/delta/sources/DeltaSource.scala:350</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">toReadLimit</span></span>: <span class="type">ReadLimit</span> = &#123;</span><br><span class="line">    <span class="keyword">if</span> (options.maxFilesPerTrigger.isDefined &amp;&amp; options.maxBytesPerTrigger.isDefined) &#123;</span><br><span class="line">      <span class="type">CompositeLimit</span>(</span><br><span class="line">        <span class="type">ReadMaxBytes</span>(options.maxBytesPerTrigger.get),</span><br><span class="line">        <span class="type">ReadLimit</span>.maxFiles(options.maxFilesPerTrigger.get).asInstanceOf[<span class="type">ReadMaxFiles</span>])</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (options.maxBytesPerTrigger.isDefined) &#123;</span><br><span class="line">      <span class="type">ReadMaxBytes</span>(options.maxBytesPerTrigger.get)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="type">ReadLimit</span>.maxFiles(</span><br><span class="line">        options.maxFilesPerTrigger.getOrElse(<span class="type">DeltaOptions</span>.<span class="type">MAX_FILES_PER_TRIGGER_OPTION_DEFAULT</span>))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>このメソッドの呼び出し階層は以下の通り。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">AdmissionLimits in DeltaSource.toReadLimit()  (org.apache.spark.sql.delta.sources)</span><br><span class="line">  DeltaSource.getDefaultReadLimit()  (org.apache.spark.sql.delta.sources)</span><br><span class="line">    MicroBatchExecution</span><br></pre></td></tr></table></figure>
<p>MicroBatchExecutionは、
<code>org.apache.spark.sql.execution.streaming.MicroBatchExecution</code>
クラスであり、 この仕組みを通じてSparkのStructured
Streamingの持つレートコントロールの仕組みに設定値をベースにした値が渡される。</p>
<h3><span id="読み込み時のmaxbytespertrigger-オプション">読み込み時の
maxBytesPerTrigger オプション</span></h3>
<p>原則的には、 <code>maxFilesPerTrigger</code> と同じようなもの。
指定された値を用いてcase
classを定義し、最大バイトサイズの目安を保持する。</p>
<h3><span id="追記ではなく更新したらどうなるか">追記ではなく更新したらどうなるか？</span></h3>
<p>Delta
Lakeでoverwriteモードで書き込む際に、パーティションカラムに対して条件を指定できることを利用し、
部分更新することにする。</p>
<p>まず <code>name</code>
をパーティションカラムとしたDataFrameを作ることにする。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> df = spark.read.format(<span class="string">"parquet"</span>).load(<span class="string">"/opt/spark/default/examples/src/main/resources/users.parquet"</span>)</span><br><span class="line">scala&gt; df.show</span><br><span class="line">+------+--------------+----------------+</span><br><span class="line">|  name|favorite_color|favorite_numbers|</span><br><span class="line">+------+--------------+----------------+</span><br><span class="line">|<span class="type">Alyssa</span>|          <span class="literal">null</span>|  [<span class="number">3</span>, <span class="number">9</span>, <span class="number">15</span>, <span class="number">20</span>]|</span><br><span class="line">|   <span class="type">Ben</span>|           red|              []|</span><br><span class="line">+------+--------------+----------------+</span><br><span class="line"></span><br><span class="line">scala&gt; df.write.format(<span class="string">"delta"</span>).partitionBy(<span class="string">"name"</span>).save(<span class="string">"/tmp/delta/partitioned_users"</span>)</span><br></pre></td></tr></table></figure>
<p>上記例と同様に、ストリームでデータを読み込むため、もうひとつターミナルを起動し、以下を実行。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> /opt/spark/default/bin/spark-submit --class com.example.StructuredStreamingDeltaLakeReadExample target/scala-2.12/structured_streaming_deltalake-assembly-0.0.1.jar /tmp/delta/partitioned_users</span></span><br></pre></td></tr></table></figure>
<p>spark-shellを起動したターミナルで、更新用のデータを準備。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> updateRecord = <span class="type">Seq</span>(<span class="type">User</span>(<span class="string">"Ben"</span>, <span class="string">"green"</span>, <span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>))).toDF</span><br></pre></td></tr></table></figure>
<p>条件付きのoverwriteモードで既存のDelta
Lakeテーブルの一部レコードを更新する。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; updateRecord</span><br><span class="line">         .write</span><br><span class="line">         .format(<span class="string">"delta"</span>)</span><br><span class="line">         .mode(<span class="string">"overwrite"</span>)</span><br><span class="line">         .option(<span class="string">"replaceWhere"</span>, <span class="string">"name == 'Ben'"</span>)</span><br><span class="line">         .save(<span class="string">"/tmp/delta/partitioned_users"</span>)</span><br></pre></td></tr></table></figure>
<p>上記を実行したときに、ストリーム処理を実行しているターミナル側で、
以下のエラーが生じ、プロセスが停止した。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">20/11/23 22:10:55 ERROR MicroBatchExecution: Query [id = 13cf0aa0-116c-4c95-aea0-3e6f779e02c8, runId = 6f71a4bb-c067-4f6d-aa17-6bf04eea3520] terminated</span><br><span class="line">with error</span><br><span class="line">java.lang.UnsupportedOperationException: Detected a data update in the source table. This is currently not supported. If you&apos;d like to ignore updates, set the option &apos;ignoreChanges&apos; to &apos;true&apos;. If you would like the data update to be reflected, please restart this query with a fresh checkpoint directory.        at org.apache.spark.sql.delta.sources.DeltaSource.verifyStreamHygieneAndFilterAddFiles(DeltaSource.scala:273)</span><br><span class="line">        at org.apache.spark.sql.delta.sources.DeltaSource.$anonfun$getChanges$1(DeltaSource.scala:117)</span><br><span class="line"></span><br><span class="line">(snip)</span><br></pre></td></tr></table></figure>
<p>後ほど検証するが、Delta
Lakeのストリーム処理では、既存レコードのupdate、deleteなどの既存レコードの更新となる処理は基本的にサポートされていない。
オプションを指定することで、更新を無視することができる。</p>
<h3><span id="読み込み時のignoredeletes-オプション">読み込み時の
ignoreDeletes オプション</span></h3>
<p>基本的には、上記の通り、元テーブルに変化があった場合はエラーを生じるようになっている。
<a href="https://docs.delta.io/latest/delta-streaming.html#ignore-updates-and-deletes" target="_blank" rel="noopener">Ignore
updates and deletes</a> に記載の通り、update、merge
into、delete、overwriteがエラーの対象である。</p>
<p>ひとまずdeleteでエラーになるのを避けるため、
<code>ignoreDeletes</code> で無視するオプションを指定できる。</p>
<p>動作確認する。</p>
<p>spark-shellを立ち上げ、検証用のテーブルを作成する。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> /opt/spark/default/bin/spark-shell --packages io.delta:delta-core_2.12:0.7.0 --conf <span class="string">"spark.sql.extensions=io.delta.sql.DeltaSparkSessionExtension"</span> --conf <span class="string">"spark.sql.catalog.spark_catalog=org.apache.spark.sql.delta.catalog.DeltaCatalog"</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> df = spark.read.format(<span class="string">"parquet"</span>).load(<span class="string">"/opt/spark/default/examples/src/main/resources/users.parquet"</span>)</span><br><span class="line">scala&gt; df.show</span><br><span class="line">+------+--------------+----------------+</span><br><span class="line">|  name|favorite_color|favorite_numbers|</span><br><span class="line">+------+--------------+----------------+</span><br><span class="line">|<span class="type">Alyssa</span>|          <span class="literal">null</span>|  [<span class="number">3</span>, <span class="number">9</span>, <span class="number">15</span>, <span class="number">20</span>]|</span><br><span class="line">|   <span class="type">Ben</span>|           red|              []|</span><br><span class="line">+------+--------------+----------------+</span><br><span class="line"></span><br><span class="line">scala&gt; df.write.format(<span class="string">"delta"</span>).save(<span class="string">"/tmp/delta/users_for_delete"</span>)</span><br></pre></td></tr></table></figure>
<p>別のターミナルを立ち上げ、当該テーブルをストリームで読み込む。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> /opt/spark/default/bin/spark-submit --class com.example.StructuredStreamingDeltaLakeReadExample target/scala-2.12/structured_streaming_deltalake-assembly-0.0.1.jar /tmp/delta/users_for_delete</span></span><br></pre></td></tr></table></figure>
<p>spark-shellでテーブルとして読み込む。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">import</span> io.delta.tables._</span><br><span class="line">scala&gt; <span class="keyword">val</span> deltaTable = <span class="type">DeltaTable</span>.forPath(spark, <span class="string">"/tmp/delta/users_for_delete"</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; deltaTable.delete(<span class="string">"name == 'Ben'"</span>)</span><br></pre></td></tr></table></figure>
<p>上記の通り、テーブルを更新（削除）した結果、ストリーム処理が以下のエラーを出力して終了した。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">20/11/23 22:26:21 ERROR MicroBatchExecution: Query [id = 660b82a9-ca40-4b91-8032-d75807b11c18, runId = 7e46e9a7-1ba2-48b2-b264-53c254cfa6fc] terminated</span><br><span class="line">with error</span><br><span class="line">java.lang.UnsupportedOperationException: Detected a data update in the source table. This is currently not supported. If you&apos;d like to ignore updates, set the option &apos;ignoreChanges&apos; to &apos;true&apos;. If you would like the data update to be reflected, please restart this query with a fresh checkpoint directory.        at org.apache.spark.sql.delta.sources.DeltaSource.verifyStreamHygieneAndFilterAddFiles(DeltaSource.scala:273)</span><br><span class="line">        at org.apache.spark.sql.delta.sources.DeltaSource.$anonfun$getChanges$1(DeltaSource.scala:117)</span><br><span class="line">        at scala.collection.Iterator$$anon$11.nextCur(Iterator.scala:484)</span><br><span class="line">(snip)</span><br></pre></td></tr></table></figure>
<p>そこで、同じことをもう一度 ignoreDelte
オプションを利用して実行してみる。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; df.write.format(&quot;delta&quot;).partitionBy(&quot;name&quot;).save(&quot;/tmp/delta/users_for_delete2&quot;)</span><br></pre></td></tr></table></figure>
<p>なお、 <code>ignoreDelete</code>
オプションはパーティションカラムに指定されたカラムに対し、
where句を利用して削除するものに対して有効である。
（パーティションカラムに指定されていないカラムをwhere句に使用してdeleteしたところ、エラーが生じた）</p>
<p>別のターミナルを立ち上げ、当該テーブルをストリームで読み込む。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> /opt/spark/default/bin/spark-submit --class com.example.StructuredStreamingDeltaLakeDeleteExample target/scala-2.12/structured_streaming_deltalake-assembly-0.0.1.jar /tmp/delta/users_for_delete2</span></span><br></pre></td></tr></table></figure>
<p>spark-shellでテーブルとして読み込む。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">import</span> io.delta.tables._</span><br><span class="line">scala&gt; <span class="keyword">val</span> deltaTable = <span class="type">DeltaTable</span>.forPath(spark, <span class="string">"/tmp/delta/users_for_delete2"</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; deltaTable.delete(<span class="string">"name == 'Ben'"</span>)</span><br></pre></td></tr></table></figure>
<p>このとき、特にエラーなくストリーム処理が続いた。</p>
<p>またテーブルを見たところ、</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; deltaTable.toDF.show</span><br><span class="line">+------+--------------+----------------+</span><br><span class="line">|  name|favorite_color|favorite_numbers|</span><br><span class="line">+------+--------------+----------------+</span><br><span class="line">|<span class="type">Alyssa</span>|          <span class="literal">null</span>|  [<span class="number">3</span>, <span class="number">9</span>, <span class="number">15</span>, <span class="number">20</span>]|</span><br><span class="line">+------+--------------+----------------+</span><br></pre></td></tr></table></figure>
<p>削除対象のレコードが消えていることが確かめられる。</p>
<h3><span id="読み込み時のignorechanges-オプション">読み込み時の
ignoreChanges オプション</span></h3>
<p><code>ignoreChanges</code> オプションは、いったん概ね
<code>ignoreDelete</code> オプションと同様だと思えば良い。
ただしdeleteに限らない。（deleteも含む） 細かな点は後で調査する。</p>
<h2><span id="orgapachesparksqldeltasourcesdeltasourceクラスについて">org.apache.spark.sql.delta.sources.DeltaSource
クラスについて</span></h2>
<p>Delta Lake用のストリームData Sourceである。
親クラスは以下の通り。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DeltaSource (org.apache.spark.sql.delta.sources)</span><br><span class="line">  Source (org.apache.spark.sql.execution.streaming)</span><br><span class="line">    SparkDataStream (org.apache.spark.sql.connector.read.streaming)</span><br></pre></td></tr></table></figure>
<p>気になったメンバ変数は以下の通り。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** A check on the source table that disallows deletes on the source data. */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">val</span> ignoreChanges = options.ignoreChanges || ignoreFileDeletion</span><br><span class="line">--&gt; レコードの変更（ファイル変更）を無視するかどうか</span><br><span class="line"></span><br><span class="line"><span class="comment">/** A check on the source table that disallows commits that only include deletes to the data. */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">val</span> ignoreDeletes = options.ignoreDeletes || ignoreFileDeletion || ignoreChanges</span><br><span class="line">--&gt; レコードの削除（ファイル削除）を無視するかどうか</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">val</span> excludeRegex: <span class="type">Option</span>[<span class="type">Regex</span>] = options.excludeRegex</span><br><span class="line">--&gt; <span class="type">ADD</span>ファイルのリストする際、無視するファイルを指定する</span><br><span class="line"></span><br><span class="line"><span class="keyword">override</span> <span class="keyword">val</span> schema: <span class="type">StructType</span> = deltaLog.snapshot.metadata.schema</span><br><span class="line">--&gt; 対象テーブルのスキーマ</span><br><span class="line"></span><br><span class="line">(snip)</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">val</span> tableId = deltaLog.snapshot.metadata.id</span><br><span class="line">--&gt; テーブルの<span class="type">ID</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">var</span> previousOffset: <span class="type">DeltaSourceOffset</span> = <span class="literal">null</span></span><br><span class="line">--&gt; バッチの取得時のオフセットを保持する</span><br><span class="line"></span><br><span class="line"><span class="comment">// A metadata snapshot when starting the query.</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">var</span> initialState: <span class="type">DeltaSourceSnapshot</span> = <span class="literal">null</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">var</span> initialStateVersion: <span class="type">Long</span> = <span class="number">-1</span>L</span><br><span class="line">--&gt; org.apache.spark.sql.delta.sources.<span class="type">DeltaSource</span>#getBatch などから呼ばれる、スナップショットを保持するための変数</span><br></pre></td></tr></table></figure>
<h3><span id="orgapachesparksqldeltasourcesdeltasourcegetchangesメソッド">org.apache.spark.sql.delta.sources.DeltaSource#getChanges
メソッド</span></h3>
<p>ストリーム処理のバッチ取得メソッド
<code>org.apache.spark.sql.delta.sources.DeltaSource#getBatch</code>
などから呼ばれるメソッド。
スナップショットなどの情報から、開始時点のバージョンから現在までの変化を返す。</p>
<h3><span id="orgapachesparksqldeltasourcesdeltasourcegetsnapshotatメソッド">org.apache.spark.sql.delta.sources.DeltaSource#getSnapshotAt
メソッド</span></h3>
<p>上記の
<code>org.apache.spark.sql.delta.sources.DeltaSource#getChanges</code>
メソッドなどで利用される、
指定されたバージョンでのスナップショットを返す。</p>
<p><code>org.apache.spark.sql.delta.SnapshotManagement#getSnapshotAt</code>
を内部的に利用する。</p>
<h3><span id="orgapachesparksqldeltasourcesdeltasourcegetchangeswithratelimitメソッド">org.apache.spark.sql.delta.sources.DeltaSource#getChangesWithRateLimit
メソッド</span></h3>
<p><code>org.apache.spark.sql.delta.sources.DeltaSource#getChanges</code>
メソッドに比べ、 レート制限を考慮した上での変化を返す。</p>
<h3><span id="orgapachesparksqldeltasourcesdeltasourcegetstartingoffsetメソッド">org.apache.spark.sql.delta.sources.DeltaSource#getStartingOffset
メソッド</span></h3>
<p><code>org.apache.spark.sql.delta.sources.DeltaSource#latestOffset</code>
メソッド内で呼ばれる。
ストリーム処理でマイクロバッチを構成する際、対象としているデータのオフセットを返すのだが、
それらのうち、初回の場合に呼ばれる。★要確認</p>
<p>当該メソッド内で、「開始時点か、変化をキャプチャして処理しているのか」、「コミット内のオフセット位置」などの確認が行われ、
<code>org.apache.spark.sql.delta.sources.DeltaSourceOffset</code>
にラップした上でメタデータが返される。</p>
<h3><span id="orgapachesparksqldeltasourcesdeltasourcelatestoffsetメソッド">org.apache.spark.sql.delta.sources.DeltaSource#latestOffset
メソッド</span></h3>
<p><code>org.apache.spark.sql.connector.read.streaming.SupportsAdmissionControl#latestOffset</code>
メソッドをオーバーライドしている。
今回のマイクロバッチで対象となるデータのうち、最後のデータを示すオフセットを返す。</p>
<h3><span id="orgapachesparksqldeltasourcesdeltasourceverifystreamhygieneandfilteraddfilesメソッド">org.apache.spark.sql.delta.sources.DeltaSource#verifyStreamHygieneAndFilterAddFiles
メソッド</span></h3>
<p><code>org.apache.spark.sql.delta.sources.DeltaSource#getChanges</code>
メソッドで呼ばれる。 <code>getChanges</code>
メソッドは指定されたバージョン以降の「変更」を取得するものである。
その中において、<code>verifyStreamHygieneAndFilterAddFiles</code>
メソッドは関係あるアクションだけ取り出すために用いられる。</p>
<h3><span id="orgapachesparksqldeltasourcesdeltasourcegetbatchメソッド">org.apache.spark.sql.delta.sources.DeltaSource#getBatch
メソッド</span></h3>
<p><code>org.apache.spark.sql.execution.streaming.Source#getBatch</code>
メソッドをオーバライドしたもの。
与えられたオフセット（開始、終了）をもとに、そのタイミングで処理すべきバッチとなるDataFrameを返す。</p>
<h2><span id="orgapachesparksqldeltasourcesdeltasourceadmissionlimitsクラスについて">org.apache.spark.sql.delta.sources.DeltaSource.AdmissionLimits
クラスについて</span></h2>
<p>レート管理のためのクラス。</p>
<h3><span id="orgapachesparksqldeltasourcesdeltasourceadmissionlimitstoreadlimitメソッド">org.apache.spark.sql.delta.sources.DeltaSource.AdmissionLimits#toReadLimit
メソッド</span></h3>
<p><code>org.apache.spark.sql.delta.sources.DeltaSource#getDefaultReadLimit</code>
メソッド内で呼ばれる。 オプションで与えられたレート制限のヒント値を、
<code>org.apache.spark.sql.connector.read.streaming.ReadLimit</code>
に変換する。</p>
<h3><span id="orgapachesparksqldeltasourcesdeltasourceadmissionlimitsadmitメソッド">org.apache.spark.sql.delta.sources.DeltaSource.AdmissionLimits#admit
メソッド</span></h3>
<p><code>org.apache.spark.sql.delta.sources.DeltaSource#getChangesWithRateLimit</code>
メソッド内で呼ばれる。
上記メソッドは、レート制限を考慮して変化に関する情報のイテレータを返す。
<code>admit</code>
メソッドはその中において、レートリミットに達しているかどうかを判断するために用いられる。</p>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2020/11/19/Read-and-write-data-on-Delta-Lake-streaming-manner/" data-id="clkw1cpr0019q1vmwkc7ozm83" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-BigDL-memory-usage" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2020/11/13/BigDL-memory-usage/">BigDL memory usage</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2020/11/13/BigDL-memory-usage/">
            <time datetime="2020-11-13T07:04:02.000Z" itemprop="datePublished">2020-11-13</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Research/">Research</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Research/Machine-Learning/">Machine Learning</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Research/Machine-Learning/BigDL/">BigDL</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/BigDL/">BigDL</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#参考" id="toc-参考">参考</a></li>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#前提" id="toc-前提">前提</a></li>
<li><a href="#spark起動" id="toc-spark起動">Spark起動</a></li>
<li><a href="#サンプルを動かす" id="toc-サンプルを動かす">サンプルを動かす</a></li>
<li><a href="#サンプルの中身" id="toc-サンプルの中身">サンプルの中身</a>
<ul>
<li><a href="#trainクラス" id="toc-trainクラス">Trainクラス</a></li>
<li><a href="#optimizerの種類" id="toc-optimizerの種類">Optimizerの種類</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<h1><span id="参考">参考</span></h1>
<ul>
<li><a href="https://bigdl-project.github.io/master/#release-download/" target="_blank" rel="noopener">Download</a></li>
<li><a href="https://github.com/intel-analytics/BigDL/issues/3070" target="_blank" rel="noopener">Issue-3070</a></li>
<li><a href="https://bigdl-project.github.io/master/#ScalaUserGuide/install-pre-built/" target="_blank" rel="noopener">use
pre-bulid libs</a></li>
<li><a href="https://search.maven.org/artifact/com.intel.analytics.bigdl/bigdl-SPARK_2.4/0.11.1/jar" target="_blank" rel="noopener">bigdl-SPARK_2.4</a></li>
<li><a href="https://bigdl-project.github.io/master/#ScalaUserGuide/run/" target="_blank" rel="noopener">Run</a></li>
<li><a href="https://bigdl-project.github.io/master/#ScalaUserGuide/examples/" target="_blank" rel="noopener">Examples</a></li>
<li><a href="https://github.com/intel-analytics/BigDL/blob/master/spark/dl/src/main/scala/com/intel/analytics/bigdl/models/lenet/Train.scala" target="_blank" rel="noopener">Lenet
Train</a></li>
<li><a href="https://github.com/intel-analytics/BigDL/tree/master/spark/dl/src/main/scala/com/intel/analytics/bigdl/models/lenet" target="_blank" rel="noopener">LeNet
Example</a></li>
</ul>
<h1><span id="メモ">メモ</span></h1>
<h2><span id="前提">前提</span></h2>
<p><a href="https://bigdl-project.github.io/master/#release-download/" target="_blank" rel="noopener">Download</a>
によると、Sparkは2.4系まで対応しているようだ。 <a href="https://github.com/intel-analytics/BigDL/issues/3070" target="_blank" rel="noopener">Issue-3070</a>
によると、Spark3対応も進んでいるようだ。</p>
<h2><span id="spark起動">Spark起動</span></h2>
<p><a href="https://bigdl-project.github.io/master/#ScalaUserGuide/run/" target="_blank" rel="noopener">Run</a>
で記載の通り、以下のように起動した。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ export SPARK_HOME=/usr/local/spark/default</span><br><span class="line">$ export BIGDL_HOME=/usr/local/bigdl/default</span><br><span class="line">$ $&#123;BIGDL_HOME&#125;/bin/spark-shell-with-bigdl.sh --master local[*]</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; import com.intel.analytics.bigdl.utils.Engine</span><br><span class="line">scala&gt; Engine.init</span><br></pre></td></tr></table></figure>
<p>とりあえず初期化までは動いた。</p>
<h2><span id="サンプルを動かす">サンプルを動かす</span></h2>
<p><a href="https://bigdl-project.github.io/master/#ScalaUserGuide/examples/" target="_blank" rel="noopener">Examples</a>
に記載のサンプルを動かす。 <a href="https://github.com/intel-analytics/BigDL/blob/master/spark/dl/src/main/scala/com/intel/analytics/bigdl/models/lenet/Train.scala" target="_blank" rel="noopener">LeNet
Train</a> にあるLeNetの例が良さそう。</p>
<p>MNISTの画像をダウンロードして、展開した。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir ~/tmp</span><br><span class="line">$ cd ~/tmp</span><br><span class="line">$ wget http://yann.lecun.com/exdb/mnist/train-images-idx3-ubyte.gz</span><br><span class="line">$ wget http://yann.lecun.com/exdb/mnist/train-labels-idx1-ubyte.gz</span><br><span class="line">$ wget http://yann.lecun.com/exdb/mnist/t10k-images-idx3-ubyte.gz</span><br><span class="line">$ wget http://yann.lecun.com/exdb/mnist/t10k-labels-idx1-ubyte.gz</span><br><span class="line">$ gunzip *.gz</span><br></pre></td></tr></table></figure>
<p>展開したディレクトリを指定しながら、LeNetの学習を実行。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ spark-submit \</span><br><span class="line">  --master local[6] \</span><br><span class="line">  --driver-class-path $&#123;BIGDL_HOME&#125;/lib/bigdl-SPARK_2.4-0.11.1-jar-with-dependencies.jar \</span><br><span class="line">  --class com.intel.analytics.bigdl.models.lenet.Train \</span><br><span class="line">  $&#123;BIGDL_HOME&#125;/lib/bigdl-SPARK_2.4-0.11.1-jar-with-dependencies.jar \</span><br><span class="line">  -f $HOME/tmp \</span><br><span class="line">  -b 12 \</span><br><span class="line">  --checkpoint ./model</span><br></pre></td></tr></table></figure>
<p>実行中の様子は以下の通り。</p>
<figure>
<img src="/memo-blog/images/p5b0S1PrMD3x9YMp-31A2F.png" alt="ヒストリのキャプチャ">
<figcaption aria-hidden="true">ヒストリのキャプチャ</figcaption>
</figure>
<p>今回はローカルモードで実行したが、入力された学習データと同様のサイズのキャッシュがメモリ上に展開されていることがわかる。</p>
<h2><span id="サンプルの中身">サンプルの中身</span></h2>
<p>2020/11/15時点のmasterブランチを確認する。</p>
<h3><span id="trainクラス">Trainクラス</span></h3>
<p>上記サンプルで実行されているTrainを見る。
モデルを定義している箇所は以下の通り。</p>
<p>com/intel/analytics/bigdl/models/lenet/Train.scala:48</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> model = <span class="keyword">if</span> (param.modelSnapshot.isDefined) &#123;</span><br><span class="line">  <span class="type">Module</span>.load[<span class="type">Float</span>](param.modelSnapshot.get)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (param.graphModel) &#123;</span><br><span class="line">    <span class="type">LeNet5</span>.graph(classNum = <span class="number">10</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="type">Engine</span>.getEngineType() <span class="keyword">match</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="type">MklBlas</span> =&gt; <span class="type">LeNet5</span>(<span class="number">10</span>)</span><br><span class="line">      <span class="keyword">case</span> <span class="type">MklDnn</span> =&gt; <span class="type">LeNet5</span>.dnnGraph(param.batchSize / <span class="type">Engine</span>.nodeNumber(), <span class="number">10</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Modelインスタンスは以下の通り、Optimizerオブジェクトに渡され、
データセットに合わせたOptimizerが返される。
（例：データセットが分散データセットかどうか、など）</p>
<p>com/intel/analytics/bigdl/models/lenet/Train.scala:83</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> optimizer = <span class="type">Optimizer</span>(</span><br><span class="line">  model = model,</span><br><span class="line">  dataset = trainSet,</span><br><span class="line">  criterion = criterion)</span><br></pre></td></tr></table></figure>
<p>参考までに、Optimizerの種類と判定の処理は以下の通り。</p>
<p>com/intel/analytics/bigdl/optim/Optimizer.scala:688</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">dataset <span class="keyword">match</span> &#123;</span><br><span class="line">  <span class="keyword">case</span> d: <span class="type">DistributedDataSet</span>[_] =&gt;</span><br><span class="line">    <span class="type">Engine</span>.getOptimizerVersion() <span class="keyword">match</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="type">OptimizerV1</span> =&gt;</span><br><span class="line">        <span class="keyword">new</span> <span class="type">DistriOptimizer</span>[<span class="type">T</span>](</span><br><span class="line">          _model = model,</span><br><span class="line">          _dataset = d.toDistributed().asInstanceOf[<span class="type">DistributedDataSet</span>[<span class="type">MiniBatch</span>[<span class="type">T</span>]]],</span><br><span class="line">          _criterion = criterion</span><br><span class="line">        ).asInstanceOf[<span class="type">Optimizer</span>[<span class="type">T</span>, <span class="type">D</span>]]</span><br><span class="line">      <span class="keyword">case</span> <span class="type">OptimizerV2</span> =&gt;</span><br><span class="line">        <span class="keyword">new</span> <span class="type">DistriOptimizerV2</span>[<span class="type">T</span>](</span><br><span class="line">          _model = model,</span><br><span class="line">          _dataset = d.toDistributed().asInstanceOf[<span class="type">DistributedDataSet</span>[<span class="type">MiniBatch</span>[<span class="type">T</span>]]],</span><br><span class="line">          _criterion = criterion</span><br><span class="line">        ).asInstanceOf[<span class="type">Optimizer</span>[<span class="type">T</span>, <span class="type">D</span>]]</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="keyword">case</span> d: <span class="type">LocalDataSet</span>[_] =&gt;</span><br><span class="line">    <span class="keyword">new</span> <span class="type">LocalOptimizer</span>[<span class="type">T</span>](</span><br><span class="line">      model = model,</span><br><span class="line">      dataset = d.toLocal().asInstanceOf[<span class="type">LocalDataSet</span>[<span class="type">MiniBatch</span>[<span class="type">T</span>]]],</span><br><span class="line">      criterion = criterion</span><br><span class="line">    ).asInstanceOf[<span class="type">Optimizer</span>[<span class="type">T</span>, <span class="type">D</span>]]</span><br><span class="line">  <span class="keyword">case</span> _ =&gt;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">UnsupportedOperationException</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>返されたOptimizerの、Optimizer#optimizeメソッドを利用し学習が実行される。</p>
<p>com/intel/analytics/bigdl/models/lenet/Train.scala:98</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">optimizer</span><br><span class="line">  .setValidation(</span><br><span class="line">    trigger = <span class="type">Trigger</span>.everyEpoch,</span><br><span class="line">    dataset = validationSet,</span><br><span class="line">    vMethods = <span class="type">Array</span>(<span class="keyword">new</span> <span class="type">Top1Accuracy</span>, <span class="keyword">new</span> <span class="type">Top5Accuracy</span>[<span class="type">Float</span>], <span class="keyword">new</span> <span class="type">Loss</span>[<span class="type">Float</span>]))</span><br><span class="line">  .setOptimMethod(optimMethod)</span><br><span class="line">  .setEndWhen(<span class="type">Trigger</span>.maxEpoch(param.maxEpoch))</span><br><span class="line">  .optimize()</span><br></pre></td></tr></table></figure>
<h3><span id="optimizerの種類">Optimizerの種類</span></h3>
<p>上記の内容を見るに、Optimizerにはいくつか種類がありそうだ。</p>
<ul>
<li>DistriOptimizer</li>
<li>DistriOptimizerV2</li>
<li>LocalOptimizer</li>
</ul>
<h4><span id="distrioptimizer">DistriOptimizer</span></h4>
<p>ひとまずメモリ使用に関連する箇所ということで、入力データの準備の処理を確認する。
<code>com.intel.analytics.bigdl.optim.DistriOptimizer#optimize</code>
メソッドには 以下のような箇所がある。</p>
<p>com/intel/analytics/bigdl/optim/DistriOptimizer.scala:870</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">prepareInput()</span><br></pre></td></tr></table></figure>
<p>これは
<code>com.intel.analytics.bigdl.optim.DistriOptimizer#prepareInput</code>
メソッドであり、 内部的に
<code>com.intel.analytics.bigdl.optim.AbstractOptimizer#prepareInput</code>
メソッドを呼び出し、
入力データをSparkのキャッシュに載せるように処理する。</p>
<p>com/intel/analytics/bigdl/optim/DistriOptimizer.scala:808</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!dataset.toDistributed().isCached) &#123;</span><br><span class="line">  <span class="type">DistriOptimizer</span>.logger.info(<span class="string">"caching training rdd ..."</span>)</span><br><span class="line">  <span class="type">DistriOptimizer</span>.prepareInput(<span class="keyword">this</span>.dataset, <span class="keyword">this</span>.validationDataSet)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>キャシュに載せると箇所は以下の通り。</p>
<p>com/intel/analytics/bigdl/optim/AbstractOptimizer.scala:279</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span>[bigdl] <span class="function"><span class="keyword">def</span> <span class="title">prepareInput</span></span>[<span class="type">T</span>: <span class="type">ClassTag</span>](dataset: <span class="type">DataSet</span>[<span class="type">MiniBatch</span>[<span class="type">T</span>]],</span><br><span class="line">  validationDataSet: <span class="type">Option</span>[<span class="type">DataSet</span>[<span class="type">MiniBatch</span>[<span class="type">T</span>]]]): <span class="type">Unit</span> = &#123;</span><br><span class="line">  dataset.asInstanceOf[<span class="type">DistributedDataSet</span>[<span class="type">MiniBatch</span>[<span class="type">T</span>]]].cache()</span><br><span class="line">  <span class="keyword">if</span> (validationDataSet.isDefined) &#123;</span><br><span class="line">    validationDataSet.get.toDistributed().cache()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上記の <code>DistributedDataSet</code> の <code>chache</code>
メソッドは以下の通り。</p>
<p>com/intel/analytics/bigdl/dataset/DataSet.scala:216</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cache</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">  <span class="keyword">if</span> (originRDD() != <span class="literal">null</span>) &#123;</span><br><span class="line">    originRDD().count()</span><br><span class="line">  &#125;</span><br><span class="line">  isCached = <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>originRDD</code> の戻り値に対して、<code>count</code>
を読んでいる。 ここで <code>count</code> を呼ぶのは、入力データである
<code>originRDD</code>
の戻り値に入っているRDDをメモリ上にマテリアライズするためである。</p>
<p><code>count</code>
を呼ぶだけでマテリアライズできるのは、予め入力データを定義したときに
Spark RDDの <code>cache</code>
を利用してキャッシュ化することを指定されているからである。
今回の例では、Optimizerオブジェクトのapplyを利用する際に渡されるデータセット
<code>trainSet</code> を 定義する際に予め <code>cache</code>
が呼ばれる。</p>
<p>com/intel/analytics/bigdl/models/lenet/Train.scala:79</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> trainSet = <span class="type">DataSet</span>.array(load(trainData, trainLabel), sc) -&gt;</span><br><span class="line">  <span class="type">BytesToGreyImg</span>(<span class="number">28</span>, <span class="number">28</span>) -&gt; <span class="type">GreyImgNormalizer</span>(trainMean, trainStd) -&gt; <span class="type">GreyImgToBatch</span>(</span><br><span class="line">  param.batchSize)</span><br></pre></td></tr></table></figure>
<p><code>trainSet</code> を定義する際、
<code>com.intel.analytics.bigdl.dataset.DataSet$#array(T[], org.apache.spark.SparkContext)</code>
メソッドが 呼ばれるのだが、その中で以下のように Sparkの
<code>RDD#cache</code> が呼ばれていることがわかる。</p>
<p>com/intel/analytics/bigdl/dataset/DataSet.scala:343</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">array</span></span>[<span class="type">T</span>: <span class="type">ClassTag</span>](localData: <span class="type">Array</span>[<span class="type">T</span>], sc: <span class="type">SparkContext</span>): <span class="type">DistributedDataSet</span>[<span class="type">T</span>] = &#123;</span><br><span class="line">  <span class="keyword">val</span> nodeNumber = <span class="type">Engine</span>.nodeNumber()</span><br><span class="line">  <span class="keyword">new</span> <span class="type">CachedDistriDataSet</span>[<span class="type">T</span>](</span><br><span class="line">    sc.parallelize(localData, nodeNumber)</span><br><span class="line">      <span class="comment">// Keep this line, or the array will be send to worker every time</span></span><br><span class="line">      .coalesce(nodeNumber, <span class="literal">true</span>)</span><br><span class="line">      .mapPartitions(iter =&gt; &#123;</span><br><span class="line">        <span class="type">Iterator</span>.single(iter.toArray)</span><br><span class="line">      &#125;).setName(<span class="string">"cached dataset"</span>)</span><br><span class="line">      .cache()</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以下、一例。</p>
<p>具体的には、Optimizerのインスタンスを生成するための
<code>apply</code> メソッドはいくつかあるが、
以下のように引数にデータセットを指定する箇所がある。（再掲）</p>
<p>com/intel/analytics/bigdl/optim/Optimizer.scala:619</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_dataset = (<span class="type">DataSet</span>.rdd(sampleRDD) -&gt;</span><br></pre></td></tr></table></figure>
<p>ここで用いられている
<code>com.intel.analytics.bigdl.dataset.DataSet#rdd</code>
メソッドは以下の通り。</p>
<p>com/intel/analytics/bigdl/dataset/DataSet.scala:363</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rdd</span></span>[<span class="type">T</span>: <span class="type">ClassTag</span>](data: <span class="type">RDD</span>[<span class="type">T</span>], partitionNum: <span class="type">Int</span> = <span class="type">Engine</span>.nodeNumber()</span><br><span class="line">  ): <span class="type">DistributedDataSet</span>[<span class="type">T</span>] = &#123;</span><br><span class="line">  <span class="keyword">new</span> <span class="type">CachedDistriDataSet</span>[<span class="type">T</span>](</span><br><span class="line">    data.coalesce(partitionNum, <span class="literal">true</span>)</span><br><span class="line">      .mapPartitions(iter =&gt; &#123;</span><br><span class="line">        <span class="type">Iterator</span>.single(iter.toArray)</span><br><span class="line">      &#125;).setName(<span class="string">"cached dataset"</span>)</span><br><span class="line">      .cache()</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>com.intel.analytics.bigdl.dataset.CachedDistriDataSet#CachedDistriDataSet</code>
のコンストラクタ引数に、 <code>org.apache.spark.rdd.RDD#cache</code>
を用いてキャッシュ化することを指定したRDDを渡していることがわかる。</p>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2020/11/13/BigDL-memory-usage/" data-id="clkw1cpm5013w1vmwf1uq1ql3" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-Generate-PDF-using-pandoc" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2020/10/29/Generate-PDF-using-pandoc/">Generate PDF using pandoc</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2020/10/29/Generate-PDF-using-pandoc/">
            <time datetime="2020-10-29T13:17:31.000Z" itemprop="datePublished">2020-10-29</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Documentation/">Documentation</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/pandoc/">pandoc</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#参考" id="toc-参考">参考</a></li>
<li><a href="#メモ" id="toc-メモ">メモ</a></li>
</ul>
</div>
<h1><span id="参考">参考</span></h1>
<ul>
<li><a href="https://texwiki.texjp.org/?Linux#texliveinstall" target="_blank" rel="noopener">TeX
Liveのインストール手順</a></li>
<li><a href="https://github.com/jgm/pandoc-templates/blob/master/default.latex" target="_blank" rel="noopener">default.latex</a></li>
</ul>
<h1><span id="メモ">メモ</span></h1>
<p><a href="https://texwiki.texjp.org/?Linux#texliveinstall" target="_blank" rel="noopener">TeX
Liveのインストール手順</a> の通り、最新版をインストールする。
なお、フルセットでインストールした。</p>
<p>PDFを作成するときは以下のようにする。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pandoc test.md -o test.pdf --pdf-engine=lualatex -V documentclass=bxjsarticle -V classoption=pandoc</span><br></pre></td></tr></table></figure>
<p>ただし、 <a href="https://github.com/jgm/pandoc-templates/blob/master/default.latex" target="_blank" rel="noopener">default.latex</a>
に示すとおり、リンクに色を付けるなどしたいので、
上記マークダウンファイルには先頭部分にYAMLでコンフィグを記載することとした。</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: テスト文章</span><br><span class="line">date: 2020-10-30</span><br><span class="line">author: dobachi</span><br><span class="line">colorlinks: yes</span><br><span class="line">numbersections: yes</span><br><span class="line">toc: yes</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="section"># test</span></span><br><span class="line"></span><br><span class="line"><span class="section">## これはテスト</span></span><br><span class="line"></span><br><span class="line">[<span class="string">Google</span>](<span class="link">https://www.google.com</span>)</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- vim: set ft=markdown : --&gt;</span></span></span><br></pre></td></tr></table></figure>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2020/10/29/Generate-PDF-using-pandoc/" data-id="clkw1cp6v003n1vmwujlf5rqf" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-Access-AWS-S3-from-Hadoop3" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2020/09/14/Access-AWS-S3-from-Hadoop3/">Access AWS S3 from Hadoop3 and Spark3</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2020/09/14/Access-AWS-S3-from-Hadoop3/">
            <time datetime="2020-09-14T14:01:29.000Z" itemprop="datePublished">2020-09-14</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Hadoop/">Hadoop</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/Hadoop/">Hadoop</a>, <a class="tag-link" href="/memo-blog/tags/Spark/">Spark</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#参考" id="toc-参考">参考</a></li>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#パッケージインポート" id="toc-パッケージインポート">パッケージインポート</a></li>
<li><a href="#profileを使ったクレデンシャル設定" id="toc-profileを使ったクレデンシャル設定">profileを使ったクレデンシャル設定</a>
<ul>
<li><a href="#補足パラメータと指定するクラスについて" id="toc-補足パラメータと指定するクラスについて">（補足）パラメータと指定するクラスについて</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<h1><span id="参考">参考</span></h1>
<ul>
<li><a href="https://hadoop.apache.org/docs/current/hadoop-aws/tools/hadoop-aws/index.html" target="_blank" rel="noopener">Hadoopの公式ドキュメント</a></li>
<li><a href="https://spark.apache.org/docs/latest/cloud-integration.html" target="_blank" rel="noopener">Sparkの公式ドキュメント</a></li>
</ul>
<h1><span id="メモ">メモ</span></h1>
<h2><span id="パッケージインポート">パッケージインポート</span></h2>
<p><a href="https://spark.apache.org/docs/latest/cloud-integration.html" target="_blank" rel="noopener">Sparkの公式ドキュメント</a>
には、org.apache.spark:hadoop-cloud_2.12を利用するよう記載されているが、
このMavenパッケージは見当たらなかった。</p>
<p>そこで、 <a href="https://hadoop.apache.org/docs/current/hadoop-aws/tools/hadoop-aws/index.html" target="_blank" rel="noopener">Hadoopの公式ドキュメント</a>
の通り、hadoop-awsをインポートすると、それに関連した依存関係をインポートすることにした。
spark-shellで試すとしたら以下の通り。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> /opt/spark/default/bin/spark-shell --packages org.apache.hadoop:hadoop-aws:3.2.0</span><br></pre></td></tr></table></figure>
<h2><span id="profileを使ったクレデンシャル設定">profileを使ったクレデンシャル設定</span></h2>
<p>awscliを利用しているとしたら、profileを設定しながらクレデンシャルを使い分けていることもあると思う。
その場合、起動時の環境変数でプロフィールを指定しながら、以下のようにproviderを指定することで、
profileを利用したクレデンシャル管理の仕組みを利用してアクセスできる。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> AWS_PROFILE=s3test /opt/spark/default/bin/spark-shell --packages org.apache.hadoop:hadoop-aws:3.2.0</span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; spark.sparkContext.hadoopConfiguration.set(<span class="string">"fs.s3a.aws.credentials.provider"</span>, <span class="string">"com.amazonaws.auth.DefaultAWSCredentialsProviderChain"</span>)</span><br></pre></td></tr></table></figure>
<h3><span id="補足パラメータと指定するクラスについて">（補足）パラメータと指定するクラスについて</span></h3>
<p>ちなみに、上記パラメータの説明には、</p>
<blockquote>
<p>If unspecified, then the default list of credential provider classes,
queried in sequence, is: 1.
org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider: Uses the values
of fs.s3a.access.key and fs.s3a.secret.key. 2.
com.amazonaws.auth.EnvironmentVariableCredentialsProvider: supports
configuration of AWS access key ID and secret access key in environment
variables named AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY, as
documented in the AWS SDK. 3.
com.amazonaws.auth.InstanceProfileCredentialsProvider: supports use of
instance profile credentials if running in an EC2 VM.</p>
</blockquote>
<p>のように記載されている。</p>
<p>また、「Using Named Profile Credentials with
ProfileCredentialsProvider」の節には、</p>
<blockquote>
<p>Declare com.amazonaws.auth.profile.ProfileCredentialsProvider as the
provider.</p>
</blockquote>
<p>と書かれており、上記Default...でなくても良い。（実際に試したところ動作した）</p>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2020/09/14/Access-AWS-S3-from-Hadoop3/" data-id="clkw1cp5a000y1vmwsnxovvvt" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-qmk-firmware-202009" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2020/09/06/qmk-firmware-202009/">qmk_firmware_202009</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2020/09/06/qmk-firmware-202009/">
            <time datetime="2020-09-05T18:14:27.000Z" itemprop="datePublished">2020-09-06</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Keyboard/">Keyboard</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Keyboard/QMK/">QMK</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/QMK/">QMK</a>, <a class="tag-link" href="/memo-blog/tags/keyboard/">keyboard</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#参考" id="toc-参考">参考</a></li>
<li><a href="#メモ" id="toc-メモ">メモ</a></li>
</ul>
</div>
<h1><span id="参考">参考</span></h1>
<ul>
<li><a href="https://qiita.com/huequica/items/6067d3a022c7cd719ab2" target="_blank" rel="noopener">QMK
Firmwareでファームウェアをビルドしようとしたらavr-gccでコケた話</a></li>
<li><a href="https://docs.qmk.fm/#/newbs_building_firmware" target="_blank" rel="noopener">公式の環境構築手順</a></li>
<li><a href="https://docs.qmk.fm/#/newbs_flashing" target="_blank" rel="noopener">公式のコンパイル手順</a></li>
</ul>
<h1><span id="メモ">メモ</span></h1>
<p>2020/9に久しぶりにコンパイルしようとしたら、だいぶ勝手が変わっていた。</p>
<p><a href="https://docs.qmk.fm/#/newbs_building_firmware" target="_blank" rel="noopener">公式の環境構築手順</a>
に従って環境を構築した。
なお、インストールするよう指定されていたパッケージだけでは足りなかったので、
以下のようにインストールした。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> pacman --needed --noconfirm --<span class="built_in">disable</span>-download-timeout -S git mingw-w64-x86_64-toolchain mingw-w64-x86_64-python3-pip python3 python3-pip make diffutils</span></span><br></pre></td></tr></table></figure>
<p>最初、以下を忘れたため、失敗したので注意・・・。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> qmk setup</span></span><br></pre></td></tr></table></figure>
<p><a href="https://docs.qmk.fm/#/newbs_flashing" target="_blank" rel="noopener">公式のコンパイル手順</a>
に従うと、qmkコマンドを利用してコンパイル、フラッシュするようだ。</p>
<p>ただ、 <a href="https://qiita.com/huequica/items/6067d3a022c7cd719ab2" target="_blank" rel="noopener">QMK
Firmwareでファームウェアをビルドしようとしたらavr-gccでコケた話</a>
に記載されているのと同様に、 <code>make git-submodules</code>
が必要だった。</p>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2020/09/06/qmk-firmware-202009/" data-id="clkw1cpdg00ei1vmw8uzhpzdq" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-Use-GitHub-actions-to-deploy-documents" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2020/08/09/Use-GitHub-actions-to-deploy-documents/">Use GitHub actions to deploy documents</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2020/08/09/Use-GitHub-actions-to-deploy-documents/">
            <time datetime="2020-08-09T14:30:38.000Z" itemprop="datePublished">2020-08-09</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Documentation/">Documentation</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/GitHub-Actions/">GitHub Actions</a>, <a class="tag-link" href="/memo-blog/tags/Sphinx/">Sphinx</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#参考" id="toc-参考">参考</a></li>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#レポジトリのdeploy-key設定" id="toc-レポジトリのdeploy-key設定">レポジトリのDeploy Key設定</a></li>
<li><a href="#github-actionsのワークフローの記述" id="toc-github-actionsのワークフローの記述">GitHub
Actionsのワークフローの記述</a></li>
</ul></li>
</ul>
</div>
<h1><span id="参考">参考</span></h1>
<ul>
<li><a href="https://sphinx-users.jp/cookbook/githubaction/index.html" target="_blank" rel="noopener">GitHub
Actionsを用いてGitHub Pagesへのデプロイを自動化する</a></li>
<li><a href="https://github.com/marketplace/actions/sphinx-build" target="_blank" rel="noopener">マーケットプレイスのsphinx-build</a></li>
</ul>
<h1><span id="メモ">メモ</span></h1>
<p><a href="https://sphinx-users.jp/cookbook/githubaction/index.html" target="_blank" rel="noopener">GitHub
Actionsを用いてGitHub Pagesへのデプロイを自動化する</a> がSphinx
JPのユーザ会による記事だったので参考になるが、
依存関係を都度pipインストールしているのが気になった。</p>
<p><a href="https://github.com/marketplace/actions/sphinx-build" target="_blank" rel="noopener">マーケットプレイスのsphinx-build</a>
を利用すると良さそうだが、 この手順ではGITHUB
TOKENを利用してデプロイしているのが気になった。
レポジトリごとに設定できる、Deploy Keyを利用したい。</p>
<p>そこでビルドには <a href="https://github.com/marketplace/actions/sphinx-build" target="_blank" rel="noopener">マーケットプレイスのsphinx-build</a>
を利用し、デプロイには <a href="https://sphinx-users.jp/cookbook/githubaction/index.html" target="_blank" rel="noopener">GitHub
Actionsを用いてGitHub Pagesへのデプロイを自動化する</a>
の手順を利用することにした。</p>
<h2><span id="レポジトリのdeploy-key設定">レポジトリのDeploy Key設定</span></h2>
<p><a href="https://sphinx-users.jp/cookbook/githubaction/index.html" target="_blank" rel="noopener">GitHub
Actionsを用いてGitHub Pagesへのデプロイを自動化する</a> の「Deploy keys
の設定」章を参考に、 当該レポジトリのDeploy Keyを登録する。</p>
<p>任意の環境（ここではWSLのUbuntu18を利用した）で、
以下のコマンドを実行。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ssh-keygen -t rsa -b 4096 -C <span class="string">"＜レポジトリで使用しているメールアドレス＞"</span> -f ＜任意の名前＞ -N <span class="string">""</span></span></span><br></pre></td></tr></table></figure>
<p>上記記事の通り、秘密鍵と公開鍵をGitHubのウェブUIで登録する。
なお、「Secrets」タブで登録した名称は、後ほどGitHub
Actionsのワークフロー内で使用する。</p>
<h2><span id="githubactionsのワークフローの記述">GitHub
Actionsのワークフローの記述</span></h2>
<p><a href="https://github.com/marketplace/actions/sphinx-build" target="_blank" rel="noopener">マーケットプレイスのsphinx-build</a>
の例を参考に、 ワークフローを記述する。 なお、最後のデプロイする部分は、
<a href="https://sphinx-users.jp/cookbook/githubaction/index.html" target="_blank" rel="noopener">GitHub
Actionsを用いてGitHub Pagesへのデプロイを自動化する</a> を参考に、
Deploy Keyを利用するよう修正した。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">CI</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 今回はマスタブランチへのPushをトリガとする。</span></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line"><span class="attr">  push:</span></span><br><span class="line"><span class="attr">    branches:</span>    </span><br><span class="line"><span class="bullet">      -</span> <span class="string">master</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line"><span class="attr">  build:</span></span><br><span class="line"></span><br><span class="line"><span class="attr">    runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="comment"># 今回はmasterブランチへのpushをトリガとしているので不要だが、gh-pagesへのpushをトリガとする場合など</span></span><br><span class="line">    <span class="comment"># 無限ループを回避する際には以下のように記述する。</span></span><br><span class="line"><span class="attr">    if:</span> <span class="string">"!contains(github.event.head_commit.message, 'Update documentation via GitHub Actions')"</span></span><br><span class="line"></span><br><span class="line"><span class="attr">    steps:</span></span><br><span class="line"><span class="attr">    - uses:</span> <span class="string">actions/checkout@v1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 今回はMakefileを利用するので、makeコマンドを使用するよう元ネタから修正した。</span></span><br><span class="line">    <span class="comment"># またドキュメントのソースが含まれているディレクトリは各自の定義に依存する。</span></span><br><span class="line"><span class="attr">    - uses:</span> <span class="string">ammaraskar/sphinx-action@master</span></span><br><span class="line"><span class="attr">      with:</span></span><br><span class="line"><span class="attr">        build-command:</span> <span class="string">"make html"</span></span><br><span class="line"><span class="attr">        docs-folder:</span> <span class="string">"documents/"</span></span><br><span class="line">    <span class="comment"># 先ほどGitHubのウェブUIで定義した秘密鍵名を使用する。</span></span><br><span class="line"><span class="attr">    - name:</span> <span class="string">Commit</span> <span class="string">documentation</span> <span class="string">changes</span> <span class="string">and</span> <span class="string">push</span> <span class="string">it</span></span><br><span class="line"><span class="attr">      run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        mkdir ~/.ssh</span></span><br><span class="line"><span class="string">        ssh-keyscan -t rsa github.com &gt;&gt; ~/.ssh/known_hosts</span></span><br><span class="line"><span class="string">        echo "$<span class="template-variable">&#123;&#123; secrets.＜先ほどGitHubウェブUIで定義した秘密鍵名＞ &#125;&#125;</span>" &gt; ~/.ssh/id_rsa</span></span><br><span class="line"><span class="string">        chmod 400 ~/.ssh/id_rsa</span></span><br><span class="line"><span class="string">        git clone git@github.com:$&#123;GITHUB_REPOSITORY&#125;.git --branch gh-pages --single-branch gh-pages</span></span><br><span class="line"><span class="string">        cp -r documents/_build/html/* gh-pages/</span></span><br><span class="line"><span class="string">        cd gh-pages</span></span><br><span class="line"><span class="string">        git config --local user.email "action@github.com"</span></span><br><span class="line"><span class="string">        git config --local user.name "GitHub Action"</span></span><br><span class="line"><span class="string">        git add .</span></span><br><span class="line"><span class="string">        git commit -m "Update documentation via GitHub Actions" -a || true</span></span><br><span class="line"><span class="string">        git push origin HEAD:gh-pages</span></span><br><span class="line"><span class="string">        # The above command will fail if no changes were present, so we ignore</span></span><br><span class="line"><span class="string">        # that.</span></span><br><span class="line"><span class="string">    # ===============================</span></span><br></pre></td></tr></table></figure>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2020/08/09/Use-GitHub-actions-to-deploy-documents/" data-id="clkw1cpba00az1vmw1r0on2ep" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-Install-Bigtop-RPMs-using-Yum" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2020/07/21/Install-Bigtop-RPMs-using-Yum/">Install Bigtop RPMs using Yum</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2020/07/21/Install-Bigtop-RPMs-using-Yum/">
            <time datetime="2020-07-21T13:50:06.000Z" itemprop="datePublished">2020-07-21</time>
        </a>
    </div>


                        
                        
                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#参考" id="toc-参考">参考</a></li>
<li><a href="#メモ" id="toc-メモ">メモ</a></li>
</ul>
</div>
<h1><span id="参考">参考</span></h1>
<ul>
<li><a href="https://cwiki.apache.org/confluence/display/BIGTOP/Bigtop+1.4.0+Release" target="_blank" rel="noopener">Apache
Bigtop 1.4.0のパッケージバージョン</a></li>
<li><a href="https://downloads.apache.org/bigtop/" target="_blank" rel="noopener">レポジトリ関連の資材置き場</a></li>
<li><a href="https://downloads.apache.org/bigtop/bigtop-1.4.0/repos/centos7/bigtop.repo" target="_blank" rel="noopener">CentOS7のbigtop.repo</a></li>
</ul>
<h1><span id="メモ">メモ</span></h1>
<p>今回は、2020/7/21時点の最新バージョンである <a href="https://cwiki.apache.org/confluence/display/BIGTOP/Bigtop+1.4.0+Release" target="_blank" rel="noopener">Apache
Bigtop 1.4.0のパッケージバージョン</a> の
Hadoopをインストールできるかどうかを試してみることとする。</p>
<p>Yumのrepoファイルは <a href="https://downloads.apache.org/bigtop/" target="_blank" rel="noopener">レポジトリ関連の資材置き場</a>
以下にある。 例えば、今回はCentOS7を利用することにするので、 <a href="https://downloads.apache.org/bigtop/bigtop-1.4.0/repos/centos7/bigtop.repo" target="_blank" rel="noopener">CentOS7のbigtop.repo</a>
あたりを利用する。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> cd /etc/yum.repos.d</span><br><span class="line"><span class="meta">$</span> sudo wget https://downloads.apache.org/bigtop/bigtop-1.4.0/repos/centos7/bigtop.repo</span><br></pre></td></tr></table></figure>
<p>ひとまずパッケージが見つかるかどうか、確認。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> sudo yum search hadoop-conf-pseudo</span><br><span class="line">読み込んだプラグイン:fastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: d36uatko69830t.cloudfront.net</span><br><span class="line"> * epel: d2lzkl7pfhq30w.cloudfront.net</span><br><span class="line"> * extras: d36uatko69830t.cloudfront.net</span><br><span class="line"> * updates: d36uatko69830t.cloudfront.net</span><br><span class="line">=========================================== N/S matched: hadoop-conf-pseudo ============================================</span><br><span class="line">hadoop-conf-pseudo.x86_64 : Pseudo-distributed Hadoop configuration</span><br></pre></td></tr></table></figure>
<p>確認できたので、試しにインストール。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> sudo yum install hadoop-conf-pseudo</span><br></pre></td></tr></table></figure>
<p>自分の手元の環境では、依存関係で以下のパッケージがインストールされた。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">========================================================================================================================</span><br><span class="line"> Package                                    アーキテクチャー   バージョン                      リポジトリー        容量</span><br><span class="line">========================================================================================================================</span><br><span class="line">インストール中:</span><br><span class="line"> hadoop-conf-pseudo                         x86_64             2.8.5-1.el7                     bigtop              20 k</span><br><span class="line">依存性関連でのインストールをします:</span><br><span class="line"> at                                         x86_64             3.1.13-24.el7                   base                51 k</span><br><span class="line"> bc                                         x86_64             1.06.95-13.el7                  base               115 k</span><br><span class="line"> bigtop-groovy                              noarch             2.4.10-1.el7                    bigtop             9.8 M</span><br><span class="line"> bigtop-jsvc                                x86_64             1.0.15-1.el7                    bigtop              29 k</span><br><span class="line"> bigtop-utils                               noarch             1.4.0-1.el7                     bigtop              11 k</span><br><span class="line"> cups-client                                x86_64             1:1.6.3-43.el7                  base               152 k</span><br><span class="line"> ed                                         x86_64             1.9-4.el7                       base                72 k</span><br><span class="line"> hadoop                                     x86_64             2.8.5-1.el7                     bigtop              24 M</span><br><span class="line"> hadoop-hdfs                                x86_64             2.8.5-1.el7                     bigtop              24 M</span><br><span class="line"> hadoop-hdfs-datanode                       x86_64             2.8.5-1.el7                     bigtop             5.7 k</span><br><span class="line"> hadoop-hdfs-namenode                       x86_64             2.8.5-1.el7                     bigtop             5.8 k</span><br><span class="line"> hadoop-hdfs-secondarynamenode              x86_64             2.8.5-1.el7                     bigtop             5.8 k</span><br><span class="line"> hadoop-mapreduce                           x86_64             2.8.5-1.el7                     bigtop              34 M</span><br><span class="line"> hadoop-mapreduce-historyserver             x86_64             2.8.5-1.el7                     bigtop             5.8 k</span><br><span class="line"> hadoop-yarn                                x86_64             2.8.5-1.el7                     bigtop              20 M</span><br><span class="line"> hadoop-yarn-nodemanager                    x86_64             2.8.5-1.el7                     bigtop             5.7 k</span><br><span class="line"> hadoop-yarn-resourcemanager                x86_64             2.8.5-1.el7                     bigtop             5.6 k</span><br><span class="line"> libpcap                                    x86_64             14:1.5.3-12.el7                 base               139 k</span><br><span class="line"> m4                                         x86_64             1.4.16-10.el7                   base               256 k</span><br><span class="line"> mailx                                      x86_64             12.5-19.el7                     base               245 k</span><br><span class="line"> nmap-ncat                                  x86_64             2:6.40-19.el7                   base               206 k</span><br><span class="line"> patch                                      x86_64             2.7.1-12.el7_7                  base               111 k</span><br><span class="line"> psmisc                                     x86_64             22.20-16.el7                    base               141 k</span><br><span class="line"> redhat-lsb-core                            x86_64             4.1-27.el7.centos.1             base                38 k</span><br><span class="line"> redhat-lsb-submod-security                 x86_64             4.1-27.el7.centos.1             base                15 k</span><br><span class="line"> spax                                       x86_64             1.5.2-13.el7                    base               260 k</span><br><span class="line"> time                                       x86_64             1.7-45.el7                      base                30 k</span><br><span class="line"> zookeeper                                  x86_64             3.4.6-1.el7                     bigtop             7.0 M</span><br></pre></td></tr></table></figure>
<p>initスクリプトがインストールされていることがわかる。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> ls -1 /etc/init.d/</span><br><span class="line">README</span><br><span class="line">functions</span><br><span class="line">hadoop-hdfs-datanode</span><br><span class="line">hadoop-hdfs-namenode</span><br><span class="line">hadoop-hdfs-secondarynamenode</span><br><span class="line">hadoop-mapreduce-historyserver</span><br><span class="line">hadoop-yarn-nodemanager</span><br><span class="line">hadoop-yarn-resourcemanager</span><br><span class="line">netconsole</span><br><span class="line">network</span><br></pre></td></tr></table></figure>
<p>ひとまずHDFSをフォーマット。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> sudo -u hdfs hdfs namenode -format</span><br></pre></td></tr></table></figure>
<p>あとは、上記の各種Hadoopサービスを立ち上げれば良い。</p>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2020/07/21/Install-Bigtop-RPMs-using-Yum/" data-id="clkw1cp7n00511vmwmhv6b4g6" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <nav id="page-nav">
        <a class="extend prev" rel="prev" href="/memo-blog/page/3/">&laquo; 前</a><a class="page-number" href="/memo-blog/">1</a><a class="page-number" href="/memo-blog/page/2/">2</a><a class="page-number" href="/memo-blog/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/memo-blog/page/5/">5</a><a class="page-number" href="/memo-blog/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/memo-blog/page/21/">21</a><a class="extend next" rel="next" href="/memo-blog/page/5/">次 &raquo;</a>
    </nav>
</section>
            
                
<aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">最近の記事</h3>
        <div class="widget">
            <ul id="recent-post" class="no-thumbnail">
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Data-Spaces/">Data Spaces</a></p>
                            <p class="item-title"><a href="/memo-blog/2023/08/01/Open-project-of-EDC-Connector-with-Intellij/" class="title">Open project of EDC Connector with Intellij</a></p>
                            <p class="item-date"><time datetime="2023-08-01T01:46:35.000Z" itemprop="datePublished">2023-08-01</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Hexo/">Hexo</a></p>
                            <p class="item-title"><a href="/memo-blog/2022/05/02/GitHub-Actions-for-Hexo-with-Pandoc/" class="title">GitHub Actions for Hexo with Pandoc</a></p>
                            <p class="item-date"><time datetime="2022-05-02T00:57:25.000Z" itemprop="datePublished">2022-05-02</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Hyper-V/">Hyper-V</a></p>
                            <p class="item-title"><a href="/memo-blog/2022/02/03/Nest-VM-on-Hyper-V/" class="title">Nest VM on Hyper-V</a></p>
                            <p class="item-date"><time datetime="2022-02-03T14:47:34.000Z" itemprop="datePublished">2022-02-03</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Data-Catalog/">Data Catalog</a></p>
                            <p class="item-title"><a href="/memo-blog/2022/01/20/Getting-started-CKAN/" class="title">Getting_started_CKAN</a></p>
                            <p class="item-date"><time datetime="2022-01-20T09:04:05.000Z" itemprop="datePublished">2022-01-20</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Stream-Processing/">Stream Processing</a></p>
                            <p class="item-title"><a href="/memo-blog/2022/01/18/Latency-Guarantee-of-Stream-Processing/" class="title">Latency Guarantee of Stream Processing</a></p>
                            <p class="item-date"><time datetime="2022-01-17T15:49:18.000Z" itemprop="datePublished">2022-01-18</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">カテゴリ</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/">Clipping</a><span class="category-list-count">16</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/AI/">AI</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Camera/">Camera</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Camera/Lighting/">Lighting</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Cloud/">Cloud</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Database/">Database</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Kafka/">Kafka</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/List/">List</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/List/Research/">Research</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Management/">Management</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/PostgreSQL/">PostgreSQL</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Stream-Processing/">Stream Processing</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Uber/">Uber</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Vim/">Vim</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Windows-Tools/">Windows Tools</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/">Home server</a><span class="category-list-count">14</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/File-server/">File server</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Hardware/">Hardware</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Nature-Remo/">Nature Remo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Network/">Network</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Remote-desktop/">Remote desktop</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Ubuntu/">Ubuntu</a><span class="category-list-count">8</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Ubuntu/Adobe-Reader/">Adobe Reader</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Ubuntu/Gnome/">Gnome</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Ubuntu/KVM/">KVM</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Ubuntu/OneDrive/">OneDrive</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Ubuntu/vim/">vim</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Video-processing/">Video processing</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><span class="category-list-count">153</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Alluxio/">Alluxio</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/BaaS/">BaaS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Configuration-Management/">Configuration Management</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Configuration-Management/Ansible/">Ansible</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Catalog/">Data Catalog</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Catalog/CKAN/">CKAN</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Collaboration/">Data Collaboration</a><span class="category-list-count">6</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Collaboration/Delta-Sharing/">Delta Sharing</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Collaboration/X-Road/">X-Road</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Engineering/">Data Engineering</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Engineering/Data-Lineage/">Data Lineage</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Engineering/Data-Transformation/">Data Transformation</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Mesh/">Data Mesh</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Processing-Engine/">Data Processing Engine</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Spaces/">Data Spaces</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Spaces/EDC/">EDC</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Documentation/">Documentation</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Flask/">Flask</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/GPD-Pocket/">GPD Pocket</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/GPD-Pocket/Device/">Device</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/GPD-Pocket/Device/Bluetooth/">Bluetooth</a><span class="category-list-count">1</span></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/HBase/">HBase</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hadoop/">Hadoop</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hadoop/Ambari/">Ambari</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hadoop/BigTop/">BigTop</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hadoop/HDP/">HDP</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hexo/">Hexo</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Home-Network/">Home Network</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hyper/">Hyper</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hyper/Plugin/">Plugin</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hyper-V/">Hyper-V</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Keyboard/">Keyboard</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Keyboard/Corne-Chocolate/">Corne Chocolate</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Keyboard/QMK/">QMK</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Kubernetes/">Kubernetes</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/">Machine Learning</a><span class="category-list-count">25</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Analytics-Zoo/">Analytics Zoo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/AutoML/">AutoML</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Data-Platform/">Data Platform</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Flow-Engine/">Flow Engine</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Kaggle/">Kaggle</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/MLflow/">MLflow</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Model/">Model</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Model/Cross-Validation/">Cross Validation</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Model/Data-Leakage/">Data Leakage</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Model/Partial-Dependency-Plot/">Partial Dependency Plot</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Model/XGBoost/">XGBoost</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Model-Management/">Model Management</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Model-Management/Clipper/">Clipper</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/OpML/">OpML</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Preparation/">Preparation</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Software-Engineering-Patterns/">Software Engineering Patterns</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Stream-Processing/">Stream Processing</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Visualization/">Visualization</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Visualization/Seaborn/">Seaborn</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Word2Vec/">Word2Vec</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Messaging-System/">Messaging System</a><span class="category-list-count">15</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Messaging-System/Kafka/">Kafka</a><span class="category-list-count">14</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Metadata-Management/">Metadata Management</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Monitering/">Monitering</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Open-Data/">Open Data</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Open-Data/Scraping/">Scraping</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Open-Data/Tellus/">Tellus</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Pinot/">Pinot</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Power-Grid-Data/">Power Grid Data</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Python/">Python</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Python/Jupyter/">Jupyter</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Python/Pipenv/">Pipenv</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Python/pyenv/">pyenv</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/SQLAlchemy/">SQLAlchemy</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Scala/">Scala</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Scala/SBT/">SBT</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Spark/">Spark</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Spark/Spark-Summit/">Spark Summit</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Storage-Layer/">Storage Layer</a><span class="category-list-count">13</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Storage-Layer/Delta-Lake/">Delta Lake</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Storage-Layer/Hudi/">Hudi</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Storage-Layer/Minio/">Minio</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Stream-Processing/">Stream Processing</a><span class="category-list-count">9</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Stream-Processing/Apache-Edgent/">Apache Edgent</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Stream-Processing/Kappa-Architecture/">Kappa Architecture</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Stream-Processing/MillWheel/">MillWheel</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Stream-Processing/Twitter-Heron/">Twitter Heron</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Tools/">Tools</a><span class="category-list-count">8</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Tools/Git/">Git</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Tools/Intellij/">Intellij</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Tools/Selenium/">Selenium</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Tools/tmux/">tmux</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/WSL/">WSL</a><span class="category-list-count">7</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/WSL/CentOS/">CentOS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/WSL/Docker/">Docker</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/WSL/Terminal-tool/">Terminal tool</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/WSL/Vagrant/">Vagrant</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/WSL/X-Window/">X Window</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Windows/">Windows</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Windows/Ansible/">Ansible</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Windows/Docker/">Docker</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Windows/Hyper-V/">Hyper-V</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Zeppelin/">Zeppelin</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/ZooKeeper/">ZooKeeper</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/vim/">vim</a><span class="category-list-count">5</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/">Research</a><span class="category-list-count">14</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/AWS/">AWS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Conference/">Conference</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Conference/DevSumi/">DevSumi</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Data-Analytics/">Data Analytics</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Data-Analytics/Tools/">Tools</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Machine-Learning/">Machine Learning</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Machine-Learning/BigDL/">BigDL</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Machine-Learning/TensorFlow/">TensorFlow</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/NVM/">NVM</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/SX-Aurora-Frovedis/">SX-Aurora/Frovedis</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Trends/">Trends</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Video-processing/">Video processing</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Video-processing/BlazeIt/">BlazeIt</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Visualization/">Visualization</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Visualization/Superset/">Superset</a><span class="category-list-count">1</span></li></ul></li></ul></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">アーカイブ</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2023/08/">8月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2022/05/">5月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2022/02/">2月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2022/01/">1月 2022</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/10/">10月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/09/">9月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/08/">8月 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/07/">7月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/06/">6月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/05/">5月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/04/">4月 2021</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/02/">2月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/01/">1月 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/12/">12月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/11/">11月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/10/">10月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/09/">9月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/08/">8月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/07/">7月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/06/">6月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/05/">5月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/04/">4月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/03/">3月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/02/">2月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/01/">1月 2020</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/12/">12月 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/11/">11月 2019</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/10/">10月 2019</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/09/">9月 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/08/">8月 2019</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/07/">7月 2019</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/06/">6月 2019</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/05/">5月 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/04/">4月 2019</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/03/">3月 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/02/">2月 2019</a><span class="archive-list-count">16</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/01/">1月 2019</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2018/12/">12月 2018</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2018/11/">11月 2018</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2018/10/">10月 2018</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2018/09/">9月 2018</a><span class="archive-list-count">2</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">タグ</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/AI/">AI</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/AWS/">AWS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Academia/">Academia</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Adobe-Reader/">Adobe Reader</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Alluxio/">Alluxio</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Ambari/">Ambari</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Analytics-Zoo/">Analytics Zoo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Ansible/">Ansible</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Apache-Edgent/">Apache Edgent</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Apache-Hudi/">Apache Hudi</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Apache-Kafka/">Apache Kafka</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Apache-Spark/">Apache Spark</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Apple/">Apple</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/AutoML/">AutoML</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Automagica/">Automagica</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Autonomous-Database/">Autonomous Database</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/BaaS/">BaaS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Behavioral-Economics/">Behavioral Economics</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Big-Data/">Big Data</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/BigDL/">BigDL</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/BigTop/">BigTop</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/BlazeIt/">BlazeIt</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Blog/">Blog</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Bluetooth/">Bluetooth</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/CDC/">CDC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Camera/">Camera</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/CentOS/">CentOS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/CentOS7/">CentOS7</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/CircleCI/">CircleCI</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Clipper/">Clipper</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Clipping/">Clipping</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Cloud/">Cloud</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Comcast/">Comcast</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Computing-resource/">Computing resource</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Conference/">Conference</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Configuration-Management/">Configuration Management</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Corne-Chocolate/">Corne Chocolate</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Cross-Validation/">Cross Validation</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/DB/">DB</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Dask/">Dask</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Analysis/">Data Analysis</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Analytics/">Data Analytics</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Lake/">Data Lake</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Leakage/">Data Leakage</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Lineage/">Data Lineage</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Mesh/">Data Mesh</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Platform/">Data Platform</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Processing-Engine/">Data Processing Engine</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Spaces/">Data Spaces</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Transformation/">Data Transformation</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Delta-Lake/">Delta Lake</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Delta-Sharing/">Delta Sharing</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/DevSumi/">DevSumi</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Docker/">Docker</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Dockerfile/">Dockerfile</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Druid/">Druid</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/EDC/">EDC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Flask/">Flask</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Flow-Engine/">Flow Engine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Frovedis/">Frovedis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/GIS/">GIS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/GNOME/">GNOME</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/GPD-Pocket/">GPD Pocket</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Git/">Git</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/GitHub-Actions/">GitHub Actions</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Google/">Google</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Goverment/">Goverment</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Graceful-Shutdown/">Graceful Shutdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Gradle/">Gradle</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/HBase/">HBase</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/HDP/">HDP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/HPC/">HPC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Hadoop/">Hadoop</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Hexo/">Hexo</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Hexo-Plugin/">Hexo Plugin</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Hyper/">Hyper</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Hyper-V/">Hyper-V</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/IEEE/">IEEE</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/IPv6/">IPv6</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Icarus/">Icarus</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Incident/">Incident</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Intel/">Intel</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Intellij/">Intellij</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/JSON/">JSON</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Java/">Java</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Jupyter/">Jupyter</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/KVM/">KVM</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kafak-Connect/">Kafak Connect</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kafka/">Kafka</a><span class="tag-list-count">17</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kafka-Connect/">Kafka Connect</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kafka-Streams/">Kafka Streams</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kafka-Summit/">Kafka Summit</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kaggle/">Kaggle</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kappa-Architecture/">Kappa Architecture</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Keyboard/">Keyboard</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kinesis/">Kinesis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kubernetes/">Kubernetes</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Lambda-Architecture/">Lambda Architecture</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Lighthing/">Lighthing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/LinkedIn/">LinkedIn</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/MATE-Desktop/">MATE Desktop</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/ML-Model-Management/">ML Model Management</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/ML-Ops/">ML Ops</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/MLflow/">MLflow</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Machine-Learning/">Machine Learning</a><span class="tag-list-count">29</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Machine-Learning-Lifecycle/">Machine Learning Lifecycle</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Machine-Learning-Lifecycle/">Machine Learning Lifecycle/</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Management/">Management</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Map/">Map</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Markdown/">Markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Messaging-System/">Messaging System</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Metadata-Management/">Metadata Management</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/MillWheel/">MillWheel</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Minikube/">Minikube</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Minio/">Minio</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Model/">Model</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Model-Management/">Model Management</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Monitering/">Monitering</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Mouse/">Mouse</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/NERDTree/">NERDTree</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/NVM/">NVM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Nature-Remo/">Nature Remo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Network/">Network</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/OLAP/">OLAP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/OneDrive/">OneDrive</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/OpML/">OpML</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Open-Data/">Open Data</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Open-Messaging-Benchmark/">Open Messaging Benchmark</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/OpenML/">OpenML</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Oracle/">Oracle</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/PAPIDS/">PAPIDS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/PDF/">PDF</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Pandoc/">Pandoc</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Paper/">Paper</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Parquet/">Parquet</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Partial-Dependency-Plot/">Partial Dependency Plot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Pinot/">Pinot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Pipenv/">Pipenv</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/PostgreSQL/">PostgreSQL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Power-Grid-Data/">Power Grid Data</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/PowerShell/">PowerShell</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Preparation/">Preparation</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Profiler/">Profiler</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Pulsar/">Pulsar</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/PySpark/">PySpark</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Python/">Python</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Python3/">Python3</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/QMK/">QMK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Query-Engine/">Query Engine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/RDBMS/">RDBMS</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/RPA/">RPA</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Redshift/">Redshift</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Research-later/">Research later</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/S3/">S3</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/SBT/">SBT</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/SQLAlchemy/">SQLAlchemy</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/SQLite/">SQLite</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/SX-Aurora/">SX-Aurora</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Samba/">Samba</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Scala/">Scala</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Scraping/">Scraping</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Seaborn/">Seaborn</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Security/">Security</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Session/">Session</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Slenium/">Slenium</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Smart-Home/">Smart Home</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Snowflake/">Snowflake</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Software-Engineering-Patterns/">Software Engineering Patterns</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Spark/">Spark</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Spark-Summit/">Spark Summit</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Sphinx/">Sphinx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Statistic/">Statistic</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Stonebraker/">Stonebraker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Storage/">Storage</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Storage-Engine/">Storage Engine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Storage-Layer/">Storage Layer</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Storage-Layer-Software/">Storage Layer Software</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Stream-Processing/">Stream Processing</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Superset/">Superset</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Supervision/">Supervision</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Tellus/">Tellus</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/TensorFlow/">TensorFlow</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/TensorFlowOnSpark/">TensorFlowOnSpark</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Tools/">Tools</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Trends/">Trends</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Troubleshoot/">Troubleshoot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Twitter/">Twitter</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Twitter-Heron/">Twitter Heron</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Uber/">Uber</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Ubuntu/">Ubuntu</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/VMWare/">VMWare</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Vagrant/">Vagrant</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Vault/">Vault</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Vector-Engine/">Vector Engine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Video-Processing/">Video Processing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Vim/">Vim</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Visualization/">Visualization</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/WSL/">WSL</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Web/">Web</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/WhereHows/">WhereHows</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/WiFi/">WiFi</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/WiFi6/">WiFi6</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Windows/">Windows</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Windows-Tools/">Windows Tools</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Word/">Word</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Word2Vec/">Word2Vec</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/X-Window/">X Window</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/X-Road/">X-Road</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/XGBoost/">XGBoost</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Zeppelin/">Zeppelin</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/ZooKeeper/">ZooKeeper</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/bug/">bug</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/dein/">dein</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/dstat/">dstat</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/fsync/">fsync</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/git/">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/keyboard/">keyboard</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/libvirt/">libvirt</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/markdown/">markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/nltk/">nltk</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/pandoc/">pandoc</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/pyenv/">pyenv</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/tmux/">tmux</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/vim/">vim</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/windows/">windows</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">タグクラウド</h3>
        <div class="widget tagcloud">
            <a href="/memo-blog/tags/AI/" style="font-size: 10px;">AI</a> <a href="/memo-blog/tags/AWS/" style="font-size: 10px;">AWS</a> <a href="/memo-blog/tags/Academia/" style="font-size: 10px;">Academia</a> <a href="/memo-blog/tags/Adobe-Reader/" style="font-size: 10px;">Adobe Reader</a> <a href="/memo-blog/tags/Alluxio/" style="font-size: 10.83px;">Alluxio</a> <a href="/memo-blog/tags/Ambari/" style="font-size: 10px;">Ambari</a> <a href="/memo-blog/tags/Analytics-Zoo/" style="font-size: 10px;">Analytics Zoo</a> <a href="/memo-blog/tags/Ansible/" style="font-size: 11.67px;">Ansible</a> <a href="/memo-blog/tags/Apache-Edgent/" style="font-size: 10px;">Apache Edgent</a> <a href="/memo-blog/tags/Apache-Hudi/" style="font-size: 10px;">Apache Hudi</a> <a href="/memo-blog/tags/Apache-Kafka/" style="font-size: 10px;">Apache Kafka</a> <a href="/memo-blog/tags/Apache-Spark/" style="font-size: 11.67px;">Apache Spark</a> <a href="/memo-blog/tags/Apple/" style="font-size: 10px;">Apple</a> <a href="/memo-blog/tags/AutoML/" style="font-size: 10.83px;">AutoML</a> <a href="/memo-blog/tags/Automagica/" style="font-size: 10px;">Automagica</a> <a href="/memo-blog/tags/Autonomous-Database/" style="font-size: 10px;">Autonomous Database</a> <a href="/memo-blog/tags/BaaS/" style="font-size: 10px;">BaaS</a> <a href="/memo-blog/tags/Behavioral-Economics/" style="font-size: 10px;">Behavioral Economics</a> <a href="/memo-blog/tags/Big-Data/" style="font-size: 10px;">Big Data</a> <a href="/memo-blog/tags/BigDL/" style="font-size: 10.83px;">BigDL</a> <a href="/memo-blog/tags/BigTop/" style="font-size: 10.83px;">BigTop</a> <a href="/memo-blog/tags/BlazeIt/" style="font-size: 10px;">BlazeIt</a> <a href="/memo-blog/tags/Blog/" style="font-size: 10px;">Blog</a> <a href="/memo-blog/tags/Bluetooth/" style="font-size: 10px;">Bluetooth</a> <a href="/memo-blog/tags/CDC/" style="font-size: 10px;">CDC</a> <a href="/memo-blog/tags/Camera/" style="font-size: 10px;">Camera</a> <a href="/memo-blog/tags/CentOS/" style="font-size: 10px;">CentOS</a> <a href="/memo-blog/tags/CentOS7/" style="font-size: 11.67px;">CentOS7</a> <a href="/memo-blog/tags/CircleCI/" style="font-size: 10px;">CircleCI</a> <a href="/memo-blog/tags/Clipper/" style="font-size: 10px;">Clipper</a> <a href="/memo-blog/tags/Clipping/" style="font-size: 10px;">Clipping</a> <a href="/memo-blog/tags/Cloud/" style="font-size: 10px;">Cloud</a> <a href="/memo-blog/tags/Comcast/" style="font-size: 10px;">Comcast</a> <a href="/memo-blog/tags/Computing-resource/" style="font-size: 10px;">Computing resource</a> <a href="/memo-blog/tags/Conference/" style="font-size: 10px;">Conference</a> <a href="/memo-blog/tags/Configuration-Management/" style="font-size: 10px;">Configuration Management</a> <a href="/memo-blog/tags/Corne-Chocolate/" style="font-size: 10px;">Corne Chocolate</a> <a href="/memo-blog/tags/Cross-Validation/" style="font-size: 10px;">Cross Validation</a> <a href="/memo-blog/tags/DB/" style="font-size: 10px;">DB</a> <a href="/memo-blog/tags/Dask/" style="font-size: 10.83px;">Dask</a> <a href="/memo-blog/tags/Data-Analysis/" style="font-size: 10.83px;">Data Analysis</a> <a href="/memo-blog/tags/Data-Analytics/" style="font-size: 10px;">Data Analytics</a> <a href="/memo-blog/tags/Data-Lake/" style="font-size: 10px;">Data Lake</a> <a href="/memo-blog/tags/Data-Leakage/" style="font-size: 10px;">Data Leakage</a> <a href="/memo-blog/tags/Data-Lineage/" style="font-size: 10px;">Data Lineage</a> <a href="/memo-blog/tags/Data-Mesh/" style="font-size: 10px;">Data Mesh</a> <a href="/memo-blog/tags/Data-Platform/" style="font-size: 10px;">Data Platform</a> <a href="/memo-blog/tags/Data-Processing-Engine/" style="font-size: 10.83px;">Data Processing Engine</a> <a href="/memo-blog/tags/Data-Spaces/" style="font-size: 10px;">Data Spaces</a> <a href="/memo-blog/tags/Data-Transformation/" style="font-size: 10.83px;">Data Transformation</a> <a href="/memo-blog/tags/Delta-Lake/" style="font-size: 17.5px;">Delta Lake</a> <a href="/memo-blog/tags/Delta-Sharing/" style="font-size: 12.5px;">Delta Sharing</a> <a href="/memo-blog/tags/DevSumi/" style="font-size: 10px;">DevSumi</a> <a href="/memo-blog/tags/Docker/" style="font-size: 15px;">Docker</a> <a href="/memo-blog/tags/Dockerfile/" style="font-size: 10.83px;">Dockerfile</a> <a href="/memo-blog/tags/Druid/" style="font-size: 10px;">Druid</a> <a href="/memo-blog/tags/EDC/" style="font-size: 10px;">EDC</a> <a href="/memo-blog/tags/Flask/" style="font-size: 11.67px;">Flask</a> <a href="/memo-blog/tags/Flow-Engine/" style="font-size: 10px;">Flow Engine</a> <a href="/memo-blog/tags/Frovedis/" style="font-size: 10px;">Frovedis</a> <a href="/memo-blog/tags/GIS/" style="font-size: 10px;">GIS</a> <a href="/memo-blog/tags/GNOME/" style="font-size: 10px;">GNOME</a> <a href="/memo-blog/tags/GPD-Pocket/" style="font-size: 10px;">GPD Pocket</a> <a href="/memo-blog/tags/Git/" style="font-size: 10.83px;">Git</a> <a href="/memo-blog/tags/GitHub-Actions/" style="font-size: 10px;">GitHub Actions</a> <a href="/memo-blog/tags/Google/" style="font-size: 10px;">Google</a> <a href="/memo-blog/tags/Goverment/" style="font-size: 10px;">Goverment</a> <a href="/memo-blog/tags/Graceful-Shutdown/" style="font-size: 10px;">Graceful Shutdown</a> <a href="/memo-blog/tags/Gradle/" style="font-size: 10px;">Gradle</a> <a href="/memo-blog/tags/HBase/" style="font-size: 10px;">HBase</a> <a href="/memo-blog/tags/HDP/" style="font-size: 10px;">HDP</a> <a href="/memo-blog/tags/HPC/" style="font-size: 10px;">HPC</a> <a href="/memo-blog/tags/Hadoop/" style="font-size: 11.67px;">Hadoop</a> <a href="/memo-blog/tags/Hexo/" style="font-size: 16.67px;">Hexo</a> <a href="/memo-blog/tags/Hexo-Plugin/" style="font-size: 10px;">Hexo Plugin</a> <a href="/memo-blog/tags/Hyper/" style="font-size: 10.83px;">Hyper</a> <a href="/memo-blog/tags/Hyper-V/" style="font-size: 10.83px;">Hyper-V</a> <a href="/memo-blog/tags/IEEE/" style="font-size: 10.83px;">IEEE</a> <a href="/memo-blog/tags/IPv6/" style="font-size: 10px;">IPv6</a> <a href="/memo-blog/tags/Icarus/" style="font-size: 10px;">Icarus</a> <a href="/memo-blog/tags/Incident/" style="font-size: 10px;">Incident</a> <a href="/memo-blog/tags/Intel/" style="font-size: 10px;">Intel</a> <a href="/memo-blog/tags/Intellij/" style="font-size: 10.83px;">Intellij</a> <a href="/memo-blog/tags/JSON/" style="font-size: 10px;">JSON</a> <a href="/memo-blog/tags/Java/" style="font-size: 10px;">Java</a> <a href="/memo-blog/tags/Jupyter/" style="font-size: 10.83px;">Jupyter</a> <a href="/memo-blog/tags/KVM/" style="font-size: 11.67px;">KVM</a> <a href="/memo-blog/tags/Kafak-Connect/" style="font-size: 10px;">Kafak Connect</a> <a href="/memo-blog/tags/Kafka/" style="font-size: 19.17px;">Kafka</a> <a href="/memo-blog/tags/Kafka-Connect/" style="font-size: 10px;">Kafka Connect</a> <a href="/memo-blog/tags/Kafka-Streams/" style="font-size: 10.83px;">Kafka Streams</a> <a href="/memo-blog/tags/Kafka-Summit/" style="font-size: 10px;">Kafka Summit</a> <a href="/memo-blog/tags/Kaggle/" style="font-size: 15px;">Kaggle</a> <a href="/memo-blog/tags/Kappa-Architecture/" style="font-size: 10px;">Kappa Architecture</a> <a href="/memo-blog/tags/Keyboard/" style="font-size: 10.83px;">Keyboard</a> <a href="/memo-blog/tags/Kinesis/" style="font-size: 10px;">Kinesis</a> <a href="/memo-blog/tags/Kubernetes/" style="font-size: 11.67px;">Kubernetes</a> <a href="/memo-blog/tags/Lambda-Architecture/" style="font-size: 10px;">Lambda Architecture</a> <a href="/memo-blog/tags/Lighthing/" style="font-size: 10px;">Lighthing</a> <a href="/memo-blog/tags/LinkedIn/" style="font-size: 12.5px;">LinkedIn</a> <a href="/memo-blog/tags/MATE-Desktop/" style="font-size: 10px;">MATE Desktop</a> <a href="/memo-blog/tags/ML-Model-Management/" style="font-size: 10.83px;">ML Model Management</a> <a href="/memo-blog/tags/ML-Ops/" style="font-size: 10px;">ML Ops</a> <a href="/memo-blog/tags/MLflow/" style="font-size: 10px;">MLflow</a> <a href="/memo-blog/tags/Machine-Learning/" style="font-size: 20px;">Machine Learning</a> <a href="/memo-blog/tags/Machine-Learning-Lifecycle/" style="font-size: 10px;">Machine Learning Lifecycle</a> <a href="/memo-blog/tags/Machine-Learning-Lifecycle/" style="font-size: 10px;">Machine Learning Lifecycle/</a> <a href="/memo-blog/tags/Management/" style="font-size: 10px;">Management</a> <a href="/memo-blog/tags/Map/" style="font-size: 10px;">Map</a> <a href="/memo-blog/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/memo-blog/tags/Messaging-System/" style="font-size: 10px;">Messaging System</a> <a href="/memo-blog/tags/Metadata-Management/" style="font-size: 10px;">Metadata Management</a> <a href="/memo-blog/tags/MillWheel/" style="font-size: 10px;">MillWheel</a> <a href="/memo-blog/tags/Minikube/" style="font-size: 10px;">Minikube</a> <a href="/memo-blog/tags/Minio/" style="font-size: 10.83px;">Minio</a> <a href="/memo-blog/tags/Model/" style="font-size: 12.5px;">Model</a> <a href="/memo-blog/tags/Model-Management/" style="font-size: 12.5px;">Model Management</a> <a href="/memo-blog/tags/Monitering/" style="font-size: 10px;">Monitering</a> <a href="/memo-blog/tags/Mouse/" style="font-size: 10px;">Mouse</a> <a href="/memo-blog/tags/NERDTree/" style="font-size: 10px;">NERDTree</a> <a href="/memo-blog/tags/NVM/" style="font-size: 10px;">NVM</a> <a href="/memo-blog/tags/Nature-Remo/" style="font-size: 10px;">Nature Remo</a> <a href="/memo-blog/tags/Network/" style="font-size: 10px;">Network</a> <a href="/memo-blog/tags/OLAP/" style="font-size: 10px;">OLAP</a> <a href="/memo-blog/tags/OneDrive/" style="font-size: 10px;">OneDrive</a> <a href="/memo-blog/tags/OpML/" style="font-size: 10px;">OpML</a> <a href="/memo-blog/tags/Open-Data/" style="font-size: 10.83px;">Open Data</a> <a href="/memo-blog/tags/Open-Messaging-Benchmark/" style="font-size: 10px;">Open Messaging Benchmark</a> <a href="/memo-blog/tags/OpenML/" style="font-size: 10px;">OpenML</a> <a href="/memo-blog/tags/Oracle/" style="font-size: 10px;">Oracle</a> <a href="/memo-blog/tags/PAPIDS/" style="font-size: 10px;">PAPIDS</a> <a href="/memo-blog/tags/PDF/" style="font-size: 10px;">PDF</a> <a href="/memo-blog/tags/Pandoc/" style="font-size: 10px;">Pandoc</a> <a href="/memo-blog/tags/Paper/" style="font-size: 18.33px;">Paper</a> <a href="/memo-blog/tags/Parquet/" style="font-size: 10px;">Parquet</a> <a href="/memo-blog/tags/Partial-Dependency-Plot/" style="font-size: 10px;">Partial Dependency Plot</a> <a href="/memo-blog/tags/Pinot/" style="font-size: 10px;">Pinot</a> <a href="/memo-blog/tags/Pipenv/" style="font-size: 10px;">Pipenv</a> <a href="/memo-blog/tags/PostgreSQL/" style="font-size: 10px;">PostgreSQL</a> <a href="/memo-blog/tags/Power-Grid-Data/" style="font-size: 10px;">Power Grid Data</a> <a href="/memo-blog/tags/PowerShell/" style="font-size: 10px;">PowerShell</a> <a href="/memo-blog/tags/Preparation/" style="font-size: 10.83px;">Preparation</a> <a href="/memo-blog/tags/Profiler/" style="font-size: 10px;">Profiler</a> <a href="/memo-blog/tags/Pulsar/" style="font-size: 10px;">Pulsar</a> <a href="/memo-blog/tags/PySpark/" style="font-size: 12.5px;">PySpark</a> <a href="/memo-blog/tags/Python/" style="font-size: 17.5px;">Python</a> <a href="/memo-blog/tags/Python3/" style="font-size: 10px;">Python3</a> <a href="/memo-blog/tags/QMK/" style="font-size: 10px;">QMK</a> <a href="/memo-blog/tags/Query-Engine/" style="font-size: 10px;">Query Engine</a> <a href="/memo-blog/tags/RDBMS/" style="font-size: 10.83px;">RDBMS</a> <a href="/memo-blog/tags/RPA/" style="font-size: 10px;">RPA</a> <a href="/memo-blog/tags/Redshift/" style="font-size: 10px;">Redshift</a> <a href="/memo-blog/tags/Research-later/" style="font-size: 10px;">Research later</a> <a href="/memo-blog/tags/S3/" style="font-size: 10px;">S3</a> <a href="/memo-blog/tags/SBT/" style="font-size: 10px;">SBT</a> <a href="/memo-blog/tags/SQLAlchemy/" style="font-size: 10.83px;">SQLAlchemy</a> <a href="/memo-blog/tags/SQLite/" style="font-size: 10px;">SQLite</a> <a href="/memo-blog/tags/SX-Aurora/" style="font-size: 10px;">SX-Aurora</a> <a href="/memo-blog/tags/Samba/" style="font-size: 10px;">Samba</a> <a href="/memo-blog/tags/Scala/" style="font-size: 10px;">Scala</a> <a href="/memo-blog/tags/Scraping/" style="font-size: 10px;">Scraping</a> <a href="/memo-blog/tags/Seaborn/" style="font-size: 10px;">Seaborn</a> <a href="/memo-blog/tags/Security/" style="font-size: 10px;">Security</a> <a href="/memo-blog/tags/Session/" style="font-size: 10px;">Session</a> <a href="/memo-blog/tags/Slenium/" style="font-size: 10px;">Slenium</a> <a href="/memo-blog/tags/Smart-Home/" style="font-size: 10px;">Smart Home</a> <a href="/memo-blog/tags/Snowflake/" style="font-size: 10px;">Snowflake</a> <a href="/memo-blog/tags/Software-Engineering-Patterns/" style="font-size: 10px;">Software Engineering Patterns</a> <a href="/memo-blog/tags/Spark/" style="font-size: 15.83px;">Spark</a> <a href="/memo-blog/tags/Spark-Summit/" style="font-size: 10px;">Spark Summit</a> <a href="/memo-blog/tags/Sphinx/" style="font-size: 10px;">Sphinx</a> <a href="/memo-blog/tags/Statistic/" style="font-size: 10px;">Statistic</a> <a href="/memo-blog/tags/Stonebraker/" style="font-size: 10px;">Stonebraker</a> <a href="/memo-blog/tags/Storage/" style="font-size: 10px;">Storage</a> <a href="/memo-blog/tags/Storage-Engine/" style="font-size: 10px;">Storage Engine</a> <a href="/memo-blog/tags/Storage-Layer/" style="font-size: 11.67px;">Storage Layer</a> <a href="/memo-blog/tags/Storage-Layer-Software/" style="font-size: 10px;">Storage Layer Software</a> <a href="/memo-blog/tags/Stream-Processing/" style="font-size: 18.33px;">Stream Processing</a> <a href="/memo-blog/tags/Superset/" style="font-size: 10px;">Superset</a> <a href="/memo-blog/tags/Supervision/" style="font-size: 10px;">Supervision</a> <a href="/memo-blog/tags/Tellus/" style="font-size: 10px;">Tellus</a> <a href="/memo-blog/tags/TensorFlow/" style="font-size: 11.67px;">TensorFlow</a> <a href="/memo-blog/tags/TensorFlowOnSpark/" style="font-size: 10.83px;">TensorFlowOnSpark</a> <a href="/memo-blog/tags/Tools/" style="font-size: 10px;">Tools</a> <a href="/memo-blog/tags/Trends/" style="font-size: 10px;">Trends</a> <a href="/memo-blog/tags/Troubleshoot/" style="font-size: 10px;">Troubleshoot</a> <a href="/memo-blog/tags/Twitter/" style="font-size: 10px;">Twitter</a> <a href="/memo-blog/tags/Twitter-Heron/" style="font-size: 10px;">Twitter Heron</a> <a href="/memo-blog/tags/Uber/" style="font-size: 10.83px;">Uber</a> <a href="/memo-blog/tags/Ubuntu/" style="font-size: 15px;">Ubuntu</a> <a href="/memo-blog/tags/VMWare/" style="font-size: 10px;">VMWare</a> <a href="/memo-blog/tags/Vagrant/" style="font-size: 10.83px;">Vagrant</a> <a href="/memo-blog/tags/Vault/" style="font-size: 10px;">Vault</a> <a href="/memo-blog/tags/Vector-Engine/" style="font-size: 10px;">Vector Engine</a> <a href="/memo-blog/tags/Video-Processing/" style="font-size: 10px;">Video Processing</a> <a href="/memo-blog/tags/Vim/" style="font-size: 10.83px;">Vim</a> <a href="/memo-blog/tags/Visualization/" style="font-size: 10.83px;">Visualization</a> <a href="/memo-blog/tags/WSL/" style="font-size: 14.17px;">WSL</a> <a href="/memo-blog/tags/Web/" style="font-size: 10px;">Web</a> <a href="/memo-blog/tags/WhereHows/" style="font-size: 10px;">WhereHows</a> <a href="/memo-blog/tags/WiFi/" style="font-size: 10px;">WiFi</a> <a href="/memo-blog/tags/WiFi6/" style="font-size: 10px;">WiFi6</a> <a href="/memo-blog/tags/Windows/" style="font-size: 13.33px;">Windows</a> <a href="/memo-blog/tags/Windows-Tools/" style="font-size: 10px;">Windows Tools</a> <a href="/memo-blog/tags/Word/" style="font-size: 10px;">Word</a> <a href="/memo-blog/tags/Word2Vec/" style="font-size: 10px;">Word2Vec</a> <a href="/memo-blog/tags/X-Window/" style="font-size: 10px;">X Window</a> <a href="/memo-blog/tags/X-Road/" style="font-size: 10px;">X-Road</a> <a href="/memo-blog/tags/XGBoost/" style="font-size: 10px;">XGBoost</a> <a href="/memo-blog/tags/Zeppelin/" style="font-size: 10px;">Zeppelin</a> <a href="/memo-blog/tags/ZooKeeper/" style="font-size: 12.5px;">ZooKeeper</a> <a href="/memo-blog/tags/bug/" style="font-size: 10px;">bug</a> <a href="/memo-blog/tags/dein/" style="font-size: 10px;">dein</a> <a href="/memo-blog/tags/dstat/" style="font-size: 10px;">dstat</a> <a href="/memo-blog/tags/fsync/" style="font-size: 10px;">fsync</a> <a href="/memo-blog/tags/git/" style="font-size: 10px;">git</a> <a href="/memo-blog/tags/keyboard/" style="font-size: 10px;">keyboard</a> <a href="/memo-blog/tags/libvirt/" style="font-size: 10px;">libvirt</a> <a href="/memo-blog/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/memo-blog/tags/nltk/" style="font-size: 10px;">nltk</a> <a href="/memo-blog/tags/pandoc/" style="font-size: 11.67px;">pandoc</a> <a href="/memo-blog/tags/pyenv/" style="font-size: 10px;">pyenv</a> <a href="/memo-blog/tags/tmux/" style="font-size: 10.83px;">tmux</a> <a href="/memo-blog/tags/vim/" style="font-size: 14.17px;">vim</a> <a href="/memo-blog/tags/windows/" style="font-size: 10px;">windows</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">リンク</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fas fa-angle-up"></div>
</aside>

            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2023 dobachi<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        


    
        <script src="/memo-blog/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/memo-blog/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/memo-blog/js/main.js"></script>

    </div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>