<!DOCTYPE html>
<html lang="ja">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    
    <title>memo-blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="This is just a memo">
<meta property="og:type" content="website">
<meta property="og:title" content="memo-blog">
<meta property="og:url" content="https://dobachi.github.io/memo-blog/page/3/index.html">
<meta property="og:site_name" content="memo-blog">
<meta property="og:description" content="This is just a memo">
<meta property="og:locale" content="ja">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="memo-blog">
<meta name="twitter:description" content="This is just a memo">
    

    
        <link rel="alternate" href="/" title="memo-blog" type="application/atom+xml">
    

    

    <link rel="stylesheet" href="/memo-blog/libs/font-awesome5/css/fontawesome.min.css">
    <link rel="stylesheet" href="/memo-blog/libs/font-awesome5/css/fa-brands.min.css">
    <link rel="stylesheet" href="/memo-blog/libs/font-awesome5/css/fa-solid.min.css">
    <link rel="stylesheet" href="/memo-blog/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/memo-blog/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/memo-blog/css/style.css">

    <script src="/memo-blog/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/memo-blog/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/memo-blog/libs/justified-gallery/justifiedGallery.min.css">
    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-155235180-1', 'auto');
ga('send', 'pageview');

</script>
    
    
    


</head>
</html>
<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/memo-blog/" id="logo">
                <i class="logo"></i>
                <span class="site-title">memo-blog</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/memo-blog/.">Home</a>
                
                    <a class="main-nav-link" href="/memo-blog/archives">Archives</a>
                
                    <a class="main-nav-link" href="/memo-blog/categories">Categories</a>
                
                    <a class="main-nav-link" href="/memo-blog/tags">Tags</a>
                
                    <a class="main-nav-link" href="/memo-blog/about">About</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/memo-blog/css/images/avatar.png" />
                            <i class="fas fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="検索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fas fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '投稿',
            PAGES: 'Pages',
            CATEGORIES: 'カテゴリ',
            TAGS: 'タグ',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/memo-blog/',
        CONTENT_URL: '/memo-blog/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/memo-blog/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/memo-blog/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/memo-blog/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/memo-blog/categories">Categories</a></td>
                
                    <td><a class="main-nav-link" href="/memo-blog/tags">Tags</a></td>
                
                    <td><a class="main-nav-link" href="/memo-blog/about">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="検索" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile" class="profile-fixed">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/memo-blog/css/images/avatar.png" />
            <h2 id="name">dobachi</h2>
            <h3 id="title">man of leisure</h3>
            <span id="location"><i class="fas fa-map-marker-alt" style="padding-right: 5px"></i>Tokyo, Japan</span>
            <a id="follow" target="_blank" href="https://github.com/dobachi">フォローする</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                212
                <span>投稿</span>
            </div>
            <div class="article-info-block">
                231
                <span>タグ</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="http://github.com/dobachi" target="_blank" title="github" class=tooltip>
                            <i class="fab fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/memo-blog/" target="_blank" title="rss" class=tooltip>
                            <i class="fab fa-rss"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main">
    <article id="post-Source-Code-Reading-of-Delta-Sharing" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2021/08/30/Source-Code-Reading-of-Delta-Sharing/">Source Code Reading of Delta Sharing</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2021/08/30/Source-Code-Reading-of-Delta-Sharing/">
            <time datetime="2021-08-30T03:51:21.000Z" itemprop="datePublished">2021-08-30</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Data-Collaboration/">Data Collaboration</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Data-Collaboration/Delta-Sharing/">Delta Sharing</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/Delta-Lake/">Delta Lake</a>, <a class="tag-link" href="/memo-blog/tags/Delta-Sharing/">Delta Sharing</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#参考" id="toc-参考">参考</a></li>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#サーバの参考実装" id="toc-サーバの参考実装">サーバの参考実装</a>
<ul>
<li><a href="#io.delta.sharing.server.deltasharingserviceの概略起動の流れ" id="toc-io.delta.sharing.server.deltasharingserviceの概略起動の流れ">io.delta.sharing.server.DeltaSharingServiceの概略（起動の流れ）</a></li>
<li><a href="#shareのリストを返す箇所の実装" id="toc-shareのリストを返す箇所の実装">Shareのリストを返す箇所の実装</a></li>
<li><a href="#テーブルのバージョンを返す箇所の実装" id="toc-テーブルのバージョンを返す箇所の実装">テーブルのバージョンを返す箇所の実装</a></li>
<li><a href="#io.delta.standalone.internal.deltasharedtable-クラス" id="toc-io.delta.standalone.internal.deltasharedtable-クラス">io.delta.standalone.internal.DeltaSharedTable
クラス</a></li>
<li><a href="#ファイルリストを返す箇所の実装" id="toc-ファイルリストを返す箇所の実装">ファイルリストを返す箇所の実装</a></li>
<li><a href="#クラスローダについて" id="toc-クラスローダについて">クラスローダについて</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<h1><span id="参考">参考</span></h1>
<ul>
<li><a href="https://github.com/delta-io/delta-sharing" target="_blank" rel="noopener">Delta
Sharingの公式GitHub</a></li>
<li><a href="https://github.com/delta-io/delta-sharing/blob/main/PROTOCOL.md#read-data-from-a-table" target="_blank" rel="noopener">Read
Data from a Table</a></li>
</ul>
<ul>
<li><a href="https://armeria.dev/" target="_blank" rel="noopener">Armeria</a></li>
<li><a href="https://armeria.dev/docs/server-annotated-service/" target="_blank" rel="noopener">ArmeriaのAnnotated
service</a></li>
</ul>
<h1><span id="メモ">メモ</span></h1>
<h2><span id="サーバの参考実装">サーバの参考実装</span></h2>
<h3><span id="iodeltasharingserverdeltasharingserviceの概略起動の流れ">io.delta.sharing.server.DeltaSharingServiceの概略（起動の流れ）</span></h3>
<p>サーバ起動スクリプトを見ると、以下のように
<code>io.delta.sharing.server.DeltaSharingService</code>
クラスが用いられている事が分かる。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">declare -r lib_dir="$(realpath "$&#123;app_home&#125;/../lib")"</span><br><span class="line">declare -a app_mainclass=(io.delta.sharing.server.DeltaSharingService)</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">エントリポイントは以下の通り、</span><br><span class="line"></span><br><span class="line">io/delta/sharing/server/DeltaSharingService.scala:276</span><br><span class="line"></span><br><span class="line">```scala</span><br><span class="line">  def main(args: Array[String]): Unit = &#123;</span><br><span class="line">    val ns = parser.parseArgsOrFail(args)</span><br><span class="line">    val serverConfigPath = ns.getString("config")</span><br><span class="line">    val serverConf = ServerConfig.load(serverConfigPath)</span><br><span class="line">    start(serverConf).blockUntilShutdown()</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h4><span id="コンフィグのロード">コンフィグのロード</span></h4>
<p>渡された設定ファイルのPATHを用いて、設定を読み込む。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Load the configurations for the server from the config file. If the file name ends with</span></span><br><span class="line"><span class="comment"> * `.yaml` or `.yml`, load it using the YAML parser. Otherwise, throw an error.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load</span></span>(configFile: <span class="type">String</span>): <span class="type">ServerConfig</span> = &#123;</span><br><span class="line">  <span class="keyword">if</span> (configFile.endsWith(<span class="string">".yaml"</span>) || configFile.endsWith(<span class="string">".yml"</span>)) &#123;</span><br><span class="line">    <span class="keyword">val</span> serverConfig =</span><br><span class="line">      createYamlObjectMapper.readValue(<span class="keyword">new</span> <span class="type">File</span>(configFile), classOf[<span class="type">ServerConfig</span>])</span><br><span class="line">    serverConfig.checkConfig()</span><br><span class="line">    serverConfig</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">IOException</span>(<span class="string">"The server config file must be a yml or yaml file"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4><span id="startメソッド">startメソッド</span></h4>
<p>オブジェクトのmainメソッド。その中で用いられている、
<code>start</code> メソッド内を確認していく。</p>
<p>io/delta/sharing/server/DeltaSharingService.scala:230</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">start</span></span>(serverConfig: <span class="type">ServerConfig</span>): <span class="type">Server</span> = &#123;</span><br><span class="line">  <span class="keyword">lazy</span> <span class="keyword">val</span> server = &#123;</span><br><span class="line">    updateDefaultJsonPrinterForScalaPbConverterUtil()</span><br><span class="line">    <span class="keyword">val</span> builder = <span class="type">Server</span>.builder()</span><br><span class="line">      .defaultHostname(serverConfig.getHost)</span><br><span class="line">      .disableDateHeader()</span><br><span class="line">      .disableServerHeader()</span><br><span class="line">      .annotatedService(serverConfig.endpoint, <span class="keyword">new</span> <span class="type">DeltaSharingService</span>(serverConfig): <span class="type">Any</span>)</span><br><span class="line">    <span class="keyword">if</span> (serverConfig.ssl == <span class="literal">null</span>) &#123;</span><br><span class="line">      builder.http(serverConfig.getPort)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      builder.https(serverConfig.getPort)</span><br><span class="line">      <span class="keyword">if</span> (serverConfig.ssl.selfSigned) &#123;</span><br><span class="line">        builder.tlsSelfSigned()</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (serverConfig.ssl.certificatePasswordFile == <span class="literal">null</span>) &#123;</span><br><span class="line">          builder.tls(</span><br><span class="line">            <span class="keyword">new</span> <span class="type">File</span>(serverConfig.ssl.certificateFile),</span><br><span class="line">            <span class="keyword">new</span> <span class="type">File</span>(serverConfig.ssl.certificateKeyFile))</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          builder.tls(</span><br><span class="line">            <span class="keyword">new</span> <span class="type">File</span>(serverConfig.ssl.certificateFile),</span><br><span class="line">            <span class="keyword">new</span> <span class="type">File</span>(serverConfig.ssl.certificateKeyFile),</span><br><span class="line">            <span class="type">FileUtils</span>.readFileToString(<span class="keyword">new</span> <span class="type">File</span>(serverConfig.ssl.certificatePasswordFile), <span class="type">UTF_8</span>)</span><br><span class="line">          )</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (serverConfig.getAuthorization != <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="comment">// Authorization is set. Set up the authorization using the token in the server config.</span></span><br><span class="line">      <span class="keyword">val</span> authServiceBuilder =</span><br><span class="line">        <span class="type">AuthService</span>.builder.addOAuth2((_: <span class="type">ServiceRequestContext</span>, token: <span class="type">OAuth2Token</span>) =&gt; &#123;</span><br><span class="line">          <span class="comment">// Use `MessageDigest.isEqual` to do a time-constant comparison to avoid timing attacks</span></span><br><span class="line">          <span class="keyword">val</span> authorized = <span class="type">MessageDigest</span>.isEqual(</span><br><span class="line">            token.accessToken.getBytes(<span class="type">UTF_8</span>),</span><br><span class="line">            serverConfig.getAuthorization.getBearerToken.getBytes(<span class="type">UTF_8</span>))</span><br><span class="line">          <span class="type">CompletableFuture</span>.completedFuture(authorized)</span><br><span class="line">        &#125;)</span><br><span class="line">      builder.decorator(authServiceBuilder.newDecorator)</span><br><span class="line">    &#125;</span><br><span class="line">    builder.build()</span><br><span class="line">  &#125;</span><br><span class="line">  server.start().get()</span><br><span class="line">  server</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>一番最後の箇所の通り、</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">server.start().get()</span><br><span class="line">server</span><br></pre></td></tr></table></figure>
<p><code>server</code> は、 <a href="https://armeria.dev/" target="_blank" rel="noopener">Armeria</a>
のビルダを用いてインスタンス化されたサーバを起動する。
なお、<code>start</code>メソッド内ではTLS周りの設定、トークンの設定などが行われる。</p>
<p>なお、サーバに渡されるクラスは以下の通り、</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> builder = <span class="type">Server</span>.builder()</span><br><span class="line">  .defaultHostname(serverConfig.getHost)</span><br><span class="line">  .disableDateHeader()</span><br><span class="line">  .disableServerHeader()</span><br><span class="line">  .annotatedService(serverConfig.endpoint, <span class="keyword">new</span> <span class="type">DeltaSharingService</span>(serverConfig): <span class="type">Any</span>)</span><br></pre></td></tr></table></figure>
<p><code>com.linecorp.armeria.server.ServerBuilder#annotatedService(java.lang.String, java.lang.Object)</code>
メソッドを用いて渡される。 渡されているのは
<code>io.delta.sharing.server.DeltaSharingService</code> クラスである。
<code>annotatedService</code> メソッドについては、 <a href="https://armeria.dev/docs/server-annotated-service/" target="_blank" rel="noopener">ArmeriaのAnnotated
service</a> を参照。</p>
<h3><span id="shareのリストを返す箇所の実装">Shareのリストを返す箇所の実装</span></h3>
<p>以下の通り、</p>
<p>io/delta/sharing/server/DeltaSharingService.scala:108</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Get</span>(<span class="string">"/shares"</span>)</span><br><span class="line"><span class="meta">@ProducesJson</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">listShares</span></span>(</span><br><span class="line">    <span class="meta">@Param</span>(<span class="string">"maxResults"</span>) <span class="meta">@Default</span>(<span class="string">"500"</span>) maxResults: <span class="type">Int</span>,</span><br><span class="line">    <span class="meta">@Param</span>(<span class="string">"pageToken"</span>) <span class="meta">@Nullable</span> pageToken: <span class="type">String</span>): <span class="type">ListSharesResponse</span> = processRequest &#123;</span><br><span class="line">  <span class="keyword">val</span> (shares, nextPageToken) = sharedTableManager.listShares(<span class="type">Option</span>(pageToken), <span class="type">Some</span>(maxResults))</span><br><span class="line">  <span class="type">ListSharesResponse</span>(shares, nextPageToken)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>io.delta.sharing.server.SharedTableManager#SharedTableManager</code>
クラスのインスタンスを利用し、
<code>io.delta.sharing.server.SharedTableManager#listShares</code>
メソッドを用いて、
設定ファイルから読み込んだShareのリストを取得し返す。</p>
<p>つまり、このあたりの値を返す時にはデータ本体にアクセスしていない、ということになる。</p>
<p>仮に...もし設定ファイルに書かれたデータの実体が無かった場合はどうなるのだろうか。
★要確認</p>
<p>テーブルのリスト取得も同じような感じだった。</p>
<h3><span id="テーブルのバージョンを返す箇所の実装">テーブルのバージョンを返す箇所の実装</span></h3>
<p>io/delta/sharing/server/DeltaSharingService.scala:144</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Head</span>(<span class="string">"/shares/&#123;share&#125;/schemas/&#123;schema&#125;/tables/&#123;table&#125;"</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getTableVersion</span></span>(</span><br><span class="line">  <span class="meta">@Param</span>(<span class="string">"share"</span>) share: <span class="type">String</span>,</span><br><span class="line">  <span class="meta">@Param</span>(<span class="string">"schema"</span>) schema: <span class="type">String</span>,</span><br><span class="line">  <span class="meta">@Param</span>(<span class="string">"table"</span>) table: <span class="type">String</span>): <span class="type">HttpResponse</span> = processRequest &#123;</span><br><span class="line">  <span class="keyword">val</span> tableConfig = sharedTableManager.getTable(share, schema, table)</span><br><span class="line">  <span class="keyword">val</span> version = deltaSharedTableLoader.loadTable(tableConfig).tableVersion</span><br><span class="line">  <span class="keyword">val</span> headers = createHeadersBuilderForTableVersion(version).build()</span><br><span class="line">  <span class="type">HttpResponse</span>.of(headers)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>io.delta.sharing.server.SharedTableManager#getTable</code>
メソッドを利用し、コンフィグから読み込んだ情報を元に
テーブル情報を取得する。</p>
<p>つづいて、
<code>io.delta.standalone.internal.DeltaSharedTableLoader#loadTable</code>
メソッドを利用し、
<code>io.delta.standalone.internal.DeltaSharedTable#DeltaSharedTable</code>
クラスのインスタンスを取得する。</p>
<p><code>DeltaSharedTable</code> クラスは、 <code>DeltaLog</code>
クラスをラップした管理用のクラス。</p>
<h3><span id="iodeltastandaloneinternaldeltasharedtableクラス">io.delta.standalone.internal.DeltaSharedTable
クラス</span></h3>
<p>このクラスは、<code>DeltaLog</code>
クラスをラップしたものであり、サーバの管理機能の主要なコンポーネントである。</p>
<h4><span id="deltalogの取得">deltaLogの取得</span></h4>
<p>例えば <code>deltaLog</code> インスタンスを取得できる。</p>
<p>io/delta/standalone/internal/DeltaSharedTableLoader.scala:74</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">val</span> deltaLog = withClassLoader &#123;</span><br><span class="line">  <span class="keyword">val</span> tablePath = <span class="keyword">new</span> <span class="type">Path</span>(tableConfig.getLocation)</span><br><span class="line">  <span class="keyword">val</span> fs = tablePath.getFileSystem(conf)</span><br><span class="line">  <span class="keyword">if</span> (!fs.isInstanceOf[<span class="type">S3AFileSystem</span>]) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">IllegalStateException</span>(<span class="string">"Cannot share tables on non S3 file systems"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">DeltaLog</span>.forTable(conf, tablePath).asInstanceOf[<span class="type">DeltaLogImpl</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上記の通り、内部では
<code>io.delta.standalone.DeltaLog#forTable(org.apache.hadoop.conf.Configuration, org.apache.hadoop.fs.Path)</code>
メソッドが 用いられており、実際にDelta
Lake形式で保存されたデータ本体（Delta
Lakeのメタデータ）にアクセスする。</p>
<h4><span id="テーブルバージョン取得">テーブルバージョン取得</span></h4>
<p>Delta Logの機能を利用し、テーブルのバージョンを取得できる。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Return the current table version */</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tableVersion</span></span>: <span class="type">Long</span> = withClassLoader &#123;</span><br><span class="line">  <span class="keyword">val</span> snapshot = deltaLog.snapshot</span><br><span class="line">  validateDeltaTable(snapshot)</span><br><span class="line">  snapshot.version</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>この機能は
<code>io.delta.sharing.server.DeltaSharingService#getTableVersion</code>
の実装に利用されている。</p>
<h4><span id="クエリ">クエリ</span></h4>
<p><code>io.delta.standalone.internal.DeltaSharedTable#query</code>
メソッドは、 後述の通り、<code>DeltaSharingSerivce</code>
内でファイルリストを取得したり、メタデータを取得したりするときに用いられる。</p>
<h3><span id="ファイルリストを返す箇所の実装">ファイルリストを返す箇所の実装</span></h3>
<p><code>query</code> はファイルリストを返すAPIである。</p>
<p>io/delta/sharing/server/DeltaSharingService.scala:169</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Post</span>(<span class="string">"/shares/&#123;share&#125;/schemas/&#123;schema&#125;/tables/&#123;table&#125;/query"</span>)</span><br><span class="line"><span class="meta">@ConsumesJson</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">listFiles</span></span>(</span><br><span class="line">    <span class="meta">@Param</span>(<span class="string">"share"</span>) share: <span class="type">String</span>,</span><br><span class="line">    <span class="meta">@Param</span>(<span class="string">"schema"</span>) schema: <span class="type">String</span>,</span><br><span class="line">    <span class="meta">@Param</span>(<span class="string">"table"</span>) table: <span class="type">String</span>,</span><br><span class="line">    queryTableRequest: <span class="type">QueryTableRequest</span>): <span class="type">HttpResponse</span> = processRequest &#123;</span><br><span class="line">  <span class="keyword">val</span> tableConfig = sharedTableManager.getTable(share, schema, table)</span><br><span class="line">  <span class="keyword">val</span> (version, actions) = deltaSharedTableLoader.loadTable(tableConfig).query(</span><br><span class="line">    includeFiles = <span class="literal">true</span>,</span><br><span class="line">    queryTableRequest.predicateHints,</span><br><span class="line">    queryTableRequest.limitHint)</span><br><span class="line">  streamingOutput(version, actions)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>特徴的なのは、 <code>predicateHints</code> や <code>limitHint</code>
が渡されており、フィルタ条件が指定できる点。
ただし、公式ドキュメント上では「ベストエフォート」と書かれている。</p>
<p>このメソッドのポイントは、
<code>io.delta.standalone.internal.DeltaSharedTableLoader#DeltaSharedTableLoader</code>
クラスを用いたクエリの部分だと考えられる。
このクラスは、Deltaテーブルの本体にアクセスし、各種情報を読みこむためのもので、コメントを読む限り、キャッシュする機能なども有している。
内部では <code>io.delta.standalone.internal.DeltaSharedTable</code>
クラスが利用されている。 <code>DeltaSharedTable</code> クラスは、
<code>DeltaLog</code> をラップしたものであり、Delta
Logの各種情報をサーバ内で扱うための機能を提供する。</p>
<p>特に、今回用いられているのは
<code>io.delta.standalone.internal.DeltaSharedTable#query</code>
メソッドである。</p>
<p>io/delta/standalone/internal/DeltaSharedTableLoader.scala:118</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">query</span></span>(</span><br><span class="line">      includeFiles: <span class="type">Boolean</span>,</span><br><span class="line">      predicateHits: <span class="type">Seq</span>[<span class="type">String</span>],</span><br><span class="line">      limitHint: <span class="type">Option</span>[<span class="type">Int</span>]): (<span class="type">Long</span>, <span class="type">Seq</span>[model.<span class="type">SingleAction</span>]) = withClassLoader &#123;</span><br><span class="line">    <span class="comment">// TODO Support `limitHint`</span></span><br><span class="line"></span><br><span class="line">(snip)</span><br></pre></td></tr></table></figure>
<p>メソッドの定義の通り、このクエリは最終的に、</p>
<p>io/delta/standalone/internal/DeltaSharedTableLoader.scala:165</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">snapshot.version -&gt; actions</span><br></pre></td></tr></table></figure>
<p>Delta
Logから情報取得したスナップショットのバージョン、ファイル情報のシーケンスを返す。</p>
<p>なお、 <code>actions</code> に格納されている
<code>SingleAction</code> クラスは以下の通り、
ファイルひとつに関する情報、プロトコルの情報、メタデータについての情報を保持している。</p>
<p>io/delta/sharing/server/model.scala:22</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">SingleAction</span>(<span class="params"></span></span></span><br><span class="line"><span class="class"><span class="params">    file: <span class="type">AddFile</span> = null,</span></span></span><br><span class="line"><span class="class"><span class="params">    metaData: <span class="type">Metadata</span> = null,</span></span></span><br><span class="line"><span class="class"><span class="params">    protocol: <span class="type">Protocol</span> = null</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">unwrap</span></span>: <span class="type">Action</span> = &#123;</span><br><span class="line">    <span class="keyword">if</span> (file != <span class="literal">null</span>) &#123;</span><br><span class="line">      file</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (metaData != <span class="literal">null</span>) &#123;</span><br><span class="line">      metaData</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (protocol != <span class="literal">null</span>) &#123;</span><br><span class="line">      protocol</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4><span id="アクションの生成される箇所">アクションの生成される箇所</span></h4>
<p>上記の通り、ここでいう「アクション」とはデータの実体であるファイル1個に関連する情報の塊である。
生成されるのは以下の箇所。</p>
<p>io/delta/standalone/internal/DeltaSharedTableLoader.scala:137</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> actions = <span class="type">Seq</span>(modelProtocol.wrap, modelMetadata.wrap) ++ &#123;</span><br><span class="line">  <span class="keyword">if</span> (includeFiles) &#123;</span><br><span class="line">    <span class="keyword">val</span> selectedFiles = state.activeFiles.values.toSeq</span><br><span class="line">    <span class="keyword">val</span> filteredFilters =</span><br><span class="line">      <span class="keyword">if</span> (evaluatePredicateHints &amp;&amp; modelMetadata.partitionColumns.nonEmpty) &#123;</span><br><span class="line">        <span class="type">PartitionFilterUtils</span>.evaluatePredicate(</span><br><span class="line">          modelMetadata.schemaString,</span><br><span class="line">          modelMetadata.partitionColumns,</span><br><span class="line">          predicateHits,</span><br><span class="line">          selectedFiles</span><br><span class="line">        )</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        selectedFiles</span><br><span class="line">      &#125;</span><br><span class="line">    filteredFilters.map &#123; addFile =&gt;</span><br><span class="line">      <span class="keyword">val</span> cloudPath = absolutePath(deltaLog.dataPath, addFile.path)</span><br><span class="line">      <span class="keyword">val</span> signedUrl = signFile(cloudPath)</span><br><span class="line">      <span class="keyword">val</span> modelAddFile = model.<span class="type">AddFile</span>(url = signedUrl,</span><br><span class="line">        id = <span class="type">Hashing</span>.md5().hashString(addFile.path, <span class="type">UTF_8</span>).toString,</span><br><span class="line">        partitionValues = addFile.partitionValues,</span><br><span class="line">        size = addFile.size,</span><br><span class="line">        stats = addFile.stats)</span><br><span class="line">      modelAddFile.wrap</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="type">Nil</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最初から主要な部分の実装を確認する。</p>
<p>まず、シーケンスを作る際、先頭にプロトコルとメタデータをラップしたアクションが保持される。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> actions = <span class="type">Seq</span>(modelProtocol.wrap, modelMetadata.wrap) ++ &#123;</span><br></pre></td></tr></table></figure>
<p>その後、適宜ファイルに関する情報が格納される。 一応
<code>includeFiles</code>
で空情報を返すかどうかの判定があるが、ここではTrueだとして話を進める。</p>
<p>まず、Delta Lakeテーブルのアクティブなファイルが取得される。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> selectedFiles = state.activeFiles.values.toSeq</span><br></pre></td></tr></table></figure>
<p>つづいて、Predicateヒントがあり、パーティションカラムが設定されている場合は、
それに基づいてフィルタが行われる。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> filteredFilters =</span><br><span class="line">  <span class="keyword">if</span> (evaluatePredicateHints &amp;&amp; modelMetadata.partitionColumns.nonEmpty) &#123;</span><br><span class="line">    <span class="type">PartitionFilterUtils</span>.evaluatePredicate(</span><br><span class="line">      modelMetadata.schemaString,</span><br><span class="line">      modelMetadata.partitionColumns,</span><br><span class="line">      predicateHits,</span><br><span class="line">      selectedFiles</span><br><span class="line">    )</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    selectedFiles</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>ヒントを用いてフィルタしている箇所については後述する。</p>
<p>ここではフィルタされたファイルのリストが返されたとして話を続ける。</p>
<p>次に、<code>AddFile</code>
の情報を用いて、より詳細な情報が確認される。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">filteredFilters.map &#123; addFile =&gt;</span><br><span class="line">  <span class="keyword">val</span> cloudPath = absolutePath(deltaLog.dataPath, addFile.path)</span><br><span class="line">  <span class="keyword">val</span> signedUrl = signFile(cloudPath)</span><br><span class="line">  <span class="keyword">val</span> modelAddFile = model.<span class="type">AddFile</span>(url = signedUrl,</span><br><span class="line">    id = <span class="type">Hashing</span>.md5().hashString(addFile.path, <span class="type">UTF_8</span>).toString,</span><br><span class="line">    partitionValues = addFile.partitionValues,</span><br><span class="line">    size = addFile.size,</span><br><span class="line">    stats = addFile.stats)</span><br><span class="line">  modelAddFile.wrap</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>絶対PATH（というかURL）の取得、下回りのストレージ（現時点ではS3のみ対応）の署名済みURL取得が行われ、
改めて <code>AddFile</code>
に格納されたのち、アクションにラップされて返される。</p>
<p>ここで、1点だけ署名済みURL取得する部分だけ確認する。 取得には、
<code>io.delta.standalone.internal.DeltaSharedTable#signFile</code>
メソッドが用いられる。</p>
<p>io/delta/standalone/internal/DeltaSharedTableLoader.scala:192</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">def</span> <span class="title">signFile</span></span>(path: <span class="type">Path</span>): <span class="type">String</span> = &#123;</span><br><span class="line">  <span class="keyword">val</span> absPath = path.toUri</span><br><span class="line">  <span class="keyword">val</span> bucketName = absPath.getHost</span><br><span class="line">  <span class="keyword">val</span> objectKey = absPath.getPath.stripPrefix(<span class="string">"/"</span>)</span><br><span class="line">  signer.sign(bucketName, objectKey).toString</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>このメソッドでは、上記の通り、内部でバケット名やオブジェクトキーを渡しながら、
<code>io.delta.sharing.server.S3FileSigner#sign</code>
メソッドが利用されている。</p>
<p>なお、<code>signer</code> インスタンスは以下のようになっており、</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">val</span> signer = withClassLoader &#123;</span><br><span class="line">  <span class="keyword">new</span> <span class="type">S3FileSigner</span>(deltaLog.dataPath.toUri, conf, preSignedUrlTimeoutSeconds)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>将来的にS3以外にも対応できるような余地が残されている。</p>
<p>さて、 <code>sign</code> メソッドに戻る。</p>
<p>io/delta/sharing/server/CloudFileSigner.scala:41</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">sign</span></span>(bucket: <span class="type">String</span>, objectKey: <span class="type">String</span>): <span class="type">URL</span> = &#123;</span><br><span class="line">  <span class="keyword">val</span> expiration =</span><br><span class="line">    <span class="keyword">new</span> <span class="type">Date</span>(<span class="type">System</span>.currentTimeMillis() + <span class="type">SECONDS</span>.toMillis(preSignedUrlTimeoutSeconds))</span><br><span class="line">  <span class="keyword">val</span> request = <span class="keyword">new</span> <span class="type">GeneratePresignedUrlRequest</span>(bucket, objectKey)</span><br><span class="line">    .withMethod(<span class="type">HttpMethod</span>.<span class="type">GET</span>)</span><br><span class="line">    .withExpiration(expiration)</span><br><span class="line">  s3Client.generatePresignedUrl(request)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上記の通り、
<code>com.amazonaws.services.s3.model.GeneratePresignedUrlRequest#GeneratePresignedUrlRequest(java.lang.String, java.lang.String)</code>
メソッドを利用してS3の署名付きURLが取得されている事が分かる。</p>
<h4><span id="ヒントが利用されている箇所">ヒントが利用されている箇所</span></h4>
<p>2021/9/18現在では、 <code>predicateHits</code>
は用いられているが、<code>limitHint</code>
は用いていないように見える。</p>
<p><code>predicateHints</code> が用いられるのは以下の個所。</p>
<p>io/delta/standalone/internal/DeltaSharedTableLoader.scala:142</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">PartitionFilterUtils</span>.evaluatePredicate(</span><br><span class="line">  modelMetadata.schemaString,</span><br><span class="line">  modelMetadata.partitionColumns,</span><br><span class="line">  predicateHits,</span><br><span class="line">  selectedFiles</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><code>io.delta.standalone.internal.PartitionFilterUtils$#evaluatePredicate</code>
メソッドは、 引数に <code>predicateHits</code> や対象となるDelta
Tableに紐づいているアクティブなファイルリストを引数に渡される。
内部で、有効なpredicateかどうかなどをチェックされたのち、有効なpredicate文言があれば、
それに従いファイルリストがフィルタされる。</p>
<p>なお、内部的にはDelta
LakeやSpark（の特にCatalyst）の実装に依存しているような箇所がみられる。</p>
<p>具体的には、 <code>evaluatePredicate</code>
メソッド内の以下の個所。</p>
<p>io/delta/standalone/internal/PartitionFilterUtils.scala:61</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">addFiles.filter &#123; addFile =&gt;</span><br><span class="line">  <span class="keyword">val</span> converter = <span class="type">CatalystTypeConverters</span>.createToCatalystConverter(addSchema)</span><br><span class="line">  predicate.eval(converter(addFile).asInstanceOf[<span class="type">InternalRow</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ここで <code>predicate</code> は
<code>org.apache.spark.sql.catalyst.expressions.InterpretedPredicate</code>
クラスの
インスタンスである。（SparkのCatalystで用いられる、Predicate表現のひとつ）
このとき、<code>eval</code> メソッドが呼び出されていることがわかる。</p>
<p>/home/dobachi/.cache/coursier/v1/https/repo1.maven.org/maven2/org/apache/spark/spark-catalyst_2.12/2.4.7/spark-catalyst_2.12-2.4.7-sources.jar!/org/apache/spark/sql/catalyst/expressions/predicates.scala:39</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">InterpretedPredicate</span>(<span class="params">expression: <span class="type">Expression</span></span>) <span class="keyword">extends</span> <span class="title">BasePredicate</span> </span>&#123;</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">eval</span></span>(r: <span class="type">InternalRow</span>): <span class="type">Boolean</span> = expression.eval(r).asInstanceOf[<span class="type">Boolean</span>]</span><br></pre></td></tr></table></figure>
<p>このように、SparkのCatalystにおいては <code>eval</code>
メソッドには、Spark SQLの行の表現である <code>InternalRow</code>
のインスタンスが渡され、当該 <code>predicate</code>
に合致するかどうかがチェックされる。</p>
<h3><span id="クラスローダについて">クラスローダについて</span></h3>
<p>このクラスには、 <code>withClassLoader</code> が定義されており、
Armeriaではなく、DeltaSharedTableのクラスローダの下で関数を実行できるようになっている。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Run `func` under the classloader of `DeltaSharedTable`. We cannot use the classloader set by</span></span><br><span class="line"><span class="comment"> * Armeria as Hadoop needs to search the classpath to find its classes.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">def</span> <span class="title">withClassLoader</span></span>[<span class="type">T</span>](func: =&gt; <span class="type">T</span>): <span class="type">T</span> = &#123;</span><br><span class="line">  <span class="keyword">val</span> classLoader = <span class="type">Thread</span>.currentThread().getContextClassLoader</span><br><span class="line">  <span class="keyword">if</span> (classLoader == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="type">Thread</span>.currentThread().setContextClassLoader(<span class="keyword">this</span>.getClass.getClassLoader)</span><br><span class="line">    <span class="keyword">try</span> func <span class="keyword">finally</span> &#123;</span><br><span class="line">      <span class="type">Thread</span>.currentThread().setContextClassLoader(<span class="literal">null</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    func</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2021/08/30/Source-Code-Reading-of-Delta-Sharing/" data-id="cm087hipe01cj18pk412lru7f" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-Recent-hot-activities-of-Delta-Sharing" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2021/08/27/Recent-hot-activities-of-Delta-Sharing/">Recent hot activities of Delta Sharing</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2021/08/27/Recent-hot-activities-of-Delta-Sharing/">
            <time datetime="2021-08-27T00:22:38.000Z" itemprop="datePublished">2021-08-27</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Data-Collaboration/">Data Collaboration</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Data-Collaboration/Delta-Sharing/">Delta Sharing</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/Delta-Lake/">Delta Lake</a>, <a class="tag-link" href="/memo-blog/tags/Delta-Sharing/">Delta Sharing</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#参考" id="toc-参考">参考</a></li>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#いま何がどのくらいできるようになっているのか" id="toc-いま何がどのくらいできるようになっているのか">いま何がどのくらいできるようになっているのか？</a>
<ul>
<li><a href="#クライアント開発言語バインディング" id="toc-クライアント開発言語バインディング">クライアント、開発言語バインディング</a></li>
<li><a href="#サーバの参考実装" id="toc-サーバの参考実装">サーバの参考実装</a></li>
<li><a href="#プロトコル" id="toc-プロトコル">プロトコル</a></li>
<li><a href="#テーブルメタデータ" id="toc-テーブルメタデータ">テーブルメタデータ</a></li>
</ul></li>
<li><a href="#support-writing-to-delta-shares" id="toc-support-writing-to-delta-shares">Support writing to Delta
Shares</a></li>
<li><a href="#add-pre-signed-url-request-logging-to-server" id="toc-add-pre-signed-url-request-logging-to-server">Add pre-signed URL
request logging to server</a></li>
<li><a href="#support-azure-storage-in-delta-sharing-server" id="toc-support-azure-storage-in-delta-sharing-server">Support Azure
Storage in Delta Sharing Server</a></li>
<li><a href="#support-google-cloud-storage-in-delta-sharing-server" id="toc-support-google-cloud-storage-in-delta-sharing-server">Support
Google Cloud Storage in Delta Sharing Server</a></li>
</ul></li>
</ul>
</div>
<h1><span id="参考">参考</span></h1>
<ul>
<li><a href="https://github.com/delta-io/delta-sharing" target="_blank" rel="noopener">Delta
Sharing公式GitHub</a></li>
<li><a href="https://github.com/delta-io/delta-sharing/blob/main/PROTOCOL.md" target="_blank" rel="noopener">Delta
Sharing Protocal</a></li>
<li><a href="https://github.com/delta-io/delta-sharing/blob/main/server/src/universal/conf/delta-sharing-server.yaml.template" target="_blank" rel="noopener">delta-sharing-server.yaml.template</a></li>
<li><a href="https://github.com/delta-io/delta-sharing/blob/main/PROTOCOL.md#concepts" target="_blank" rel="noopener">Concept</a></li>
<li><a href="https://github.com/delta-io/delta-sharing/blob/main/PROTOCOL.md#metadata" target="_blank" rel="noopener">Metadata</a></li>
</ul>
<ul>
<li><a href="https://github.com/delta-io/delta-sharing/issues/33" target="_blank" rel="noopener">Support
writing to Delta Shares #33</a></li>
<li><a href="https://github.com/delta-io/delta-sharing/issues/39" target="_blank" rel="noopener">Add
pre-signed URL request logging to server</a></li>
<li><a href="https://github.com/delta-io/delta-sharing/issues/21" target="_blank" rel="noopener">Support Azure
Storage in Delta Sharing Server</a></li>
<li><a href="https://docs.microsoft.com/en-us/rest/api/storageservices/delegate-access-with-shared-access-signature" target="_blank" rel="noopener">Delegate
access with a shared access signature</a></li>
<li><a href="https://github.com/delta-io/delta-sharing/issues/20" target="_blank" rel="noopener">Support
Google Cloud Storage in Delta Sharing Server</a></li>
<li><a href="https://cloud.google.com/storage/docs/access-control/signed-urls" target="_blank" rel="noopener">署名付きURL</a></li>
</ul>
<h1><span id="メモ">メモ</span></h1>
<h2><span id="いま何がどのくらいできるようになっているのか">いま何がどのくらいできるようになっているのか？</span></h2>
<p>2021/9時点で何ができるのか？ <a href="https://github.com/delta-io/delta-sharing" target="_blank" rel="noopener">Delta
Sharing公式GitHub</a> のREADMEによると以下の通り。</p>
<h3><span id="クライアント-開発言語バインディング">クライアント、開発言語バインディング</span></h3>
<ul>
<li>SQL（Spark SQL）</li>
<li>Python</li>
<li>Scala</li>
<li>Java</li>
<li>R</li>
</ul>
<h3><span id="サーバの参考実装">サーバの参考実装</span></h3>
<p><a href="https://github.com/delta-io/delta-sharing/blob/main/PROTOCOL.md" target="_blank" rel="noopener">Delta
Sharing Protocal</a> に乗っ取ってデータ共有の動作確認が可能な
参考実装が公開されている。</p>
<p>ただし、この実装にはセキュリティ周りの機能が十分に実装されておらず、
もし公開して利用する場合はプロキシの裏側で使うことが推奨されている。</p>
<p>サーバを立ち上げるときに共有するデータの定義を渡せる。 <a href="https://github.com/delta-io/delta-sharing/blob/main/server/src/universal/conf/delta-sharing-server.yaml.template" target="_blank" rel="noopener">delta-sharing-server.yaml.template</a>
にコンフィグのサンプルが載っている。</p>
<p><a href="https://github.com/delta-io/delta-sharing/blob/main/PROTOCOL.md#concepts" target="_blank" rel="noopener">Concept</a>
にデータモデル、主要なコンポーネントが載っている。</p>
<ul>
<li>Share（シェア）:
<ul>
<li>共有の論理的なグループ</li>
<li>このグループに含まれるものが受信者に共有される。</li>
</ul></li>
<li>Schema（スキーマ）:
<ul>
<li>複数のTableを含む</li>
</ul></li>
<li>Table（テーブル）:
<ul>
<li>Delta Lakeのテーブルもしくはビュー</li>
</ul></li>
<li>Recipient（受信者）:
<ul>
<li>シェアにアクセス可能なBearerトークンをもつもの</li>
</ul></li>
<li>Sharing Server（共有サーバ）:
<ul>
<li>プロトコルを実装したサーバ</li>
</ul></li>
</ul>
<h3><span id="プロトコル">プロトコル</span></h3>
<p><a href="https://github.com/delta-io/delta-sharing/blob/main/PROTOCOL.md" target="_blank" rel="noopener">Delta
Sharing Protocal</a> に載っている通り、 Delta
Sharingのサーバとクライアントの間のプロトコルが規定されている。</p>
<ul>
<li>シェアをリスト</li>
<li>シェア内のスキーマをリスト</li>
<li>スキーマ内のテーブルをリスト</li>
<li>テーブルのバージョン情報取得
<ul>
<li>おそらくDelta Lakeとしてのバージョン情報</li>
</ul></li>
<li>テーブルのメタデータ取得</li>
<li>データ取得
<ul>
<li>データ取得時には、PredicateHint、LimitHintを渡せる</li>
</ul></li>
</ul>
<h3><span id="テーブルメタデータ">テーブルメタデータ</span></h3>
<p><a href="https://github.com/delta-io/delta-sharing/blob/main/PROTOCOL.md#metadata" target="_blank" rel="noopener">Metadata</a>
にテーブルに付帯できるメタデータの定義が載っている。
スキーマやフォーマットなどの情報に加え、任意の説明を保持できるようだ。</p>
<h2><span id="support-writing-to-deltashares">Support writing to Delta
Shares</span></h2>
<p><a href="https://github.com/delta-io/delta-sharing/issues/33" target="_blank" rel="noopener">Support
writing to Delta Shares #33</a></p>
<p>書き込みへの対応について提案がなされたが、2021/8/27現在は保留となっている。
いったん読み込みに注力、とのこと。</p>
<p>なお、Treasure DataのTaroさんがTreasure
Dataにおける対応例を紹介している。 （が、それに対する応答はない）</p>
<h2><span id="add-pre-signed-urlrequest-logging-to-server">Add pre-signed URL
request logging to server</span></h2>
<p><a href="https://github.com/delta-io/delta-sharing/issues/39" target="_blank" rel="noopener">Add
pre-signed URL request logging to server</a></p>
<p>今のところ、プリサインドURLの件数を知る術がない。
そこで、DEBUGログにプリサインドURLの発行情報を出力するのはどうか、というチケットが挙がっていた。</p>
<h2><span id="support-azurestorage-in-delta-sharing-server">Support Azure
Storage in Delta Sharing Server</span></h2>
<p><a href="https://github.com/delta-io/delta-sharing/issues/21" target="_blank" rel="noopener">Support
Azure Storage in Delta Sharing Server</a></p>
<p>Azureでは、 <a href="https://docs.microsoft.com/en-us/rest/api/storageservices/delegate-access-with-shared-access-signature" target="_blank" rel="noopener">Delegate
access with a shared access signature</a>
の機能が提供されているので、割と対応しやすいのでは？という議論になっている。
AzureのSASは、定められたパーミッションで定められた期間だけリソースにアクセス可能にする。</p>
<p>なお、SASにはアカウントレベル、サービスレベル、ユーザデリゲーションの3種類がある。
それぞれスコープやできることが異なる。</p>
<p>Delta
Sharingがストレージに特化しているのであれば、まずはBlobに対するデリゲーションURLを発行できれば良さそうである。</p>
<h2><span id="supportgoogle-cloud-storage-in-delta-sharing-server">Support
Google Cloud Storage in Delta Sharing Server</span></h2>
<p><a href="https://github.com/delta-io/delta-sharing/issues/20" target="_blank" rel="noopener">Support
Google Cloud Storage in Delta Sharing Server</a></p>
<p>Azureと同じく、 <a href="https://cloud.google.com/storage/docs/access-control/signed-urls" target="_blank" rel="noopener">署名付きURL</a>
に対応しているため、そこまで難しくは無いだろう、というコメントがあった。</p>
<p>これはどうだろうか？</p>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2021/08/27/Recent-hot-activities-of-Delta-Sharing/" data-id="cm087hig0009p18pkwou8bez4" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-SparkSummit2021" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2021/08/24/SparkSummit2021/">Spark Summit 2021の前にきになってみたセッションのメモ</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2021/08/24/SparkSummit2021/">
            <time datetime="2021-08-24T05:19:25.000Z" itemprop="datePublished">2021-08-24</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Storage-Layer/">Storage Layer</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Storage-Layer/Delta-Lake/">Delta Lake</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/Delta-Lake/">Delta Lake</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#参考" id="toc-参考">参考</a></li>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#lakehouse-with-delta-lake-deep-dive-training" id="toc-lakehouse-with-delta-lake-deep-dive-training">Lakehouse with
Delta Lake Deep Dive Training</a></li>
</ul></li>
<li><a href="#manufacturing-and-distribution-industry-forum" id="toc-manufacturing-and-distribution-industry-forum">Manufacturing and
Distribution Industry Forum</a></li>
<li><a href="#data-distribution-and-ordering-for-efficient-data-source-v2" id="toc-data-distribution-and-ordering-for-efficient-data-source-v2">Data
Distribution and Ordering for Efficient Data Source V2</a></li>
<li><a href="#delta-lake-streaming-under-the-hood" id="toc-delta-lake-streaming-under-the-hood">Delta Lake Streaming Under
the Hood</a></li>
<li><a href="#introducing-delta-live-tables-make-reliable-etl-easy-on-delta-lake" id="toc-introducing-delta-live-tables-make-reliable-etl-easy-on-delta-lake">Introducing
Delta Live Tables Make Reliable ETL Easy on Delta Lake</a></li>
<li><a href="#magnet-shuffle-service-push-based-shuffle-at-linkedin" id="toc-magnet-shuffle-service-push-based-shuffle-at-linkedin">Magnet
Shuffle Service Push-based Shuffle at LinkedIn</a></li>
</ul>
</div>
<h1><span id="参考">参考</span></h1>
<h1><span id="メモ">メモ</span></h1>
<p>Spark Summit 2021の気になったセッションのメモ</p>
<h2><span id="lakehouse-withdelta-lake-deep-dive-training">Lakehouse with
Delta Lake Deep Dive Training</span></h2>
<iframe src="https://onedrive.live.com/embed?cid=C6E669622F542498&amp;resid=C6E669622F542498%21102771&amp;authkey=AANiUnaZ6a44Hws&amp;em=2" width="402" height="327" frameborder="0" scrolling="no">
</iframe>
<h1><span id="manufacturing-anddistribution-industry-forum">Manufacturing and
Distribution Industry Forum</span></h1>
<iframe src="https://onedrive.live.com/embed?cid=C6E669622F542498&amp;resid=C6E669622F542498%21102773&amp;authkey=AFV8OgbNkzPamIM&amp;em=2" width="402" height="327" frameborder="0" scrolling="no">
</iframe>
<h1><span id="datadistribution-and-ordering-for-efficient-data-source-v2">Data
Distribution and Ordering for Efficient Data Source V2</span></h1>
<iframe src="https://onedrive.live.com/embed?cid=C6E669622F542498&amp;resid=C6E669622F542498%21102775&amp;authkey=ABoDoU24y1jXlgs&amp;em=2" width="402" height="327" frameborder="0" scrolling="no">
</iframe>
<h1><span id="delta-lake-streaming-underthe-hood">Delta Lake Streaming Under
the Hood</span></h1>
<iframe src="https://onedrive.live.com/embed?cid=C6E669622F542498&amp;resid=C6E669622F542498%21102777&amp;authkey=AKrMZjoufCusH_I&amp;em=2" width="402" height="327" frameborder="0" scrolling="no">
</iframe>
<h1><span id="introducingdelta-live-tables-make-reliable-etl-easy-on-delta-lake">Introducing
Delta Live Tables Make Reliable ETL Easy on Delta Lake</span></h1>
<iframe src="https://onedrive.live.com/embed?cid=C6E669622F542498&amp;resid=C6E669622F542498%21102779&amp;authkey=AJnZHK3MHDHOO48&amp;em=2" width="402" height="327" frameborder="0" scrolling="no">
</iframe>
<h1><span id="magnetshuffle-service-push-based-shuffle-at-linkedin">Magnet
Shuffle Service Push-based Shuffle at LinkedIn</span></h1>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2021/08/24/SparkSummit2021/" data-id="cm087higa00am18pkevzy2fid" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-Socks-proxy-for-Jupyter-Lab" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2021/07/12/Socks-proxy-for-Jupyter-Lab/">Socks proxy for Jupyter Lab</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2021/07/12/Socks-proxy-for-Jupyter-Lab/">
            <time datetime="2021-07-12T08:53:27.000Z" itemprop="datePublished">2021-07-12</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Python/">Python</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Python/Jupyter/">Jupyter</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/Jupyter/">Jupyter</a>, <a class="tag-link" href="/memo-blog/tags/Python/">Python</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#参考" id="toc-参考">参考</a></li>
<li><a href="#メモ" id="toc-メモ">メモ</a></li>
</ul>
</div>
<h1><span id="参考">参考</span></h1>
<h1><span id="メモ">メモ</span></h1>
<p>以下の条件に当てはまる場合に設定する項目。</p>
<ul>
<li>Jupyter Labをリモート環境で実行している</li>
<li>Socksプロキシを使っている</li>
<li>ChromeやFirefoxのエクステンションでFoxyProxyのようなURLマッチングでプロキシを差し替えている</li>
</ul>
<p>このとき、https?に加え、wsも指定する必要があります。
具体的には以下の通り。</p>
<figure>
<img src="/memo-blog/images/20210712_foxy_example1.png" alt="Foxy Proxyでの設定例1">
<figcaption aria-hidden="true">Foxy Proxyでの設定例1</figcaption>
</figure>
<figure>
<img src="/memo-blog/images/20210712_foxy_example2.png" alt="Foxy Proxyでの設定例2">
<figcaption aria-hidden="true">Foxy Proxyでの設定例2</figcaption>
</figure>
<p>つまりは、ウェブソケットのことを忘れることなかれ、ということである。
（いつも忘れるから、備忘録として記載しておく）</p>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2021/07/12/Socks-proxy-for-Jupyter-Lab/" data-id="cm087hig700ac18pkoxp2alyn" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-Minio-getting-started" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2021/06/13/Minio-getting-started/">Minio getting started</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2021/06/13/Minio-getting-started/">
            <time datetime="2021-06-13T13:01:12.000Z" itemprop="datePublished">2021-06-13</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Storage-Layer/">Storage Layer</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Storage-Layer/Minio/">Minio</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/Minio/">Minio</a>, <a class="tag-link" href="/memo-blog/tags/S3/">S3</a>, <a class="tag-link" href="/memo-blog/tags/Storage/">Storage</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#参考" id="toc-参考">参考</a>
<ul>
<li><a href="#公式" id="toc-公式">公式</a></li>
<li><a href="#ブログ" id="toc-ブログ">ブログ</a></li>
</ul></li>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#動作確認" id="toc-動作確認">動作確認</a>
<ul>
<li><a href="#前提" id="toc-前提">前提</a></li>
<li><a href="#サーバ起動" id="toc-サーバ起動">サーバ起動</a></li>
<li><a href="#コンフィグ" id="toc-コンフィグ">コンフィグ</a></li>
<li><a href="#mcコマンドの利用" id="toc-mcコマンドの利用">mcコマンドの利用</a></li>
<li><a href="#s3コマンドで利用" id="toc-s3コマンドで利用">s3コマンドで利用</a></li>
</ul></li>
<li><a href="#アップデート" id="toc-アップデート">アップデート</a></li>
<li><a href="#署名済みurl発行" id="toc-署名済みurl発行">署名済みURL発行</a>
<ul>
<li><a href="#s3互換サービスのためのエイリアス" id="toc-s3互換サービスのためのエイリアス">S3互換サービスのためのエイリアス</a></li>
<li><a href="#作業用バケット作成" id="toc-作業用バケット作成">作業用バケット作成</a></li>
<li><a href="#ポリシーファイルの作成" id="toc-ポリシーファイルの作成">ポリシーファイルの作成</a></li>
<li><a href="#ポリシーを適用" id="toc-ポリシーを適用">ポリシーを適用</a></li>
<li><a href="#ユーザ作成" id="toc-ユーザ作成">ユーザ作成</a></li>
<li><a href="#ユーザにポリシーを設定" id="toc-ユーザにポリシーを設定">ユーザにポリシーを設定</a></li>
<li><a href="#共有の動作確認用のファイルの準備" id="toc-共有の動作確認用のファイルの準備">共有の動作確認用のファイルの準備</a></li>
<li><a href="#python-botoを利用して一時アカウント発行署名済みurl発行" id="toc-python-botoを利用して一時アカウント発行署名済みurl発行">Python
botoを利用して一時アカウント発行＆署名済みURL発行</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<h1><span id="参考">参考</span></h1>
<h2><span id="公式">公式</span></h2>
<ul>
<li><a href="https://docs.min.io/" target="_blank" rel="noopener">Minioの公式ウェブサイト</a></li>
<li><a href="https://docs.min.io/docs/minio-client-quickstart-guide" target="_blank" rel="noopener">Minioのクライアントガイド</a></li>
<li><a href="https://docs.min.io/docs/minio-admin-complete-guide.html" target="_blank" rel="noopener">Minioのアドミンガイド</a></li>
<li><a href="https://docs.min.io/docs/minio-server-configuration-guide.html" target="_blank" rel="noopener">Minioのコンフィグガイド</a></li>
<li><a href="https://qiita.com/y_k/items/9c134f7be0263d64a89b" target="_blank" rel="noopener">boto3
を用いて MinIO でユーザの追加と Security Token Service(STS)
による一時認証情報での署名済み URL を発行する</a></li>
<li><a href="https://docs.min.io/minio/baremetal/reference/minio-cli/minio-mc/mc-alias.html#mc-alias" target="_blank" rel="noopener">mc
alias</a></li>
<li><a href="https://docs.min.io/minio/baremetal/reference/minio-cli/minio-mc-admin/mc-admin-policy.html" target="_blank" rel="noopener">mc
admin policy</a></li>
<li><a href="https://docs.min.io/minio/baremetal/reference/minio-cli/minio-mc-admin/mc-admin-user.html#create-a-new-user" target="_blank" rel="noopener">mc
admin userを利用したユーザ作成</a></li>
</ul>
<h2><span id="ブログ">ブログ</span></h2>
<ul>
<li><a href="https://qiita.com/Taroi_Japanista/items/7139ae983b5db2404cdb" target="_blank" rel="noopener">MinIO
オブジェクトストレージの構築</a></li>
<li><a href="https://liginc.co.jp/402383" target="_blank" rel="noopener">開発のためにローカルにもS3が欲しいというわがまま、MINIOが叶えてくれました</a></li>
</ul>
<h1><span id="メモ">メモ</span></h1>
<p>S3互換の仕組みを導入したく、検索してヒットしたので試した。</p>
<h2><span id="動作確認">動作確認</span></h2>
<h3><span id="前提">前提</span></h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cat /etc/redhat-release</span></span><br><span class="line">CentOS Linux release 7.9.2009 (Core)</span><br></pre></td></tr></table></figure>
<h3><span id="サーバ起動">サーバ起動</span></h3>
<p><a href="https://docs.min.io/" target="_blank" rel="noopener">Minioの公式ウェブサイト</a>
を確認し、</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mkdir ~/Minio</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> ~/Minio</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> wget https://dl.min.io/server/minio/release/linux-amd64/minio</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> chmod +x minio</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> mkdir data</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./minio server data</span></span><br></pre></td></tr></table></figure>
<p>http://localhost:9000/minio/
にアクセスすると、ログイン画面が出るので、
デフォルトのID、パスワードを入力する。</p>
<h3><span id="コンフィグ">コンフィグ</span></h3>
<p><a href="https://docs.min.io/docs/minio-server-configuration-guide.html" target="_blank" rel="noopener">Minioのコンフィグガイド</a>
を見ると、アドミンユーザとパスワードの設定方法が載っていた。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> MINIO_ROOT_USER=minio</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> MINIO_ROOT_PASSWORD=miniominio</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./minio server data</span></span><br></pre></td></tr></table></figure>
<p>上記のようにすればよさそうである。なお、USERは3文字以上、PASSWORDは8文字以上が必要。
ここでは、ローカル環境用にお試し用のID、パスワードとした。</p>
<h3><span id="mcコマンドの利用">mcコマンドの利用</span></h3>
<p><a href="https://docs.min.io/docs/minio-admin-complete-guide.html" target="_blank" rel="noopener">Minioのアドミンガイド</a>と<a href="https://docs.min.io/docs/minio-client-quickstart-guide" target="_blank" rel="noopener">Minioのクライアントガイド</a>
を参考に、いくつか動作確認、設定してみる。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> ~/Minio</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> wget https://dl.min.io/client/mc/release/linux-amd64/mc</span></span><br></pre></td></tr></table></figure>
<p>エイリアスを設定。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./mc <span class="built_in">alias</span> <span class="built_in">set</span> myminio http://172.24.88.24:9000 minio miniominio</span></span><br></pre></td></tr></table></figure>
<p>情報を確認。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./mc admin info myminio</span></span><br><span class="line">●  172.24.88.24:9000</span><br><span class="line">   Uptime: 6 minutes</span><br><span class="line">   Version: 2021-06-09T18:51:39Z</span><br><span class="line">   Network: 1/1 OK</span><br></pre></td></tr></table></figure>
<p>バケットを作成</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./mc mb myminio/<span class="built_in">test</span></span></span><br><span class="line">Bucket created successfully `myminio/test`.</span><br></pre></td></tr></table></figure>
<p>ファイルを書き込み</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="built_in">test</span> &gt; /tmp/test.txt</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./mc cp /tmp/test.txt myminio/<span class="built_in">test</span>/</span></span><br><span class="line">/tmp/test.txt:              5 B / 5 B ┃┃ 224 B/s 0s</span><br></pre></td></tr></table></figure>
<h3><span id="s3コマンドで利用">s3コマンドで利用</span></h3>
<p><a href="https://liginc.co.jp/402383" target="_blank" rel="noopener">開発のためにローカルにもS3が欲しいというわがまま、MINIOが叶えてくれました</a>
を参照し、 S3としてアクセスしてみる。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> aws --profile myminio configure</span></span><br><span class="line">AWS Access Key ID [None]: minio</span><br><span class="line">AWS Secret Access Key [None]: miniominio</span><br><span class="line">Default region name [None]:</span><br><span class="line">Default output format [None]:</span><br><span class="line"><span class="meta">$</span><span class="bash"> aws --endpoint-url http://127.0.0.1:9000 --profile myminio s3 mb s3://test2</span></span><br></pre></td></tr></table></figure>
<p>上記のように、エンドポイントを指定して利用する。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> aws --endpoint-url http://127.0.0.1:9000 --profile myminio s3 cp /tmp/test.txt s3://test2</span></span><br><span class="line">upload: ../../../tmp/test.txt to s3://test2/test.txt</span><br></pre></td></tr></table></figure>
<h2><span id="アップデート">アップデート</span></h2>
<p>以下のメッセージが出たので、試しにアップデートしてみた。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">You are running an older version of MinIO released 2 months ago</span><br><span class="line">Update: Run `mc admin update`</span><br></pre></td></tr></table></figure>
<p>まず、Minioのサーバを起動しておく。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./minio server data</span></span><br></pre></td></tr></table></figure>
<p>この後別のターミナルを開き、エイリアすを設定しておく。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./mc <span class="built_in">alias</span> <span class="built_in">set</span> myminio http://172.24.32.250:9000 minioadmin minioadmin</span></span><br></pre></td></tr></table></figure>
<p>アップデート実行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./mc admin update myminio</span></span><br><span class="line">Server `myminio` updated successfully from 2021-06-09T18:51:39Z to 2021-08-25T00-41-18Z</span><br></pre></td></tr></table></figure>
<h2><span id="署名済みurl発行">署名済みURL発行</span></h2>
<p><a href="https://qiita.com/y_k/items/9c134f7be0263d64a89b" target="_blank" rel="noopener">boto3
を用いて MinIO でユーザの追加と Security Token Service(STS)
による一時認証情報での署名済み URL を発行する</a> を参考に、
上記環境で署名済みURLを発行してみる。
これにより、あるオブジェクトへのアクセス権をデリゲート可能になるはずである。</p>
<h3><span id="s3互換サービスのためのエイリアス">S3互換サービスのためのエイリアス</span></h3>
<p>前述の通り、 <a href="https://docs.min.io/minio/baremetal/reference/minio-cli/minio-mc/mc-alias.html#mc-alias" target="_blank" rel="noopener">mc
alias</a> を利用して、S3互換サービスのためのエイリアスを作成済みである。
ここでは、その作成した <code>myminio</code> を利用する。</p>
<h3><span id="作業用バケット作成">作業用バケット作成</span></h3>
<p>今回の動作確認で使用するバケットを作成する。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./mc mb myminio/share</span></span><br></pre></td></tr></table></figure>
<h3><span id="ポリシーファイルの作成">ポリシーファイルの作成</span></h3>
<p>以下のファイルを作成する。</p>
<p>share.json</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cat &lt;&lt; EOF &gt; share.json</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> &#123;</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">   <span class="string">"Version"</span>: <span class="string">"2012-10-17"</span>,</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">   <span class="string">"Statement"</span>: [</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">     &#123;</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">       <span class="string">"Action"</span>: [</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">         <span class="string">"s3:GetObject"</span>,</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">         <span class="string">"s3:PutObject"</span></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">       ],</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">       <span class="string">"Effect"</span>: <span class="string">"Allow"</span>,</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">       <span class="string">"Resource"</span>: [</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">         <span class="string">"arn:aws:s3:::share/*"</span></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">       ],</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">       <span class="string">"Sid"</span>: <span class="string">""</span></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">     &#125;</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">   ]</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> &#125;</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> EOF</span></span><br></pre></td></tr></table></figure>
<h3><span id="ポリシーを適用">ポリシーを適用</span></h3>
<p><a href="https://docs.min.io/minio/baremetal/reference/minio-cli/minio-mc-admin/mc-admin-policy.html" target="_blank" rel="noopener">mc
admin policy</a>
の通り、AWSのIAM互換のポリシーを利用し、Minioのポリシーを設定する。
先程作成したファイルを用いる。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./mc admin policy add myminio share share.json</span></span><br></pre></td></tr></table></figure>
<p>適用されたことを確かめる</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./mc admin policy info  myminio share</span></span><br><span class="line">&#123;</span><br><span class="line"> "Version": "2012-10-17",</span><br><span class="line"> "Statement": [</span><br><span class="line">  &#123;</span><br><span class="line">   "Effect": "Allow",</span><br><span class="line">   "Action": [</span><br><span class="line">    "s3:GetObject",</span><br><span class="line">    "s3:PutObject"</span><br><span class="line">   ],</span><br><span class="line">   "Resource": [</span><br><span class="line">    "arn:aws:s3:::share/*"</span><br><span class="line">   ]</span><br><span class="line">  &#125;</span><br><span class="line"> ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="ユーザ作成">ユーザ作成</span></h3>
<p><a href="https://docs.min.io/minio/baremetal/reference/minio-cli/minio-mc-admin/mc-admin-user.html#create-a-new-user" target="_blank" rel="noopener">mc
admin userを利用したユーザ作成</a> を利用して、
動作確認のためのユーザを作成する。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./mc admin user add myminio bob bob123456</span></span><br></pre></td></tr></table></figure>
<p>なお、上記ドキュメントでは</p>
<blockquote>
<p>mc admin user add ALIAS ACCESSKEY SECRETKEY</p>
</blockquote>
<p>と記載されているが、<code>ACCESSKEY</code>
にしていた内容がユーザ名になるようだ。</p>
<h3><span id="ユーザにポリシーを設定">ユーザにポリシーを設定</span></h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./mc admin policy <span class="built_in">set</span> myminio share user=bob</span></span><br></pre></td></tr></table></figure>
<p>ユーザ作成され、ポリシーが設定されたことを確かめる。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./mc admin user list myminio</span></span><br><span class="line">enabled    bob                   share</span><br></pre></td></tr></table></figure>
<h3><span id="共有の動作確認用のファイルの準備">共有の動作確認用のファイルの準備</span></h3>
<p>手元でファイルを作り、Minio上にアップロードしておく。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="string">"hoge"</span> &gt; test.txt</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./mc cp test.txt myminio/share/test.txt</span></span><br></pre></td></tr></table></figure>
<h3><span id="pythonbotoを利用して一時アカウント発行署名済みurl発行">Python
botoを利用して一時アカウント発行＆署名済みURL発行</span></h3>
<h4><span id="ウェブuiからの発行">ウェブUIからの発行</span></h4>
<p>実は、ウェブUIからも発行できるため、先にそちらを試した。</p>
<figure>
<img src="memo-blog/images/minio_presigned_url_via_gui.png" alt="ウェブUIからの署名済みURL発行の例">
<figcaption aria-hidden="true">ウェブUIからの署名済みURL発行の例</figcaption>
</figure>
<p>オブジェクトブラウザから辿りオブジェクトのページを開き、共有マークを押下すると発行できた。
実際にアクセスしたところ、ファイル本体にアクセスできた。</p>
<h4><span id="前提">前提</span></h4>
<ul>
<li>Pythonバージョン: 3.7.10</li>
<li>利用パッケージ: boto3、jupyter</li>
</ul>
<h4><span id="ソースコードの例">ソースコードの例</span></h4>
<p>https://github.com/dobachi/MinioPresignedURLExample
にサンプルを載せておくことにする。
こちらの手順で特に問題なく、発行できた。</p>
<h4><span id="トラブルシュート署名済みurlにアクセスしてみたらエラー">（トラブルシュート）署名済みURLにアクセスしてみたらエラー</span></h4>
<p>署名済みURLを発行してアクセスしてみたら、以下のようなエラーが生じた。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;Error&gt;</span><br><span class="line">&lt;Code&gt;AccessDenied&lt;/Code&gt;</span><br><span class="line">&lt;Message&gt;Access Denied.&lt;/Message&gt;</span><br><span class="line">&lt;Key&gt;test.txt&lt;/Key&gt;</span><br><span class="line">&lt;BucketName&gt;share&lt;/BucketName&gt;</span><br><span class="line">&lt;Resource&gt;/share/test.txt&lt;/Resource&gt;</span><br><span class="line">&lt;RequestId&gt;16A34CDD784CBCCC&lt;/RequestId&gt;</span><br><span class="line">&lt;HostId&gt;baec9ee7-bfb0-441b-a70a-493bfd80d745&lt;/HostId&gt;</span><br><span class="line">&lt;/Error&gt;</span><br></pre></td></tr></table></figure>
<p>ひとまず、<code>./mc admin trace</code>を利用してデバッグメッセージを確認しながらアクセスしてみる。
生じたエラーメッセージは以下の通り。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">172.24.32.250:9000 [REQUEST s3.GetObject] [2021-09-10T00:34:26:000] [Client IP: 172.24.32.1]</span><br><span class="line">172.24.32.250:9000 GET /share/test.txt?xxxxxxxx</span><br><span class="line">172.24.32.250:9000 Proto: HTTP/1.1</span><br><span class="line">172.24.32.250:9000 Host: 172.24.32.250:9000</span><br><span class="line">172.24.32.250:9000 Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9</span><br><span class="line">172.24.32.250:9000 Accept-Encoding: gzip, deflate</span><br><span class="line">172.24.32.250:9000 Cache-Control: max-age=0</span><br><span class="line">172.24.32.250:9000 Content-Length: 0</span><br><span class="line">172.24.32.250:9000 Dnt: 1</span><br><span class="line">172.24.32.250:9000 Upgrade-Insecure-Requests: 1</span><br><span class="line">172.24.32.250:9000 Accept-Language: ja,en;q=0.9,en-GB;q=0.8,en-US;q=0.7</span><br><span class="line">172.24.32.250:9000 Connection: keep-alive</span><br><span class="line">172.24.32.250:9000 Cookie: token=xxxxxxxxx</span><br><span class="line">172.24.32.250:9000 User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.159 Safari/537.36 Edg/92.0.902.84</span><br><span class="line">172.24.32.250:9000 &lt;BODY&gt;</span><br><span class="line">172.24.32.250:9000 [RESPONSE] [2021-09-10T00:34:26:000] [ Duration 387µs  ↑ 132 B  ↓ 617 B ]</span><br><span class="line">172.24.32.250:9000 403 Forbidden</span><br><span class="line">172.24.32.250:9000 Accept-Ranges: bytes</span><br><span class="line">172.24.32.250:9000 Content-Length: 294</span><br><span class="line">172.24.32.250:9000 Server: MinIO</span><br><span class="line">172.24.32.250:9000 X-Content-Type-Options: nosniff</span><br><span class="line">172.24.32.250:9000 X-Amz-Request-Id: 16A34EBDA67B7B88</span><br><span class="line">172.24.32.250:9000 X-Xss-Protection: 1; mode=block</span><br><span class="line">172.24.32.250:9000 Content-Security-Policy: block-all-mixed-content</span><br><span class="line">172.24.32.250:9000 Content-Type: application/xml</span><br><span class="line">172.24.32.250:9000 Strict-Transport-Security: max-age=31536000; includeSubDomains</span><br><span class="line">172.24.32.250:9000 Vary: Origin</span><br><span class="line">172.24.32.250:9000 &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;Error&gt;&lt;Code&gt;AccessDenied&lt;/Code&gt;&lt;Message&gt;Request has expired&lt;/Message&gt;&lt;Key&gt;test.txt&lt;/Key&gt;&lt;BucketName&gt;share&lt;/BucketName&gt;&lt;Resource&gt;/share/test.txt&lt;/Resource&gt;&lt;RequestId&gt;16A34EBDA67B7B88&lt;/RequestId&gt;&lt;HostId&gt;baec9ee7-bfb0-441b-a70a-493bfd80d745&lt;/HostId&gt;&lt;/Error&gt;</span><br><span class="line">172.24.32.250:9000</span><br><span class="line">172.24.32.250:9000 [REQUEST s3.ListObjectsV1] [2021-09-10T00:34:26:000] [Client IP: 172.24.32.1]</span><br><span class="line">172.24.32.250:9000 GET /favicon.ico</span><br><span class="line">172.24.32.250:9000 Proto: HTTP/1.1</span><br><span class="line">172.24.32.250:9000 Host: 172.24.32.250:9000</span><br><span class="line">172.24.32.250:9000 Accept: image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8</span><br><span class="line">172.24.32.250:9000 Cache-Control: no-cache</span><br><span class="line">172.24.32.250:9000 Connection: keep-alive</span><br><span class="line">172.24.32.250:9000 Cookie: token=xxxxxxxxxxxxxxxxxxx</span><br><span class="line">172.24.32.250:9000 User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.159 Safari/537.36 Edg/92.0.902.84</span><br><span class="line">172.24.32.250:9000 Accept-Encoding: gzip, deflate</span><br><span class="line">172.24.32.250:9000 Accept-Language: ja,en;q=0.9,en-GB;q=0.8,en-US;q=0.7</span><br><span class="line">172.24.32.250:9000 Content-Length: 0</span><br><span class="line">172.24.32.250:9000 Dnt: 1</span><br><span class="line">172.24.32.250:9000 Pragma: no-cache</span><br><span class="line">172.24.32.250:9000 Referer: http://172.24.32.250:9000/share/test.txt?xxxxxxxxxxxxxx</span><br><span class="line">172.24.32.250:9000</span><br><span class="line">172.24.32.250:9000 [RESPONSE] [2021-09-10T00:34:26:000] [ Duration 184µs  ↑ 121 B  ↓ 596 B ]</span><br><span class="line">172.24.32.250:9000 403 Forbidden</span><br><span class="line">172.24.32.250:9000 X-Xss-Protection: 1; mode=block</span><br><span class="line">172.24.32.250:9000 Content-Length: 273</span><br><span class="line">172.24.32.250:9000 Content-Type: application/xml</span><br><span class="line">172.24.32.250:9000 Strict-Transport-Security: max-age=31536000; includeSubDomains</span><br><span class="line">172.24.32.250:9000 X-Amz-Request-Id: 16A34EBDAA2A2630</span><br><span class="line">172.24.32.250:9000 X-Content-Type-Options: nosniff</span><br><span class="line">172.24.32.250:9000 Accept-Ranges: bytes</span><br><span class="line">172.24.32.250:9000 Content-Security-Policy: block-all-mixed-content</span><br><span class="line">172.24.32.250:9000 Server: MinIO</span><br><span class="line">172.24.32.250:9000 Vary: OriginAccept-Encoding</span><br><span class="line">172.24.32.250:9000 &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;Error&gt;&lt;Code&gt;AccessDenied&lt;/Code&gt;&lt;Message&gt;Access Denied.&lt;/Message&gt;&lt;BucketName&gt;favicon.ico&lt;/BucketName&gt;&lt;Resource&gt;/favicon.ico&lt;/Resource&gt;&lt;RequestId&gt;16A34EBDAA2A2630&lt;/RequestId&gt;&lt;HostId&gt;baec9ee7-bfb0-441b-a70a-493bfd80d745&lt;/HostId&gt;&lt;/Error&gt;</span><br><span class="line">172.24.32.250:9000</span><br></pre></td></tr></table></figure>
<p>あまり追加情報はなさそう。ひとまず、いずれにせよ403
Forbidenエラーであることがわかる。</p>
<p>で、結論としては、PythonでURLを発行する際に指定したポリシが間違っていた。</p>
<p>以下のようにすべきところを、</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"Resource": [</span><br><span class="line">  <span class="string">"arn:aws:s3:::share/*"</span></span><br><span class="line">],</span><br></pre></td></tr></table></figure>
<p>以下のように <code>*</code> が抜けていた。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"Resource": [</span><br><span class="line">  <span class="string">"arn:aws:s3:::share/"</span></span><br><span class="line">],</span><br></pre></td></tr></table></figure>
<p>結果として指定するスコープが小さすぎたということか。</p>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2021/06/13/Minio-getting-started/" data-id="cm087hiny017p18pkwlb14igm" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-PubNub" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2021/05/06/PubNub/">PubNub</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2021/05/06/PubNub/">
            <time datetime="2021-05-06T04:28:14.000Z" itemprop="datePublished">2021-05-06</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/BaaS/">BaaS</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/BaaS/">BaaS</a>, <a class="tag-link" href="/memo-blog/tags/Messaging-System/">Messaging System</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#参考" id="toc-参考">参考</a>
<ul>
<li><a href="#公式ドキュメント" id="toc-公式ドキュメント">公式ドキュメント</a></li>
<li><a href="#blog" id="toc-blog">blog</a></li>
<li><a href="#サンプル" id="toc-サンプル">サンプル</a></li>
</ul></li>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#概要" id="toc-概要">概要</a></li>
<li><a href="#動作確認" id="toc-動作確認">動作確認</a>
<ul>
<li><a href="#アカウント作成" id="toc-アカウント作成">アカウント作成</a></li>
<li><a href="#補足公式チュートリアルのソースコード" id="toc-補足公式チュートリアルのソースコード">（補足）公式チュートリアルのソースコード</a></li>
<li><a href="#プロジェクトディレクトリ作成" id="toc-プロジェクトディレクトリ作成">プロジェクトディレクトリ作成</a></li>
<li><a href="#ファイル" id="toc-ファイル">ファイル</a></li>
<li><a href="#補足error-could-not-find-a-version-that-satisfies-the-requirement-pubnub4.5.1" id="toc-補足error-could-not-find-a-version-that-satisfies-the-requirement-pubnub4.5.1">（補足）ERROR:
Could not find a version that satisfies the requirement
pubnub&gt;=4.5.1</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<h1><span id="参考">参考</span></h1>
<p>aa</p>
<h2><span id="公式ドキュメント">公式ドキュメント</span></h2>
<ul>
<li><a href="https://www.pubnub.com/docs/" target="_blank" rel="noopener">The PubNub Platform
Overview</a></li>
<li><a href="https://www.pubnub.com/docs/sdks" target="_blank" rel="noopener">SDK</a></li>
<li><a href="https://github.com/pubnub" target="_blank" rel="noopener">PubNubのGitHub</a></li>
<li><a href="https://www.pubnub.com/docs/quickstarts/python" target="_blank" rel="noopener">Pythonチュートリアル</a></li>
<li><a href="https://www.pubnub.com/docs/sdks/python" target="_blank" rel="noopener">Python
API</a></li>
<li><a href="https://dashboard.pubnub.com/signup" target="_blank" rel="noopener">サインアップ</a></li>
<li><a href="https://www.pubnub.com/pricing/" target="_blank" rel="noopener">プライシング</a></li>
<li><a href="https://www.pubnub.com/docs/sdks/python/api-reference/files" target="_blank" rel="noopener">Files
API for PubNub Python SDK</a></li>
<li><a href="https://www.pubnub.com/docs/sdks/python/api-reference/files#download-file" target="_blank" rel="noopener">download-file</a></li>
<li><a href="https://www.pubnub.com/docs/sdks/python/api-reference/files#send-file" target="_blank" rel="noopener">send-file</a></li>
</ul>
<h2><span id="blog">blog</span></h2>
<ul>
<li><a href="https://qiita.com/n0bisuke/items/36e4b334d17174446df7" target="_blank" rel="noopener">PubNubで5分でリアルタイムWebこと初め</a></li>
</ul>
<h2><span id="サンプル">サンプル</span></h2>
<ul>
<li><a href="https://github.com/dobachi/PubNubExample" target="_blank" rel="noopener">PubNubExample</a></li>
</ul>
<h1><span id="メモ">メモ</span></h1>
<h2><span id="概要">概要</span></h2>
<p><a href="https://www.pubnub.com/docs/" target="_blank" rel="noopener">The PubNub Platform
Overview</a> によると、</p>
<figure>
<img src="/memo-blog/images/20210506_PubNub_quickstarts.png" alt="クイックスタートの一覧">
<figcaption aria-hidden="true">クイックスタートの一覧</figcaption>
</figure>
<p>とのこと。
概要にIoTと記載されている通り、小型のデバイス利用も想定されているようだ。
主な用途は「メッセージング」と「シグナリング」。</p>
<p>特徴は以下の通り。</p>
<figure>
<img src="/memo-blog/images/20210506_PubNub_features.png" alt="特徴の一覧">
<figcaption aria-hidden="true">特徴の一覧</figcaption>
</figure>
<p>サイズの小さなメッセージに限らず、画像、動画、ファイルを対象に含めているのがポイントか。</p>
<p>ユースケースは以下の通り。</p>
<figure>
<img src="/memo-blog/images/20210506_PubNub_usecases.png" alt="ユースケースの一覧">
<figcaption aria-hidden="true">ユースケースの一覧</figcaption>
</figure>
<p>これ自体に特筆すべきポイントはない。</p>
<p><a href="https://www.pubnub.com/docs/sdks" target="_blank" rel="noopener">SDK</a>
に記載のある通り、非常に幅広いSDKを提供している。</p>
<p><a href="https://github.com/pubnub" target="_blank" rel="noopener">PubNubのGitHub</a>
を見る限り、多様なクライアントライブラリがOSSとして公開、開発されているようだ。</p>
<h2><span id="動作確認">動作確認</span></h2>
<p><a href="https://www.pubnub.com/pricing/" target="_blank" rel="noopener">プライシング</a>
によるとアカウントを作ってお試しする限りでは無料のようだ。
ということで、<a href="https://www.pubnub.com/docs/quickstarts/python" target="_blank" rel="noopener">Pythonチュートリアル</a>
の通り実行してみる。</p>
<p>このチュートリアルでは、PubSubモデルのメッセージングを試せる。</p>
<h3><span id="アカウント作成">アカウント作成</span></h3>
<p><a href="https://dashboard.pubnub.com/signup" target="_blank" rel="noopener">サインアップ</a>
からアカウント作成。 もろもろ情報入れて登録したら、Demo
Keysetが得られた。</p>
<h3><span id="補足公式チュートリアルのソースコード">（補足）公式チュートリアルのソースコード</span></h3>
<p>以下のようにクローンできる。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[dobachi@home Sources]$ git clone git@github.com:pubnub/python-quickstart-platform.git</span><br></pre></td></tr></table></figure>
<p>今回はゼロから作ってみるので、これは参考とする。</p>
<h3><span id="プロジェクトディレクトリ作成">プロジェクトディレクトリ作成</span></h3>
<p>適当なところに空ディレクトリを作り、プロジェクトのルートとする。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[dobachi@home Sources]$ mkdir pubnub_example</span><br><span class="line">[dobachi@home Sources]$ cd pubnub_example/</span><br></pre></td></tr></table></figure>
<p>今回は、pyenvを利用してインストールしたPython3.8.10を利用し、venvで環境構築する。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[dobachi@home pubnub_example]$ pyenv local 3.8.10</span><br><span class="line">[dobachi@home pubnub_example]$ python -m venv venv</span><br><span class="line">[dobachi@home pubnub_example]$ . ./venv/bin/activate</span><br><span class="line">(venv) [dobachi@home pubnub_example]$ pip install 'pubnub&gt;=4.5.1'</span><br></pre></td></tr></table></figure>
<p>ここで、<a href="https://www.pubnub.com/docs/quickstarts/python" target="_blank" rel="noopener">Pythonチュートリアル</a>
に従い、2個の実装pub.py、sub.pyを作成する。
このとき、ソースコードのキーのところに先ほどアカウント作成した際に得られたキーを記載するようにする。</p>
<p>ここから端末を2個立ち上げる。</p>
<p>1個目でサブスクライバーを起動</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(venv) [dobachi@home pubnub_example]$ python sub.py</span><br><span class="line">***************************************************</span><br><span class="line">* Waiting for updates to The Guide about Earth... *</span><br><span class="line">***************************************************</span><br><span class="line">[STATUS: PNConnectedCategory]</span><br><span class="line">connected to channels: ['the_guide', 'the_guide-pnpres']</span><br><span class="line">[PRESENCE: join]</span><br><span class="line">uuid: serverUUID-SUB, channel: the_guide</span><br></pre></td></tr></table></figure>
<p>2個目でパブリッシャーを起動</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(venv) [dobachi@home pubnub_example]$ python pub.py</span><br><span class="line">*****************************************</span><br><span class="line">* Submit updates to The Guide for Earth *</span><br><span class="line">*     Enter 42 to exit this process     *</span><br><span class="line">*****************************************</span><br><span class="line">Enter an update for Earth: Harmless</span><br><span class="line">[PUBLISH: sent]</span><br><span class="line">timetoken: 16202911568484264</span><br></pre></td></tr></table></figure>
<p>プロンプトが表示されるので、「Harmless」と入力してエンターキーを押下。</p>
<p>サブスクライバーに以下のように表示される。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[MESSAGE received]</span><br><span class="line">Earth: Harmless</span><br></pre></td></tr></table></figure>
<p><a href="https://www.pubnub.com/docs/quickstarts/python" target="_blank" rel="noopener">Pythonチュートリアル</a>
に実装の説明があるが、 基本的には</p>
<ul>
<li>サブスクライバーはハンドラの実装のみ</li>
<li>パブリッシャーは標準入力からメッセージを受け取り、それを送信するのみ</li>
</ul>
<p>という単純な仕組み。</p>
<p>パブリッシャー側のポイントは、</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">envelope = pubnub.publish().channel(CHANNEL).message(the_message).sync()</span><br></pre></td></tr></table></figure>
<p>まだ詳しくは分からないが、チャンネルやエントリという概念がありそう。
チャンネルを使うと同報できるのだろうか。</p>
<p><a href="https://www.pubnub.com/docs/sdks/python" target="_blank" rel="noopener">Python API</a>
あたりを読むと記載ありそう。</p>
<h3><span id="ファイル">ファイル</span></h3>
<p><a href="https://www.pubnub.com/docs/sdks/python/api-reference/files" target="_blank" rel="noopener">Files
API for PubNub Python SDK</a> を読むと、ファイルを取り扱うAPIがあった。
5MBまでのファイルをアップロードできるようだ。
アプリケーションで画像を取り扱う場合などを想定している様子。</p>
<p>これを簡単に動作確認してみる。 <a href="https://www.pubnub.com/docs/quickstarts/python" target="_blank" rel="noopener">Pythonチュートリアル</a>
のサンプルコードpub.pyとsub.pyを参考に実装する。 参考実装を <a href="https://github.com/dobachi/PubNubExample" target="_blank" rel="noopener">PubNubExample</a>
にまとめておいた。 READMEを参照。</p>
<p>メッセージングのAPIとは異なるが、簡単に小さなファイルを登録できるのは便利ではある。</p>
<p>またファイルを登録したことを通知するAPIもあるようだ。
これは使い方としては</p>
<ul>
<li>ファイルを送信し、合わせてファイル送信したことをチャンネルにメッセージ送信</li>
<li>受信者は、メッセージを受領したら、その情報を使ってファイル受信</li>
</ul>
<p>ということだと思われる。
ファイルの送受信自体は、メッセージングのようにSubscribeできず、
単発実行のAPIであり、かつ受信についてはIDを引数に渡さないといけないから、と考えられる。</p>
<h3><span id="補足errorcould-not-find-a-version-that-satisfies-the-requirementpubnubgt451">（補足）ERROR:
Could not find a version that satisfies the requirement
pubnub&gt;=4.5.1</span></h3>
<p>以下のようなエラーが出たら、</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR: Could not find a version that satisfies the requirement pubnub&gt;=4.5.1</span><br></pre></td></tr></table></figure>
<p><code>libffi-devel</code>
をインストールしたうえで、Pythonをビルドするようにするとよい。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(venv) [dobachi@home pubnub_example]$ pyenv uninstall 3.8.10</span><br><span class="line">(venv) [dobachi@home pubnub_example]$ sudo yum install -y libffi-devel</span><br><span class="line">(venv) [dobachi@home pubnub_example]$ pyenv install 3.8.10</span><br></pre></td></tr></table></figure>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2021/05/06/PubNub/" data-id="cm087hifx009h18pk8u0v1hzy" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-Use-any-fonts-in-CentOS7" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2021/04/30/Use-any-fonts-in-CentOS7/">Use any fonts in CentOS7</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2021/04/30/Use-any-fonts-in-CentOS7/">
            <time datetime="2021-04-30T01:55:16.000Z" itemprop="datePublished">2021-04-30</time>
        </a>
    </div>


                        
                        
                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#参考" id="toc-参考">参考</a></li>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#元ネタ" id="toc-元ネタ">元ネタ</a></li>
</ul></li>
</ul>
</div>
<h1><span id="参考">参考</span></h1>
<ul>
<li><a href="http://park1.wakwak.com/~ima/centos4_truetypefont0001.html" target="_blank" rel="noopener">Microsoft
Windows用TrueTypeフォントを使用する</a></li>
</ul>
<h1><span id="メモ">メモ</span></h1>
<p>/usr/share/fonts以下に適当なディレクトリを作成。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo mkdir /usr/share/fonts/original</span></span><br></pre></td></tr></table></figure>
<p>フォントを格納</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo cp ＜何かしらのフォント＞ /usr/share/fonts/original</span></span><br></pre></td></tr></table></figure>
<p>更新。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> /usr/share/fonts/original</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo mkfontdir</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo mkfontscale</span></span><br></pre></td></tr></table></figure>
<h2><span id="元ネタ">元ネタ</span></h2>
<p><a href="http://park1.wakwak.com/~ima/centos4_truetypefont0001.html" target="_blank" rel="noopener">Microsoft
Windows用TrueTypeフォントを使用する</a> が参考になった。
（が、MS社フォントは今回は用いていない）</p>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2021/04/30/Use-any-fonts-in-CentOS7/" data-id="cm087hih000cc18pkqfx2usvf" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-CentOS-on-WSL" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2021/04/25/CentOS-on-WSL/">CentOS on WSL</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2021/04/25/CentOS-on-WSL/">
            <time datetime="2021-04-25T04:30:49.000Z" itemprop="datePublished">2021-04-25</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/WSL/">WSL</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/WSL/CentOS/">CentOS</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/CentOS/">CentOS</a>, <a class="tag-link" href="/memo-blog/tags/WSL/">WSL</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#参考" id="toc-参考">参考</a></li>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#centos" id="toc-centos">CentOS</a>
<ul>
<li><a href="#centos7" id="toc-centos7">CentOS7</a></li>
<li><a href="#centos8-stream" id="toc-centos8-stream">CentOS8
Stream</a></li>
<li><a href="#fedora" id="toc-fedora">Fedora</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<h1><span id="参考">参考</span></h1>
<ul>
<li><a href="https://www.geekfeed.co.jp/geekblog/install_centos8_on_wsl2_for_free" target="_blank" rel="noopener">wsl2上で無料でCentOS8を動かそう</a></li>
<li><a href="https://github.com/mishamosher/CentOS-WSL" target="_blank" rel="noopener">CentOS-WSL</a></li>
<li><a href="https://github.com/mishamosher/CentOS-WSL/releases/download/7.9-2009/CentOS7.zip" target="_blank" rel="noopener">CentOS7.zip</a></li>
</ul>
<h1><span id="メモ">メモ</span></h1>
<p>Redhat系LinuxをWSL（ないしWSL2）で動かしたい、という話。</p>
<p><a href="https://www.geekfeed.co.jp/geekblog/install_centos8_on_wsl2_for_free" target="_blank" rel="noopener">wsl2上で無料でCentOS8を動かそう</a>
で挙げられているレポジトリはアーカイブされているため、
代替手段で対応した。</p>
<h2><span id="centos">CentOS</span></h2>
<h3><span id="centos7">CentOS7</span></h3>
<p><a href="https://github.com/mishamosher/CentOS-WSL" target="_blank" rel="noopener">CentOS-WSL</a>
を参考に、まずは手堅くCentOS7。</p>
<p><a href="https://www.geekfeed.co.jp/geekblog/install_centos8_on_wsl2_for_free" target="_blank" rel="noopener">wsl2上で無料でCentOS8を動かそう</a>
を参考にすすめる。</p>
<p><a href="https://github.com/mishamosher/CentOS-WSL/releases/download/7.9-2009/CentOS7.zip" target="_blank" rel="noopener">CentOS7.zip</a>
をダウンロードし解凍。 中に含まれている <code>rootfs.tar.gz</code>
を解凍しておきます。 ここでは、
<code>C:\Users\dobachi\Downloads\CentOS7\rootfs.tar\rootfs.tar</code>
として解凍されたものとします。</p>
<p>インポート先のディレクトリがなければ、予め作成。
ここでは以下にしました。（他のイメージと同じ感じで）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\dobachi\AppData\Local\Packages\CentOS7</span><br></pre></td></tr></table></figure>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --import CentOS7 <span class="string">"C:\Users\dobachi\AppData\Local\Packages\CentOS7"</span> <span class="string">"C:\Users\dobachi\Downloads\CentOS7\rootfs.tar\rootfs.tar"</span></span><br></pre></td></tr></table></figure>
<p>必要に応じてWSL2用に変換。</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --set-version CentOS7 <span class="number">2</span></span><br></pre></td></tr></table></figure>
<p>その他、必要に応じてWindows Terminalの設定を行う。</p>
<p>また日本語とGUI利用のための設定は、UbuntuとCentOSは少し違うので注意。
日本語でのハマりポイントは以下。</p>
<ul>
<li>localectlが使えない
<ul>
<li>/etc/profileに直接ロケール情報を記載すると良い</li>
</ul></li>
<li>Ubuntuとは日本語対応方法が異なる
<ul>
<li>CentOSではibus-kkcを利用すると良い</li>
</ul></li>
</ul>
<h3><span id="centos8-stream">CentOS8 Stream</span></h3>
<p>＜あとで書く＞</p>
<h3><span id="fedora">Fedora</span></h3>
<p>＜あとで書く＞</p>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2021/04/25/CentOS-on-WSL/" data-id="cm087hide002518pkc5judfo5" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-readPredicates-in-inserting-records" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2021/04/23/readPredicates-in-inserting-records/">readPredicates in inserting records</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2021/04/23/readPredicates-in-inserting-records/">
            <time datetime="2021-04-23T00:28:13.000Z" itemprop="datePublished">2021-04-23</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Storage-Layer/">Storage Layer</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Storage-Layer/Delta-Lake/">Delta Lake</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/Delta-Lake/">Delta Lake</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#参考" id="toc-参考">参考</a></li>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#前提" id="toc-前提">前提</a></li>
<li><a href="#動機" id="toc-動機">動機</a></li>
<li><a href="#準備" id="toc-準備">準備</a></li>
<li><a href="#簡単な動作確認" id="toc-簡単な動作確認">簡単な動作確認</a></li>
<li><a href="#readpredicatesに書き込みが生じるケース" id="toc-readpredicatesに書き込みが生じるケース">readPredicatesに書き込みが生じるケース</a></li>
</ul></li>
</ul>
</div>
<h1><span id="参考">参考</span></h1>
<h1><span id="メモ">メモ</span></h1>
<h2><span id="前提">前提</span></h2>
<p>Delta Lake 0.7.0</p>
<h2><span id="動機">動機</span></h2>
<p>Delta Lakeのトランザクション管理について、
<code>org.apache.spark.sql.delta.OptimisticTransactionImpl#readPredicates</code>
がどのように利用されるか、を確認した。</p>
<p>特にInsert時に、競合確認するかどうかを決めるにあたって重要な変数である。</p>
<p>org/apache/spark/sql/delta/OptimisticTransaction.scala:600</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> predicatesMatchingAddedFiles = <span class="type">ExpressionSet</span>(readPredicates).iterator.flatMap &#123; p =&gt;</span><br><span class="line">  <span class="keyword">val</span> conflictingFile = <span class="type">DeltaLog</span>.filterFileList(</span><br><span class="line">    metadata.partitionSchema,</span><br><span class="line">    addedFilesToCheckForConflicts.toDF(), p :: <span class="type">Nil</span>).as[<span class="type">AddFile</span>].take(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">  conflictingFile.headOption.map(f =&gt; getPrettyPartitionMessage(f.partitionValues))</span><br><span class="line">&#125;.take(<span class="number">1</span>).toArray</span><br></pre></td></tr></table></figure>
<h2><span id="準備">準備</span></h2>
<p>SparkをDelta Lakeと一緒に起動する。
（ここではついでにデバッガをアタッチするコンフィグを付与している。不要なら、--driver-java-optionsを除外する）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dobachi@home:~/tmp$ /opt/spark/default/bin/spark-shell --packages io.delta:delta-core_2.12:0.7.0 --conf "spark.sql.extensions=io.delta.sql.DeltaSparkSessionExtension" --conf "spark.sql.catalog.spark_catalog=org.apache.spark.sql.delta.catalog.DeltaCatalog" --driver-java-options "-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=localhost:5005"</span><br></pre></td></tr></table></figure>
<p>ファイルはSparkに含まれているサンプルファイルを使うことにする。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> filePath = <span class="string">"/home/dobachi/Sources/spark/examples/src/main/resources/users.parquet"</span></span><br><span class="line">filePath: <span class="type">String</span> = /home/dobachi/<span class="type">Sources</span>/spark/examples/src/main/resources/users.parquet</span><br><span class="line"></span><br><span class="line">scala&gt; <span class="keyword">val</span> df = spark.read.parquet(filePath)</span><br><span class="line">df: org.apache.spark.sql.<span class="type">DataFrame</span> = [name: string, favorite_color: string ... <span class="number">1</span> more field]</span><br></pre></td></tr></table></figure>
<p>こんな感じのデータ</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; df.show</span><br><span class="line">+------+--------------+----------------+</span><br><span class="line">|  name|favorite_color|favorite_numbers|</span><br><span class="line">+------+--------------+----------------+</span><br><span class="line">|<span class="type">Alyssa</span>|          <span class="literal">null</span>|  [<span class="number">3</span>, <span class="number">9</span>, <span class="number">15</span>, <span class="number">20</span>]|</span><br><span class="line">|   <span class="type">Ben</span>|           red|              []|</span><br><span class="line">+------+--------------+----------------+</span><br></pre></td></tr></table></figure>
<p>テーブル作成</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.write.format(<span class="string">"delta"</span>).save(<span class="string">"users1"</span>)</span><br></pre></td></tr></table></figure>
<p>ここまでで後でデータを追記するためのテーブル作成が完了。</p>
<h2><span id="簡単な動作確認">簡単な動作確認</span></h2>
<p>ここで、競合状況を再現するため、もうひとつターミナルを開き、Sparkシェルを起動した。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/opt/spark/default/bin/spark-shell --packages io.delta:delta-core_2.12:0.7.0 --conf "spark.sql.extensions=io.delta.sql.DeltaSparkSessionExtension" --conf "spark.sql.catalog.spark_catalog=org.apache.spark.sql.delta.catalog.DeltaCatalog"</span><br></pre></td></tr></table></figure>
<p>ターミナル1でデバッガを有効化しながら、以下を実行。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> tblPath = <span class="string">"users1"</span></span><br><span class="line">df.write.format(<span class="string">"delta"</span>).mode(<span class="string">"append"</span>).save(tblPath)</span><br></pre></td></tr></table></figure>
<p>ちなみにブレイクポイントは以下の箇所に設定した。</p>
<p>org/apache/spark/sql/delta/OptimisticTransaction.scala:482</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">deltaLog.store.write(</span><br><span class="line">  deltaFile(deltaLog.logPath, attemptVersion),</span><br><span class="line">  actions.map(_.json).toIterator)</span><br></pre></td></tr></table></figure>
<p>ターミナル2で以下を実行し、コンパクション実施。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> tblPath = <span class="string">"users1"</span></span><br><span class="line">spark.read</span><br><span class="line"> .format(<span class="string">"delta"</span>)</span><br><span class="line"> .load(tblPath)</span><br><span class="line"> .repartition(<span class="number">2</span>)</span><br><span class="line"> .write</span><br><span class="line"> .option(<span class="string">"dataChange"</span>, <span class="string">"false"</span>)</span><br><span class="line"> .format(<span class="string">"delta"</span>)</span><br><span class="line"> .mode(<span class="string">"overwrite"</span>)</span><br><span class="line"> .save(tblPath)</span><br></pre></td></tr></table></figure>
<p>ターミナル1の処理で使用しているデバッガで、以下のあたりにブレイクポイントをおいて確認した。</p>
<p>org/apache/spark/sql/delta/OptimisticTransaction.scala:595</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> addedFilesToCheckForConflicts = commitIsolationLevel <span class="keyword">match</span> &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="type">Serializable</span> =&gt; changedDataAddedFiles ++ blindAppendAddedFiles</span><br><span class="line">  <span class="keyword">case</span> <span class="type">WriteSerializable</span> =&gt; changedDataAddedFiles <span class="comment">// don't conflict with blind appends</span></span><br><span class="line">  <span class="keyword">case</span> <span class="type">SnapshotIsolation</span> =&gt; <span class="type">Seq</span>.empty</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>この場合、<code>org.apache.spark.sql.delta.OptimisticTransactionImpl#readPredicates</code>
はこのタイミングでは空のArrayBufferだった。</p>
<h2><span id="readpredicatesに書き込みが生じるケース">readPredicatesに書き込みが生じるケース</span></h2>
<p>以下の通り。</p>
<p>org/apache/spark/sql/delta/OptimisticTransaction.scala:239</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">filterFiles</span></span>(filters: <span class="type">Seq</span>[<span class="type">Expression</span>]): <span class="type">Seq</span>[<span class="type">AddFile</span>] = &#123;</span><br><span class="line">  <span class="keyword">val</span> scan = snapshot.filesForScan(<span class="type">Nil</span>, filters)</span><br><span class="line">  <span class="keyword">val</span> partitionFilters = filters.filter &#123; f =&gt;</span><br><span class="line">    <span class="type">DeltaTableUtils</span>.isPredicatePartitionColumnsOnly(f, metadata.partitionColumns, spark)</span><br><span class="line">  &#125;</span><br><span class="line">  readPredicates += partitionFilters.reduceLeftOption(<span class="type">And</span>).getOrElse(<span class="type">Literal</span>(<span class="literal">true</span>))</span><br><span class="line">  readFiles ++= scan.files</span><br><span class="line">  scan.files</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** Mark the entire table as tainted by this transaction. */</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">readWholeTable</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">  readPredicates += <span class="type">Literal</span>(<span class="literal">true</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>org.apache.spark.sql.delta.OptimisticTransactionImpl#filterFiles</code>
メソッドは主にファイルを消すときに用いられる。
DELETEするとき、Updateするとき、Overwriteするとき（条件付き含む）など。</p>
<p><code>org.apache.spark.sql.delta.OptimisticTransactionImpl#readWholeTable</code>
メソッドは ストリーム処理で書き込む際に用いられる。
書き込もうとしているテーブルを読んでいる場合はreadPredicatesに真値を追加する。</p>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2021/04/23/readPredicates-in-inserting-records/" data-id="cm087hiib00fx18pk76m4h9pf" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-Double-count-of-dstat" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2021/04/09/Double-count-of-dstat/">Double count of dstat</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2021/04/09/Double-count-of-dstat/">
            <time datetime="2021-04-08T23:28:03.000Z" itemprop="datePublished">2021-04-09</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Monitering/">Monitering</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/dstat/">dstat</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#参考" id="toc-参考">参考</a></li>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#結論" id="toc-結論">結論</a></li>
<li><a href="#事象の確認" id="toc-事象の確認">事象の確認</a></li>
<li><a href="#関連する実装は" id="toc-関連する実装は">関連する実装は？</a></li>
<li><a href="#doolの登場" id="toc-doolの登場">doolの登場</a></li>
</ul></li>
</ul>
</div>
<h1><span id="参考">参考</span></h1>
<ul>
<li><a href="https://github.com/dstat-real/dstat/issues/26" target="_blank" rel="noopener">total disk
data include virtual lvm device data (so doubling the calculated
values)</a></li>
<li><a href="https://github.com/dstat-real/dstat" target="_blank" rel="noopener">dstat-real
dstat</a></li>
<li><a href="https://qiita.com/httpd443/items/e906fbcc7ca8d8d4585f" target="_blank" rel="noopener">dstatが開発終了した話</a></li>
<li><a href="https://github.com/scottchiefbaker/dool" target="_blank" rel="noopener">dool</a></li>
<li><a href="https://man7.org/linux/man-pages/man1/pcp-dstat.1.html" target="_blank" rel="noopener">pcp-dstatのman</a></li>
</ul>
<h1><span id="メモ">メモ</span></h1>
<p>dstatのtotalが2倍？になる？という話があり簡単に確認。</p>
<h2><span id="結論">結論</span></h2>
<p>ディスク単位のI/Oを <code>total</code> に入れるべきなのだが、
正規表現上の仕様により、 <code>xvda1</code>
などのパーティション単位のI/Oも <code>total</code> に足されている。</p>
<p>実は、パーティションの値を取り除く正規表現ではあるのだが、当時の実装（※）としては
<code>xvd</code> で始まるディスク名に対応できていなかったようだ。
なお、その後、いくつか正規表現が改変されたような経緯がコミットログやGitHub
Issueから見られた。</p>
<p>※CentOS7等で採用されたdstat0.7.2のリリース時期は2010年ころ</p>
<h2><span id="事象の確認">事象の確認</span></h2>
<p>環境情報の確認。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">[centos@ip-10-0-0-217 ~]$ uname -a</span><br><span class="line">Linux ip-10-0-0-217.ap-northeast-1.compute.internal 3.10.0-1127.13.1.el7.x86_64 #1 SMP Tue Jun 23 15:46:38 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux</span><br><span class="line"></span><br><span class="line">[centos@ip-10-0-0-217 ~]$ dstat --version</span><br><span class="line">Dstat 0.7.2</span><br><span class="line">Written by Dag Wieers &lt;dag@wieers.com&gt;</span><br><span class="line">Homepage at http://dag.wieers.com/home-made/dstat/</span><br><span class="line"></span><br><span class="line">Platform posix/linux2</span><br><span class="line">Kernel 3.10.0-1127.13.1.el7.x86_64</span><br><span class="line">Python 2.7.5 (default, Apr  2 2020, 13:16:51)</span><br><span class="line">[GCC 4.8.5 20150623 (Red Hat 4.8.5-39)]</span><br><span class="line"></span><br><span class="line">Terminal type: xterm-256color (color support)</span><br><span class="line">Terminal size: 86 lines, 310 columns</span><br><span class="line"></span><br><span class="line">Processors: 4</span><br><span class="line">Pagesize: 4096</span><br><span class="line">Clock ticks per secs: 100</span><br><span class="line"></span><br><span class="line">internal:</span><br><span class="line">        aio, cpu, cpu24, disk, disk24, disk24old, epoch, fs, int, int24, io, ipc, load, lock, mem, net, page, page24, proc, raw, socket, swap, swapold, sys, tcp, time, udp, unix, vm</span><br><span class="line">/usr/share/dstat:</span><br><span class="line">        battery, battery-remain, cpufreq, dbus, disk-tps, disk-util, dstat, dstat-cpu, dstat-ctxt, dstat-mem, fan, freespace, gpfs, gpfs-ops, helloworld, innodb-buffer, innodb-io, innodb-ops, lustre, memcache-hits, mysql-io, mysql-keys, mysql5-cmds, mysql5-conn, mysql5-io, mysql5-keys, net-packets, nfs3,</span><br><span class="line">        nfs3-ops, nfsd3, nfsd3-ops, ntp, postfix, power, proc-count, qmail, rpc, rpcd, sendmail, snooze, squid, test, thermal, top-bio, top-bio-adv, top-childwait, top-cpu, top-cpu-adv, top-cputime, top-cputime-avg, top-int, top-io, top-io-adv, top-latency, top-latency-avg, top-mem, top-oom, utmp,</span><br><span class="line">        vm-memctl, vmk-hba, vmk-int, vmk-nic, vz-cpu, vz-io, vz-ubc, wifi</span><br><span class="line"></span><br><span class="line">[centos@ip-10-0-0-217 ~]$ lsblk</span><br><span class="line">NAME    MAJ:MIN RM SIZE RO TYPE MOUNTPOINT</span><br><span class="line">xvda    202:0    0  60G  0 disk</span><br><span class="line">└─xvda1 202:1    0  60G  0 part /</span><br></pre></td></tr></table></figure>
<p>dstat 0.7.2は2010年にリリースされたようだ。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> -1 --format=%ai 0.7.2</span></span><br><span class="line">2010-06-14 22:25:44 +0000</span><br></pre></td></tr></table></figure>
<p>参考までにpcpのバージョン</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[centos@ip-10-0-0-217 ~]$ pcp --version</span><br><span class="line">pcp version 4.3.2</span><br></pre></td></tr></table></figure>
<p>ここから動作確認。</p>
<p>fioを実行。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[centos@ip-10-0-0-217 ~]$ fio -rw=randwrite -bs=16k -size=1000m -iodepth=32 -directory=/tmp -direct=1 -invalidate=1 -runtime=300 -numjobs=8 -name=iotest -ioengine=libaio -group_reporting</span><br><span class="line"></span><br><span class="line">(snip)</span><br></pre></td></tr></table></figure>
<p>裏でdstatを実行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[centos@ip-10-0-0-217 ~]$ dstat -td -D total,xvda                                                                                                                                                                                                                                                                     ----system---- -dsk/total----dsk/xvda-</span><br><span class="line">     time     | read  writ: read  writ</span><br><span class="line">09-04 08:40:50| 373k  315k: 187k  158k</span><br><span class="line">09-04 08:40:51|   0    95M:   0    47M</span><br><span class="line">09-04 08:40:52|   0    87M:   0    44M</span><br><span class="line"></span><br><span class="line">(snip)</span><br></pre></td></tr></table></figure>
<p>およそ2倍になっている。</p>
<p>pcp-dstatだと？</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[centos@ip-10-0-0-217 ~]$ pcp dstat -td -D total,xvda</span><br><span class="line">----system---- --dsk/xvda---dsk/total-</span><br><span class="line">     time     | read  writ: read  writ</span><br><span class="line">09-04 09:16:47|           :</span><br><span class="line">09-04 09:16:48|   0    41M:   0    41M</span><br><span class="line">09-04 09:16:49|   0    45M:   0    45M</span><br><span class="line">09-04 09:16:50|   0    50M:   0    50M</span><br><span class="line">09-04 09:16:51|   0    35M:   0    35M^</span><br><span class="line"></span><br><span class="line">(snip)</span><br></pre></td></tr></table></figure>
<p>ということで、2倍になっていない。</p>
<p>ちなみに、そもそもpcp-dstatは、上記のdstatとは全く異なる実装に見える。</p>
<p>doolだと？（2021/4/8時点のmasterブランチ）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[centos@ip-10-0-0-217 Sources]$ ./dool/dool -td -D total,xvda</span><br><span class="line">-----system---- -dsk/total----dsk/xvda-</span><br><span class="line">      time     | read  writ: read  writ</span><br><span class="line">Apr-09 11:24:54| 577k 3307k: 289k 1653k</span><br><span class="line">Apr-09 11:24:55|   0    66M:   0    33M</span><br><span class="line">Apr-09 11:24:56|   0    25M:   0    13M</span><br><span class="line">Apr-09 11:24:57|   0    44M:   0    22M^</span><br><span class="line"></span><br><span class="line">(snip)</span><br></pre></td></tr></table></figure>
<p>ということで、dstatと同様。</p>
<h2><span id="関連する実装は">関連する実装は？</span></h2>
<p><a href="https://github.com/dstat-real/dstat" target="_blank" rel="noopener">dstat-real dstat</a>
の実装を確認する。</p>
<p><code>dstat_disk</code>
クラスのコンストラクタに、後に用いられるフィルタ用の正規表現定義がある。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">683</span>         self.diskfilter = re.compile(<span class="string">'^(dm-\d+|md\d+|[hsv]d[a-z]+\d+)$'</span>)</span><br></pre></td></tr></table></figure>
<p>この正規表現を利用する箇所はいくつかあるが、その一つが
<code>total</code> の値を計算するところ。
このフィルタにマッチしない場合に、 <code>total</code>
に足される計算になっている。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">728</span>             <span class="keyword">if</span> <span class="keyword">not</span> self.diskfilter.match(name):</span><br><span class="line"><span class="number">729</span>                 self.set2[<span class="string">'total'</span>] = ( self.set2[<span class="string">'total'</span>][<span class="number">0</span>] + long(l[<span class="number">5</span>]), self.set2[<span class="string">'total'</span>][<span class="number">1</span>] + long(l[<span class="number">9</span>]) )</span><br></pre></td></tr></table></figure>
<p>ここで正規表現の中身を見ると、例えば <code>dm-0</code> 、
<code>sda1</code>
のような「パーティション名」を表すものとマッチするようになっている。
つまり、 <code>not</code> 条件と合わせて、「パーティション名以外のものを
<code>total</code> に足す」という動作になる。</p>
<p>このとき、よく見ると、今回使用した環境で用いている、
<code>xvda1</code> という名称は正規表現にマッチしないことがわかる。
したがって <code>total</code> に足されてしまい、なぜか
<code>total</code>
の表示が大きくなる、という事象が生じたと思われる。</p>
<p><a href="https://github.com/dstat-real/dstat/issues/26" target="_blank" rel="noopener">total disk
data include virtual lvm device data (so doubling the calculated
values)</a> にも似たような議論があるようだ。</p>
<h2><span id="doolの登場">doolの登場</span></h2>
<p>dstatの源流は今はメンテされておらず、 <a href="https://github.com/scottchiefbaker/dool" target="_blank" rel="noopener">dool</a>
が開発されている。</p>
<blockquote>
<p>Dool is a Python3 compatible clone of Dstat.</p>
</blockquote>
<p>また <a href="https://qiita.com/httpd443/items/e906fbcc7ca8d8d4585f" target="_blank" rel="noopener">dstatが開発終了した話</a>
に記載されているが、他にもpcp系列のdstatが残っている。</p>
<p>ただし、doolにおいても、正規表現は同じようなものだった。</p>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2021/04/09/Double-count-of-dstat/" data-id="cm087hidp003c18pke2nympce" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <nav id="page-nav">
        <a class="extend prev" rel="prev" href="/memo-blog/page/2/">&laquo; 前</a><a class="page-number" href="/memo-blog/">1</a><a class="page-number" href="/memo-blog/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/memo-blog/page/4/">4</a><a class="page-number" href="/memo-blog/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/memo-blog/page/22/">22</a><a class="extend next" rel="next" href="/memo-blog/page/4/">次 &raquo;</a>
    </nav>
</section>
            
                
<aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">最近の記事</h3>
        <div class="widget">
            <ul id="recent-post" class="no-thumbnail">
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Dataspace-Connector/">Dataspace Connector</a></p>
                            <p class="item-title"><a href="/memo-blog/2024/07/14/Management-Domain/" class="title">Management Domain of EDC</a></p>
                            <p class="item-date"><time datetime="2024-07-14T03:09:34.000Z" itemprop="datePublished">2024-07-14</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Dataspace-Connector/">Dataspace Connector</a></p>
                            <p class="item-title"><a href="/memo-blog/2024/07/07/MVD-of-EDC/" class="title">MVD_of_EDC</a></p>
                            <p class="item-date"><time datetime="2024-07-06T16:16:32.000Z" itemprop="datePublished">2024-07-07</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Data-Spaces/">Data Spaces</a></p>
                            <p class="item-title"><a href="/memo-blog/2023/09/20/Dataspace-Protocol-of-EDC/" class="title">Dataspace Protocol of EDC</a></p>
                            <p class="item-date"><time datetime="2023-09-20T14:07:49.000Z" itemprop="datePublished">2023-09-20</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Data-Spaces/">Data Spaces</a></p>
                            <p class="item-title"><a href="/memo-blog/2023/09/09/Generate-OpenAPI-Spec-of-EDC-Connector/" class="title">Generate OpenAPI Spec of EDC Connector</a></p>
                            <p class="item-date"><time datetime="2023-09-09T13:26:58.000Z" itemprop="datePublished">2023-09-09</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Open-API/">Open API</a></p>
                            <p class="item-title"><a href="/memo-blog/2023/09/07/OpenAPI-Generator-for-Flask/" class="title">OpenAPI Generator for Flask</a></p>
                            <p class="item-date"><time datetime="2023-09-07T13:10:58.000Z" itemprop="datePublished">2023-09-07</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">カテゴリ</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/">Clipping</a><span class="category-list-count">16</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/AI/">AI</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Camera/">Camera</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Camera/Lighting/">Lighting</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Cloud/">Cloud</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Database/">Database</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Kafka/">Kafka</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/List/">List</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/List/Research/">Research</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Management/">Management</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/PostgreSQL/">PostgreSQL</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Stream-Processing/">Stream Processing</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Uber/">Uber</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Vim/">Vim</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Windows-Tools/">Windows Tools</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/">Home server</a><span class="category-list-count">14</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/File-server/">File server</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Hardware/">Hardware</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Nature-Remo/">Nature Remo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Network/">Network</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Remote-desktop/">Remote desktop</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Ubuntu/">Ubuntu</a><span class="category-list-count">8</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Ubuntu/Adobe-Reader/">Adobe Reader</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Ubuntu/Gnome/">Gnome</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Ubuntu/KVM/">KVM</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Ubuntu/OneDrive/">OneDrive</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Ubuntu/vim/">vim</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Video-processing/">Video processing</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><span class="category-list-count">161</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Alluxio/">Alluxio</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/BaaS/">BaaS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Configuration-Management/">Configuration Management</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Configuration-Management/Ansible/">Ansible</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Catalog/">Data Catalog</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Catalog/CKAN/">CKAN</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Collaboration/">Data Collaboration</a><span class="category-list-count">6</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Collaboration/Delta-Sharing/">Delta Sharing</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Collaboration/X-Road/">X-Road</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Engineering/">Data Engineering</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Engineering/Data-Lineage/">Data Lineage</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Engineering/Data-Transformation/">Data Transformation</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Mesh/">Data Mesh</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Processing-Engine/">Data Processing Engine</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Spaces/">Data Spaces</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Spaces/EDC/">EDC</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Spaces/IDS/">IDS</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Dataspace-Connector/">Dataspace Connector</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Dataspace-Connector/Eclipse-Dataspace-Components/">Eclipse Dataspace Components</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Documentation/">Documentation</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Flask/">Flask</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/GPD-Pocket/">GPD Pocket</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/GPD-Pocket/Device/">Device</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/GPD-Pocket/Device/Bluetooth/">Bluetooth</a><span class="category-list-count">1</span></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/HBase/">HBase</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hadoop/">Hadoop</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hadoop/Ambari/">Ambari</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hadoop/BigTop/">BigTop</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hadoop/HDP/">HDP</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hexo/">Hexo</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Home-Network/">Home Network</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hyper/">Hyper</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hyper/Plugin/">Plugin</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hyper-V/">Hyper-V</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Keyboard/">Keyboard</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Keyboard/Corne-Chocolate/">Corne Chocolate</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Keyboard/QMK/">QMK</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Kubernetes/">Kubernetes</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/">Machine Learning</a><span class="category-list-count">25</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Analytics-Zoo/">Analytics Zoo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/AutoML/">AutoML</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Data-Platform/">Data Platform</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Flow-Engine/">Flow Engine</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Kaggle/">Kaggle</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/MLflow/">MLflow</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Model/">Model</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Model/Cross-Validation/">Cross Validation</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Model/Data-Leakage/">Data Leakage</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Model/Partial-Dependency-Plot/">Partial Dependency Plot</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Model/XGBoost/">XGBoost</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Model-Management/">Model Management</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Model-Management/Clipper/">Clipper</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/OpML/">OpML</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Preparation/">Preparation</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Software-Engineering-Patterns/">Software Engineering Patterns</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Stream-Processing/">Stream Processing</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Visualization/">Visualization</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Visualization/Seaborn/">Seaborn</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Word2Vec/">Word2Vec</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Messaging-System/">Messaging System</a><span class="category-list-count">15</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Messaging-System/Kafka/">Kafka</a><span class="category-list-count">14</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Metadata-Management/">Metadata Management</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Monitering/">Monitering</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Open-API/">Open API</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Open-Data/">Open Data</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Open-Data/Scraping/">Scraping</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Open-Data/Tellus/">Tellus</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Pinot/">Pinot</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Power-Grid-Data/">Power Grid Data</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Python/">Python</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Python/Jupyter/">Jupyter</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Python/Pipenv/">Pipenv</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Python/pyenv/">pyenv</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/SDK/">SDK</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/SQLAlchemy/">SQLAlchemy</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Scala/">Scala</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Scala/SBT/">SBT</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Spark/">Spark</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Spark/Spark-Summit/">Spark Summit</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Storage-Layer/">Storage Layer</a><span class="category-list-count">13</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Storage-Layer/Delta-Lake/">Delta Lake</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Storage-Layer/Hudi/">Hudi</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Storage-Layer/Minio/">Minio</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Stream-Processing/">Stream Processing</a><span class="category-list-count">9</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Stream-Processing/Apache-Edgent/">Apache Edgent</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Stream-Processing/Kappa-Architecture/">Kappa Architecture</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Stream-Processing/MillWheel/">MillWheel</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Stream-Processing/Twitter-Heron/">Twitter Heron</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Tools/">Tools</a><span class="category-list-count">8</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Tools/Git/">Git</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Tools/Intellij/">Intellij</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Tools/Selenium/">Selenium</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Tools/tmux/">tmux</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/WSL/">WSL</a><span class="category-list-count">7</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/WSL/CentOS/">CentOS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/WSL/Docker/">Docker</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/WSL/Terminal-tool/">Terminal tool</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/WSL/Vagrant/">Vagrant</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/WSL/X-Window/">X Window</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Windows/">Windows</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Windows/Ansible/">Ansible</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Windows/Docker/">Docker</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Windows/Hyper-V/">Hyper-V</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Zeppelin/">Zeppelin</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/ZooKeeper/">ZooKeeper</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/vim/">vim</a><span class="category-list-count">5</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/">Research</a><span class="category-list-count">14</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/AWS/">AWS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Conference/">Conference</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Conference/DevSumi/">DevSumi</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Data-Analytics/">Data Analytics</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Data-Analytics/Tools/">Tools</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Machine-Learning/">Machine Learning</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Machine-Learning/BigDL/">BigDL</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Machine-Learning/TensorFlow/">TensorFlow</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/NVM/">NVM</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/SX-Aurora-Frovedis/">SX-Aurora/Frovedis</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Trends/">Trends</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Video-processing/">Video processing</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Video-processing/BlazeIt/">BlazeIt</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Visualization/">Visualization</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Visualization/Superset/">Superset</a><span class="category-list-count">1</span></li></ul></li></ul></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">アーカイブ</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2024/07/">7月 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2023/09/">9月 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2023/08/">8月 2023</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2022/05/">5月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2022/02/">2月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2022/01/">1月 2022</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/10/">10月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/09/">9月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/08/">8月 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/07/">7月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/06/">6月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/05/">5月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/04/">4月 2021</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/02/">2月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/01/">1月 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/12/">12月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/11/">11月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/10/">10月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/09/">9月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/08/">8月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/07/">7月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/06/">6月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/05/">5月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/04/">4月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/03/">3月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/02/">2月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/01/">1月 2020</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/12/">12月 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/11/">11月 2019</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/10/">10月 2019</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/09/">9月 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/08/">8月 2019</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/07/">7月 2019</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/06/">6月 2019</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/05/">5月 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/04/">4月 2019</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/03/">3月 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/02/">2月 2019</a><span class="archive-list-count">16</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/01/">1月 2019</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2018/12/">12月 2018</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2018/11/">11月 2018</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2018/10/">10月 2018</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2018/09/">9月 2018</a><span class="archive-list-count">2</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">タグ</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/AI/">AI</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/AWS/">AWS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Academia/">Academia</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Adobe-Reader/">Adobe Reader</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Alluxio/">Alluxio</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Ambari/">Ambari</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Analytics-Zoo/">Analytics Zoo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Ansible/">Ansible</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Apache-Edgent/">Apache Edgent</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Apache-Hudi/">Apache Hudi</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Apache-Kafka/">Apache Kafka</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Apache-Spark/">Apache Spark</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Apple/">Apple</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/AutoML/">AutoML</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Automagica/">Automagica</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Autonomous-Database/">Autonomous Database</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/BaaS/">BaaS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Behavioral-Economics/">Behavioral Economics</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Big-Data/">Big Data</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/BigDL/">BigDL</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/BigTop/">BigTop</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/BlazeIt/">BlazeIt</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Blog/">Blog</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Bluetooth/">Bluetooth</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/CDC/">CDC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Camera/">Camera</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/CentOS/">CentOS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/CentOS7/">CentOS7</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/CircleCI/">CircleCI</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Clipper/">Clipper</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Clipping/">Clipping</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Cloud/">Cloud</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Comcast/">Comcast</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Computing-resource/">Computing resource</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Conference/">Conference</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Configuration-Management/">Configuration Management</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Corne-Chocolate/">Corne Chocolate</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Cross-Validation/">Cross Validation</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/DB/">DB</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Dask/">Dask</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Analysis/">Data Analysis</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Analytics/">Data Analytics</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Lake/">Data Lake</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Leakage/">Data Leakage</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Lineage/">Data Lineage</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Mesh/">Data Mesh</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Platform/">Data Platform</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Processing-Engine/">Data Processing Engine</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Spaces/">Data Spaces</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Transformation/">Data Transformation</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Dataspace-Connector/">Dataspace Connector</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Dataspace-Protocol/">Dataspace Protocol</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Delta-Lake/">Delta Lake</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Delta-Sharing/">Delta Sharing</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/DevSumi/">DevSumi</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Docker/">Docker</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Dockerfile/">Dockerfile</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Druid/">Druid</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/EDC/">EDC</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Flask/">Flask</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Flow-Engine/">Flow Engine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Frovedis/">Frovedis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/GIS/">GIS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/GNOME/">GNOME</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/GPD-Pocket/">GPD Pocket</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Git/">Git</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/GitHub-Actions/">GitHub Actions</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Google/">Google</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Goverment/">Goverment</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Graceful-Shutdown/">Graceful Shutdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Gradle/">Gradle</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/HBase/">HBase</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/HDP/">HDP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/HPC/">HPC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Hadoop/">Hadoop</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Hexo/">Hexo</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Hexo-Plugin/">Hexo Plugin</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Hyper/">Hyper</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Hyper-V/">Hyper-V</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/IDS/">IDS</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/IEEE/">IEEE</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/IPv6/">IPv6</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Icarus/">Icarus</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Incident/">Incident</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Intel/">Intel</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Intellij/">Intellij</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/JSON/">JSON</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Java/">Java</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Jupyter/">Jupyter</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/KVM/">KVM</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kafak-Connect/">Kafak Connect</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kafka/">Kafka</a><span class="tag-list-count">17</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kafka-Connect/">Kafka Connect</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kafka-Streams/">Kafka Streams</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kafka-Summit/">Kafka Summit</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kaggle/">Kaggle</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kappa-Architecture/">Kappa Architecture</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Keyboard/">Keyboard</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kinesis/">Kinesis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kubernetes/">Kubernetes</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Lambda-Architecture/">Lambda Architecture</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Lighthing/">Lighthing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/LinkedIn/">LinkedIn</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/MATE-Desktop/">MATE Desktop</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/ML-Model-Management/">ML Model Management</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/ML-Ops/">ML Ops</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/MLflow/">MLflow</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Machine-Learning/">Machine Learning</a><span class="tag-list-count">29</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Machine-Learning-Lifecycle/">Machine Learning Lifecycle</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Machine-Learning-Lifecycle/">Machine Learning Lifecycle/</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Management/">Management</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Map/">Map</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Markdown/">Markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Messaging-System/">Messaging System</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Metadata-Management/">Metadata Management</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/MillWheel/">MillWheel</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Minikube/">Minikube</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Minio/">Minio</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Model/">Model</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Model-Management/">Model Management</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Monitering/">Monitering</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Mouse/">Mouse</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/NERDTree/">NERDTree</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/NVM/">NVM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Nature-Remo/">Nature Remo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Network/">Network</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/OLAP/">OLAP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/OneDrive/">OneDrive</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/OpML/">OpML</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Open-API/">Open API</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Open-Data/">Open Data</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Open-Messaging-Benchmark/">Open Messaging Benchmark</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/OpenAPI/">OpenAPI</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/OpenML/">OpenML</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Oracle/">Oracle</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/PAPIDS/">PAPIDS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/PDF/">PDF</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Pandoc/">Pandoc</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Paper/">Paper</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Parquet/">Parquet</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Partial-Dependency-Plot/">Partial Dependency Plot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Pinot/">Pinot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Pipenv/">Pipenv</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/PostgreSQL/">PostgreSQL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Power-Grid-Data/">Power Grid Data</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/PowerShell/">PowerShell</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Preparation/">Preparation</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Profiler/">Profiler</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Pulsar/">Pulsar</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/PySpark/">PySpark</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Python/">Python</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Python3/">Python3</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/QMK/">QMK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Query-Engine/">Query Engine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/RDBMS/">RDBMS</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/RPA/">RPA</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Redshift/">Redshift</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Research-later/">Research later</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/S3/">S3</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/SBT/">SBT</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/SDK/">SDK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/SQLAlchemy/">SQLAlchemy</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/SQLite/">SQLite</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/SX-Aurora/">SX-Aurora</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Samba/">Samba</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Scala/">Scala</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Scraping/">Scraping</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Seaborn/">Seaborn</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Security/">Security</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Session/">Session</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Slenium/">Slenium</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Smart-Home/">Smart Home</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Snowflake/">Snowflake</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Software-Engineering-Patterns/">Software Engineering Patterns</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Spark/">Spark</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Spark-Summit/">Spark Summit</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Sphinx/">Sphinx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Statistic/">Statistic</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Stonebraker/">Stonebraker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Storage/">Storage</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Storage-Engine/">Storage Engine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Storage-Layer/">Storage Layer</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Storage-Layer-Software/">Storage Layer Software</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Stream-Processing/">Stream Processing</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Superset/">Superset</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Supervision/">Supervision</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Tellus/">Tellus</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/TensorFlow/">TensorFlow</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/TensorFlowOnSpark/">TensorFlowOnSpark</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Tools/">Tools</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Trends/">Trends</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Troubleshoot/">Troubleshoot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Twitter/">Twitter</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Twitter-Heron/">Twitter Heron</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Uber/">Uber</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Ubuntu/">Ubuntu</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/VMWare/">VMWare</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Vagrant/">Vagrant</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Vault/">Vault</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Vector-Engine/">Vector Engine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Video-Processing/">Video Processing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Vim/">Vim</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Visualization/">Visualization</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/WSL/">WSL</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Web/">Web</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/WhereHows/">WhereHows</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/WiFi/">WiFi</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/WiFi6/">WiFi6</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Windows/">Windows</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Windows-Tools/">Windows Tools</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Word/">Word</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Word2Vec/">Word2Vec</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/X-Window/">X Window</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/X-Road/">X-Road</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/XGBoost/">XGBoost</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Zeppelin/">Zeppelin</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/ZooKeeper/">ZooKeeper</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/bug/">bug</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/dein/">dein</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/dstat/">dstat</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/fsync/">fsync</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/git/">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/keyboard/">keyboard</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/libvirt/">libvirt</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/markdown/">markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/nltk/">nltk</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/pandoc/">pandoc</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/pyenv/">pyenv</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/tmux/">tmux</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/vim/">vim</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/windows/">windows</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">タグクラウド</h3>
        <div class="widget tagcloud">
            <a href="/memo-blog/tags/AI/" style="font-size: 10px;">AI</a> <a href="/memo-blog/tags/AWS/" style="font-size: 10px;">AWS</a> <a href="/memo-blog/tags/Academia/" style="font-size: 10px;">Academia</a> <a href="/memo-blog/tags/Adobe-Reader/" style="font-size: 10px;">Adobe Reader</a> <a href="/memo-blog/tags/Alluxio/" style="font-size: 10.71px;">Alluxio</a> <a href="/memo-blog/tags/Ambari/" style="font-size: 10px;">Ambari</a> <a href="/memo-blog/tags/Analytics-Zoo/" style="font-size: 10px;">Analytics Zoo</a> <a href="/memo-blog/tags/Ansible/" style="font-size: 11.43px;">Ansible</a> <a href="/memo-blog/tags/Apache-Edgent/" style="font-size: 10px;">Apache Edgent</a> <a href="/memo-blog/tags/Apache-Hudi/" style="font-size: 10px;">Apache Hudi</a> <a href="/memo-blog/tags/Apache-Kafka/" style="font-size: 10px;">Apache Kafka</a> <a href="/memo-blog/tags/Apache-Spark/" style="font-size: 11.43px;">Apache Spark</a> <a href="/memo-blog/tags/Apple/" style="font-size: 10px;">Apple</a> <a href="/memo-blog/tags/AutoML/" style="font-size: 10.71px;">AutoML</a> <a href="/memo-blog/tags/Automagica/" style="font-size: 10px;">Automagica</a> <a href="/memo-blog/tags/Autonomous-Database/" style="font-size: 10px;">Autonomous Database</a> <a href="/memo-blog/tags/BaaS/" style="font-size: 10px;">BaaS</a> <a href="/memo-blog/tags/Behavioral-Economics/" style="font-size: 10px;">Behavioral Economics</a> <a href="/memo-blog/tags/Big-Data/" style="font-size: 10px;">Big Data</a> <a href="/memo-blog/tags/BigDL/" style="font-size: 10.71px;">BigDL</a> <a href="/memo-blog/tags/BigTop/" style="font-size: 10.71px;">BigTop</a> <a href="/memo-blog/tags/BlazeIt/" style="font-size: 10px;">BlazeIt</a> <a href="/memo-blog/tags/Blog/" style="font-size: 10px;">Blog</a> <a href="/memo-blog/tags/Bluetooth/" style="font-size: 10px;">Bluetooth</a> <a href="/memo-blog/tags/CDC/" style="font-size: 10px;">CDC</a> <a href="/memo-blog/tags/Camera/" style="font-size: 10px;">Camera</a> <a href="/memo-blog/tags/CentOS/" style="font-size: 10px;">CentOS</a> <a href="/memo-blog/tags/CentOS7/" style="font-size: 11.43px;">CentOS7</a> <a href="/memo-blog/tags/CircleCI/" style="font-size: 10px;">CircleCI</a> <a href="/memo-blog/tags/Clipper/" style="font-size: 10px;">Clipper</a> <a href="/memo-blog/tags/Clipping/" style="font-size: 10px;">Clipping</a> <a href="/memo-blog/tags/Cloud/" style="font-size: 10px;">Cloud</a> <a href="/memo-blog/tags/Comcast/" style="font-size: 10px;">Comcast</a> <a href="/memo-blog/tags/Computing-resource/" style="font-size: 10px;">Computing resource</a> <a href="/memo-blog/tags/Conference/" style="font-size: 10px;">Conference</a> <a href="/memo-blog/tags/Configuration-Management/" style="font-size: 10px;">Configuration Management</a> <a href="/memo-blog/tags/Corne-Chocolate/" style="font-size: 10px;">Corne Chocolate</a> <a href="/memo-blog/tags/Cross-Validation/" style="font-size: 10px;">Cross Validation</a> <a href="/memo-blog/tags/DB/" style="font-size: 10px;">DB</a> <a href="/memo-blog/tags/Dask/" style="font-size: 10.71px;">Dask</a> <a href="/memo-blog/tags/Data-Analysis/" style="font-size: 10.71px;">Data Analysis</a> <a href="/memo-blog/tags/Data-Analytics/" style="font-size: 10px;">Data Analytics</a> <a href="/memo-blog/tags/Data-Lake/" style="font-size: 10px;">Data Lake</a> <a href="/memo-blog/tags/Data-Leakage/" style="font-size: 10px;">Data Leakage</a> <a href="/memo-blog/tags/Data-Lineage/" style="font-size: 10px;">Data Lineage</a> <a href="/memo-blog/tags/Data-Mesh/" style="font-size: 10px;">Data Mesh</a> <a href="/memo-blog/tags/Data-Platform/" style="font-size: 10px;">Data Platform</a> <a href="/memo-blog/tags/Data-Processing-Engine/" style="font-size: 10.71px;">Data Processing Engine</a> <a href="/memo-blog/tags/Data-Spaces/" style="font-size: 12.14px;">Data Spaces</a> <a href="/memo-blog/tags/Data-Transformation/" style="font-size: 10.71px;">Data Transformation</a> <a href="/memo-blog/tags/Dataspace-Connector/" style="font-size: 10.71px;">Dataspace Connector</a> <a href="/memo-blog/tags/Dataspace-Protocol/" style="font-size: 10px;">Dataspace Protocol</a> <a href="/memo-blog/tags/Delta-Lake/" style="font-size: 17.14px;">Delta Lake</a> <a href="/memo-blog/tags/Delta-Sharing/" style="font-size: 12.14px;">Delta Sharing</a> <a href="/memo-blog/tags/DevSumi/" style="font-size: 10px;">DevSumi</a> <a href="/memo-blog/tags/Docker/" style="font-size: 15px;">Docker</a> <a href="/memo-blog/tags/Dockerfile/" style="font-size: 10.71px;">Dockerfile</a> <a href="/memo-blog/tags/Druid/" style="font-size: 10px;">Druid</a> <a href="/memo-blog/tags/EDC/" style="font-size: 12.86px;">EDC</a> <a href="/memo-blog/tags/Flask/" style="font-size: 12.14px;">Flask</a> <a href="/memo-blog/tags/Flow-Engine/" style="font-size: 10px;">Flow Engine</a> <a href="/memo-blog/tags/Frovedis/" style="font-size: 10px;">Frovedis</a> <a href="/memo-blog/tags/GIS/" style="font-size: 10px;">GIS</a> <a href="/memo-blog/tags/GNOME/" style="font-size: 10px;">GNOME</a> <a href="/memo-blog/tags/GPD-Pocket/" style="font-size: 10px;">GPD Pocket</a> <a href="/memo-blog/tags/Git/" style="font-size: 10.71px;">Git</a> <a href="/memo-blog/tags/GitHub-Actions/" style="font-size: 10px;">GitHub Actions</a> <a href="/memo-blog/tags/Google/" style="font-size: 10px;">Google</a> <a href="/memo-blog/tags/Goverment/" style="font-size: 10px;">Goverment</a> <a href="/memo-blog/tags/Graceful-Shutdown/" style="font-size: 10px;">Graceful Shutdown</a> <a href="/memo-blog/tags/Gradle/" style="font-size: 10px;">Gradle</a> <a href="/memo-blog/tags/HBase/" style="font-size: 10px;">HBase</a> <a href="/memo-blog/tags/HDP/" style="font-size: 10px;">HDP</a> <a href="/memo-blog/tags/HPC/" style="font-size: 10px;">HPC</a> <a href="/memo-blog/tags/Hadoop/" style="font-size: 11.43px;">Hadoop</a> <a href="/memo-blog/tags/Hexo/" style="font-size: 16.43px;">Hexo</a> <a href="/memo-blog/tags/Hexo-Plugin/" style="font-size: 10px;">Hexo Plugin</a> <a href="/memo-blog/tags/Hyper/" style="font-size: 10.71px;">Hyper</a> <a href="/memo-blog/tags/Hyper-V/" style="font-size: 10.71px;">Hyper-V</a> <a href="/memo-blog/tags/IDS/" style="font-size: 11.43px;">IDS</a> <a href="/memo-blog/tags/IEEE/" style="font-size: 10.71px;">IEEE</a> <a href="/memo-blog/tags/IPv6/" style="font-size: 10px;">IPv6</a> <a href="/memo-blog/tags/Icarus/" style="font-size: 10px;">Icarus</a> <a href="/memo-blog/tags/Incident/" style="font-size: 10px;">Incident</a> <a href="/memo-blog/tags/Intel/" style="font-size: 10px;">Intel</a> <a href="/memo-blog/tags/Intellij/" style="font-size: 10.71px;">Intellij</a> <a href="/memo-blog/tags/JSON/" style="font-size: 10px;">JSON</a> <a href="/memo-blog/tags/Java/" style="font-size: 10px;">Java</a> <a href="/memo-blog/tags/Jupyter/" style="font-size: 10.71px;">Jupyter</a> <a href="/memo-blog/tags/KVM/" style="font-size: 11.43px;">KVM</a> <a href="/memo-blog/tags/Kafak-Connect/" style="font-size: 10px;">Kafak Connect</a> <a href="/memo-blog/tags/Kafka/" style="font-size: 19.29px;">Kafka</a> <a href="/memo-blog/tags/Kafka-Connect/" style="font-size: 10px;">Kafka Connect</a> <a href="/memo-blog/tags/Kafka-Streams/" style="font-size: 10.71px;">Kafka Streams</a> <a href="/memo-blog/tags/Kafka-Summit/" style="font-size: 10px;">Kafka Summit</a> <a href="/memo-blog/tags/Kaggle/" style="font-size: 15px;">Kaggle</a> <a href="/memo-blog/tags/Kappa-Architecture/" style="font-size: 10px;">Kappa Architecture</a> <a href="/memo-blog/tags/Keyboard/" style="font-size: 10.71px;">Keyboard</a> <a href="/memo-blog/tags/Kinesis/" style="font-size: 10px;">Kinesis</a> <a href="/memo-blog/tags/Kubernetes/" style="font-size: 11.43px;">Kubernetes</a> <a href="/memo-blog/tags/Lambda-Architecture/" style="font-size: 10px;">Lambda Architecture</a> <a href="/memo-blog/tags/Lighthing/" style="font-size: 10px;">Lighthing</a> <a href="/memo-blog/tags/LinkedIn/" style="font-size: 12.14px;">LinkedIn</a> <a href="/memo-blog/tags/MATE-Desktop/" style="font-size: 10px;">MATE Desktop</a> <a href="/memo-blog/tags/ML-Model-Management/" style="font-size: 10.71px;">ML Model Management</a> <a href="/memo-blog/tags/ML-Ops/" style="font-size: 10px;">ML Ops</a> <a href="/memo-blog/tags/MLflow/" style="font-size: 10px;">MLflow</a> <a href="/memo-blog/tags/Machine-Learning/" style="font-size: 20px;">Machine Learning</a> <a href="/memo-blog/tags/Machine-Learning-Lifecycle/" style="font-size: 10px;">Machine Learning Lifecycle</a> <a href="/memo-blog/tags/Machine-Learning-Lifecycle/" style="font-size: 10px;">Machine Learning Lifecycle/</a> <a href="/memo-blog/tags/Management/" style="font-size: 10px;">Management</a> <a href="/memo-blog/tags/Map/" style="font-size: 10px;">Map</a> <a href="/memo-blog/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/memo-blog/tags/Messaging-System/" style="font-size: 10px;">Messaging System</a> <a href="/memo-blog/tags/Metadata-Management/" style="font-size: 10px;">Metadata Management</a> <a href="/memo-blog/tags/MillWheel/" style="font-size: 10px;">MillWheel</a> <a href="/memo-blog/tags/Minikube/" style="font-size: 10px;">Minikube</a> <a href="/memo-blog/tags/Minio/" style="font-size: 10.71px;">Minio</a> <a href="/memo-blog/tags/Model/" style="font-size: 12.14px;">Model</a> <a href="/memo-blog/tags/Model-Management/" style="font-size: 12.14px;">Model Management</a> <a href="/memo-blog/tags/Monitering/" style="font-size: 10px;">Monitering</a> <a href="/memo-blog/tags/Mouse/" style="font-size: 10px;">Mouse</a> <a href="/memo-blog/tags/NERDTree/" style="font-size: 10px;">NERDTree</a> <a href="/memo-blog/tags/NVM/" style="font-size: 10px;">NVM</a> <a href="/memo-blog/tags/Nature-Remo/" style="font-size: 10px;">Nature Remo</a> <a href="/memo-blog/tags/Network/" style="font-size: 10px;">Network</a> <a href="/memo-blog/tags/OLAP/" style="font-size: 10px;">OLAP</a> <a href="/memo-blog/tags/OneDrive/" style="font-size: 10px;">OneDrive</a> <a href="/memo-blog/tags/OpML/" style="font-size: 10px;">OpML</a> <a href="/memo-blog/tags/Open-API/" style="font-size: 10px;">Open API</a> <a href="/memo-blog/tags/Open-Data/" style="font-size: 10.71px;">Open Data</a> <a href="/memo-blog/tags/Open-Messaging-Benchmark/" style="font-size: 10px;">Open Messaging Benchmark</a> <a href="/memo-blog/tags/OpenAPI/" style="font-size: 10px;">OpenAPI</a> <a href="/memo-blog/tags/OpenML/" style="font-size: 10px;">OpenML</a> <a href="/memo-blog/tags/Oracle/" style="font-size: 10px;">Oracle</a> <a href="/memo-blog/tags/PAPIDS/" style="font-size: 10px;">PAPIDS</a> <a href="/memo-blog/tags/PDF/" style="font-size: 10px;">PDF</a> <a href="/memo-blog/tags/Pandoc/" style="font-size: 10px;">Pandoc</a> <a href="/memo-blog/tags/Paper/" style="font-size: 18.57px;">Paper</a> <a href="/memo-blog/tags/Parquet/" style="font-size: 10px;">Parquet</a> <a href="/memo-blog/tags/Partial-Dependency-Plot/" style="font-size: 10px;">Partial Dependency Plot</a> <a href="/memo-blog/tags/Pinot/" style="font-size: 10px;">Pinot</a> <a href="/memo-blog/tags/Pipenv/" style="font-size: 10px;">Pipenv</a> <a href="/memo-blog/tags/PostgreSQL/" style="font-size: 10px;">PostgreSQL</a> <a href="/memo-blog/tags/Power-Grid-Data/" style="font-size: 10px;">Power Grid Data</a> <a href="/memo-blog/tags/PowerShell/" style="font-size: 10px;">PowerShell</a> <a href="/memo-blog/tags/Preparation/" style="font-size: 10.71px;">Preparation</a> <a href="/memo-blog/tags/Profiler/" style="font-size: 10px;">Profiler</a> <a href="/memo-blog/tags/Pulsar/" style="font-size: 10px;">Pulsar</a> <a href="/memo-blog/tags/PySpark/" style="font-size: 12.14px;">PySpark</a> <a href="/memo-blog/tags/Python/" style="font-size: 17.86px;">Python</a> <a href="/memo-blog/tags/Python3/" style="font-size: 10px;">Python3</a> <a href="/memo-blog/tags/QMK/" style="font-size: 10px;">QMK</a> <a href="/memo-blog/tags/Query-Engine/" style="font-size: 10px;">Query Engine</a> <a href="/memo-blog/tags/RDBMS/" style="font-size: 10.71px;">RDBMS</a> <a href="/memo-blog/tags/RPA/" style="font-size: 10px;">RPA</a> <a href="/memo-blog/tags/Redshift/" style="font-size: 10px;">Redshift</a> <a href="/memo-blog/tags/Research-later/" style="font-size: 10px;">Research later</a> <a href="/memo-blog/tags/S3/" style="font-size: 10px;">S3</a> <a href="/memo-blog/tags/SBT/" style="font-size: 10px;">SBT</a> <a href="/memo-blog/tags/SDK/" style="font-size: 10px;">SDK</a> <a href="/memo-blog/tags/SQLAlchemy/" style="font-size: 10.71px;">SQLAlchemy</a> <a href="/memo-blog/tags/SQLite/" style="font-size: 10px;">SQLite</a> <a href="/memo-blog/tags/SX-Aurora/" style="font-size: 10px;">SX-Aurora</a> <a href="/memo-blog/tags/Samba/" style="font-size: 10px;">Samba</a> <a href="/memo-blog/tags/Scala/" style="font-size: 10px;">Scala</a> <a href="/memo-blog/tags/Scraping/" style="font-size: 10px;">Scraping</a> <a href="/memo-blog/tags/Seaborn/" style="font-size: 10px;">Seaborn</a> <a href="/memo-blog/tags/Security/" style="font-size: 10px;">Security</a> <a href="/memo-blog/tags/Session/" style="font-size: 10px;">Session</a> <a href="/memo-blog/tags/Slenium/" style="font-size: 10px;">Slenium</a> <a href="/memo-blog/tags/Smart-Home/" style="font-size: 10px;">Smart Home</a> <a href="/memo-blog/tags/Snowflake/" style="font-size: 10px;">Snowflake</a> <a href="/memo-blog/tags/Software-Engineering-Patterns/" style="font-size: 10px;">Software Engineering Patterns</a> <a href="/memo-blog/tags/Spark/" style="font-size: 15.71px;">Spark</a> <a href="/memo-blog/tags/Spark-Summit/" style="font-size: 10px;">Spark Summit</a> <a href="/memo-blog/tags/Sphinx/" style="font-size: 10px;">Sphinx</a> <a href="/memo-blog/tags/Statistic/" style="font-size: 10px;">Statistic</a> <a href="/memo-blog/tags/Stonebraker/" style="font-size: 10px;">Stonebraker</a> <a href="/memo-blog/tags/Storage/" style="font-size: 10px;">Storage</a> <a href="/memo-blog/tags/Storage-Engine/" style="font-size: 10px;">Storage Engine</a> <a href="/memo-blog/tags/Storage-Layer/" style="font-size: 11.43px;">Storage Layer</a> <a href="/memo-blog/tags/Storage-Layer-Software/" style="font-size: 10px;">Storage Layer Software</a> <a href="/memo-blog/tags/Stream-Processing/" style="font-size: 18.57px;">Stream Processing</a> <a href="/memo-blog/tags/Superset/" style="font-size: 10px;">Superset</a> <a href="/memo-blog/tags/Supervision/" style="font-size: 10px;">Supervision</a> <a href="/memo-blog/tags/Tellus/" style="font-size: 10px;">Tellus</a> <a href="/memo-blog/tags/TensorFlow/" style="font-size: 11.43px;">TensorFlow</a> <a href="/memo-blog/tags/TensorFlowOnSpark/" style="font-size: 10.71px;">TensorFlowOnSpark</a> <a href="/memo-blog/tags/Tools/" style="font-size: 10px;">Tools</a> <a href="/memo-blog/tags/Trends/" style="font-size: 10px;">Trends</a> <a href="/memo-blog/tags/Troubleshoot/" style="font-size: 10px;">Troubleshoot</a> <a href="/memo-blog/tags/Twitter/" style="font-size: 10px;">Twitter</a> <a href="/memo-blog/tags/Twitter-Heron/" style="font-size: 10px;">Twitter Heron</a> <a href="/memo-blog/tags/Uber/" style="font-size: 10.71px;">Uber</a> <a href="/memo-blog/tags/Ubuntu/" style="font-size: 15px;">Ubuntu</a> <a href="/memo-blog/tags/VMWare/" style="font-size: 10px;">VMWare</a> <a href="/memo-blog/tags/Vagrant/" style="font-size: 10.71px;">Vagrant</a> <a href="/memo-blog/tags/Vault/" style="font-size: 10px;">Vault</a> <a href="/memo-blog/tags/Vector-Engine/" style="font-size: 10px;">Vector Engine</a> <a href="/memo-blog/tags/Video-Processing/" style="font-size: 10px;">Video Processing</a> <a href="/memo-blog/tags/Vim/" style="font-size: 10.71px;">Vim</a> <a href="/memo-blog/tags/Visualization/" style="font-size: 10.71px;">Visualization</a> <a href="/memo-blog/tags/WSL/" style="font-size: 14.29px;">WSL</a> <a href="/memo-blog/tags/Web/" style="font-size: 10px;">Web</a> <a href="/memo-blog/tags/WhereHows/" style="font-size: 10px;">WhereHows</a> <a href="/memo-blog/tags/WiFi/" style="font-size: 10px;">WiFi</a> <a href="/memo-blog/tags/WiFi6/" style="font-size: 10px;">WiFi6</a> <a href="/memo-blog/tags/Windows/" style="font-size: 13.57px;">Windows</a> <a href="/memo-blog/tags/Windows-Tools/" style="font-size: 10px;">Windows Tools</a> <a href="/memo-blog/tags/Word/" style="font-size: 10px;">Word</a> <a href="/memo-blog/tags/Word2Vec/" style="font-size: 10px;">Word2Vec</a> <a href="/memo-blog/tags/X-Window/" style="font-size: 10px;">X Window</a> <a href="/memo-blog/tags/X-Road/" style="font-size: 10px;">X-Road</a> <a href="/memo-blog/tags/XGBoost/" style="font-size: 10px;">XGBoost</a> <a href="/memo-blog/tags/Zeppelin/" style="font-size: 10px;">Zeppelin</a> <a href="/memo-blog/tags/ZooKeeper/" style="font-size: 12.14px;">ZooKeeper</a> <a href="/memo-blog/tags/bug/" style="font-size: 10px;">bug</a> <a href="/memo-blog/tags/dein/" style="font-size: 10px;">dein</a> <a href="/memo-blog/tags/dstat/" style="font-size: 10px;">dstat</a> <a href="/memo-blog/tags/fsync/" style="font-size: 10px;">fsync</a> <a href="/memo-blog/tags/git/" style="font-size: 10px;">git</a> <a href="/memo-blog/tags/keyboard/" style="font-size: 10px;">keyboard</a> <a href="/memo-blog/tags/libvirt/" style="font-size: 10px;">libvirt</a> <a href="/memo-blog/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/memo-blog/tags/nltk/" style="font-size: 10px;">nltk</a> <a href="/memo-blog/tags/pandoc/" style="font-size: 11.43px;">pandoc</a> <a href="/memo-blog/tags/pyenv/" style="font-size: 10px;">pyenv</a> <a href="/memo-blog/tags/tmux/" style="font-size: 10.71px;">tmux</a> <a href="/memo-blog/tags/vim/" style="font-size: 14.29px;">vim</a> <a href="/memo-blog/tags/windows/" style="font-size: 10px;">windows</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">リンク</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fas fa-angle-up"></div>
</aside>

            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2024 dobachi<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        


    
        <script src="/memo-blog/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/memo-blog/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/memo-blog/js/main.js"></script>

    </div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>