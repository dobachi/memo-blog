<!DOCTYPE html>
<html lang="ja">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    
    <title>memo-blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="This is just a memo">
<meta property="og:type" content="website">
<meta property="og:title" content="memo-blog">
<meta property="og:url" content="https://dobachi.github.io/memo-blog/index.html">
<meta property="og:site_name" content="memo-blog">
<meta property="og:description" content="This is just a memo">
<meta property="og:locale" content="ja">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="memo-blog">
<meta name="twitter:description" content="This is just a memo">
    

    
        <link rel="alternate" href="/" title="memo-blog" type="application/atom+xml">
    

    

    <link rel="stylesheet" href="/memo-blog/libs/font-awesome5/css/fontawesome.min.css">
    <link rel="stylesheet" href="/memo-blog/libs/font-awesome5/css/fa-brands.min.css">
    <link rel="stylesheet" href="/memo-blog/libs/font-awesome5/css/fa-solid.min.css">
    <link rel="stylesheet" href="/memo-blog/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/memo-blog/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/memo-blog/css/style.css">

    <script src="/memo-blog/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/memo-blog/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/memo-blog/libs/justified-gallery/justifiedGallery.min.css">
    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-155235180-1', 'auto');
ga('send', 'pageview');

</script>
    
    
    


</head>
</html>
<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/memo-blog/" id="logo">
                <i class="logo"></i>
                <span class="site-title">memo-blog</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/memo-blog/.">Home</a>
                
                    <a class="main-nav-link" href="/memo-blog/archives">Archives</a>
                
                    <a class="main-nav-link" href="/memo-blog/categories">Categories</a>
                
                    <a class="main-nav-link" href="/memo-blog/tags">Tags</a>
                
                    <a class="main-nav-link" href="/memo-blog/about">About</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/memo-blog/css/images/avatar.png" />
                            <i class="fas fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="検索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fas fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '投稿',
            PAGES: 'Pages',
            CATEGORIES: 'カテゴリ',
            TAGS: 'タグ',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/memo-blog/',
        CONTENT_URL: '/memo-blog/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/memo-blog/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/memo-blog/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/memo-blog/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/memo-blog/categories">Categories</a></td>
                
                    <td><a class="main-nav-link" href="/memo-blog/tags">Tags</a></td>
                
                    <td><a class="main-nav-link" href="/memo-blog/about">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="検索" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile" class="profile-fixed">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/memo-blog/css/images/avatar.png" />
            <h2 id="name">dobachi</h2>
            <h3 id="title">man of leisure</h3>
            <span id="location"><i class="fas fa-map-marker-alt" style="padding-right: 5px"></i>Tokyo, Japan</span>
            <a id="follow" target="_blank" href="https://github.com/dobachi">フォローする</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                217
                <span>投稿</span>
            </div>
            <div class="article-info-block">
                232
                <span>タグ</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="http://github.com/dobachi" target="_blank" title="github" class=tooltip>
                            <i class="fab fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/memo-blog/" target="_blank" title="rss" class=tooltip>
                            <i class="fab fa-rss"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main">
    <article id="post-US-keyboard-layout-on-Ubuntu22" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2024/09/08/US-keyboard-layout-on-Ubuntu22/">US keyboard layout on Ubuntu22</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2024/09/08/US-keyboard-layout-on-Ubuntu22/">
            <time datetime="2024-09-08T14:20:17.000Z" itemprop="datePublished">2024-09-08</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Ubuntu/">Ubuntu</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/Ubuntu/">Ubuntu</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#メモ" id="toc-メモ">メモ</a></li>
<li><a href="#参考" id="toc-参考">参考</a></li>
</ul>
</div>
<h1><span id="メモ">メモ</span></h1>
<p>VMWare WorkstationでUbuntu
22系をインストールしたところ、物理キーボードがUS配列なのに、日本語配列で認識されてしまったので直した。</p>
<p><a href="https://golang.hateblo.jp/entry/ubuntu22.04-keyboard-layout-mozc" target="_blank" rel="noopener">Ubuntu
22.04 でキーボードレイアウトおかしくなる問題。</a>
にも記載されているのだが、<code>/usr/share/ibus/component/mozc.xml</code>には以下のような記載がある。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- Settings of &lt;engines&gt; and &lt;layout&gt; are stored in ibus_config.textproto --&gt;</span><br><span class="line">&lt;!-- under the user configuration directory, which is either of: --&gt;</span><br><span class="line">&lt;!-- * $XDG_CONFIG_HOME/mozc/ibus_config.textproto --&gt;</span><br><span class="line">&lt;!-- * $HOME/.config/mozc/ibus_config.textproto --&gt;</span><br><span class="line">&lt;!-- * $HOME/.mozc/ibus_config.textproto --&gt;</span><br></pre></td></tr></table></figure>
<p>自分の環境だと、以下のような場所にあった。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo find / -name *ibus_config.textproto*</span></span><br><span class="line"></span><br><span class="line">(snip)</span><br><span class="line"></span><br><span class="line">/home/dobachi/.config/mozc/ibus_config.textproto</span><br></pre></td></tr></table></figure>
<p>以下のように<code>layout</code>を変更する。もともと<code>default</code>である。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cat /home/dobachi/.config/mozc/ibus_config.textproto</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">engines &#123;</span><br><span class="line">  name : &quot;mozc-jp&quot;</span><br><span class="line">  longname : &quot;Mozc&quot;</span><br><span class="line">  layout : &quot;us&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1><span id="参考">参考</span></h1>
<ul>
<li><a href="https://golang.hateblo.jp/entry/ubuntu22.04-keyboard-layout-mozc" target="_blank" rel="noopener">Ubuntu
22.04 でキーボードレイアウトおかしくなる問題。</a></li>
<li><a href="https://zenn.dev/siganai/articles/20221110_ubuntu_mozc_error" target="_blank" rel="noopener">【Ubuntu】Ubuntu18.04で日本語入力ができなくなった時に解決した事例の紹介【備忘録</a></li>
</ul>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2024/09/08/US-keyboard-layout-on-Ubuntu22/" data-id="cm0tojma600bt18o5dzvb56bt" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-Building-Block-of-Data-Spaces" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2024/09/06/Building-Block-of-Data-Spaces/">Building Block of Data Spaces</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2024/09/06/Building-Block-of-Data-Spaces/">
            <time datetime="2024-09-06T01:06:09.000Z" itemprop="datePublished">2024-09-06</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Data-Spaces/">Data Spaces</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/Data-Spaces/">Data Spaces</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#メモ" id="toc-メモ">メモ</a></li>
<li><a href="#参考" id="toc-参考">参考</a></li>
</ul>
</div>
<h1><span id="メモ">メモ</span></h1>
<p>各イニシアティブのビルディングブロックのまとめかたを軽くメモしたもの。</p>
<p><a href="https://miro.com/app/board/uXjVKij8ZL0=/?share_link_id=281805125956&amp;shareablePresentation=1" target="_blank" rel="noopener">メモのボード</a></p>
<h1><span id="参考">参考</span></h1>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2024/09/06/Building-Block-of-Data-Spaces/" data-id="cm0tojm71002418o58dr0prj6" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-Data-Sovereignty" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2024/09/01/Data-Sovereignty/">Data Sovereignty</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2024/09/01/Data-Sovereignty/">
            <time datetime="2024-09-01T12:40:49.000Z" itemprop="datePublished">2024-09-01</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Data-Spaces/">Data Spaces</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/Data-Spaces/">Data Spaces</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#世における基本的な考え方" id="toc-世における基本的な考え方">世における基本的な考え方</a></li>
<li><a href="#セーフハーバー法" id="toc-セーフハーバー法">セーフハーバー法</a></li>
<li><a href="#snowden事件とデータローカライゼーション" id="toc-snowden事件とデータローカライゼーション">Snowden事件とデータローカライゼーション</a></li>
<li><a href="#gdprとdata-act" id="toc-gdprとdata-act">GDPRとData
Act</a></li>
<li><a href="#日本とeu英国の間のデータ越境移転に関するセーフハーバー" id="toc-日本とeu英国の間のデータ越境移転に関するセーフハーバー">日本とEU・英国の間のデータ越境移転に関するセーフハーバー</a></li>
<li><a href="#まとめ" id="toc-まとめ">まとめ</a></li>
</ul></li>
<li><a href="#参考" id="toc-参考">参考</a></li>
</ul>
</div>
<h1><span id="メモ">メモ</span></h1>
<h2><span id="世における基本的な考え方">世における基本的な考え方</span></h2>
<p>データ主権（Data Sovereignty）については色々な解釈をされているが、
一つの考え方は特定地域で収集・保存されたデータがその地域の法律にしたがって運用されること、という考え方が挙げられる。</p>
<p>この考え方を示している記事が多い。</p>
<p>あまり量が多くなっても混乱するので、主要な話だけさらってみるようにする。</p>
<p><a href="images/definition_data_sovereignty.pdf">簡単なまとめメモ</a></p>
<h2><span id="セーフハーバー法">セーフハーバー法</span></h2>
<p>関連することとして、セーフハーバー法が挙げられる。つまり、特定の条件を満たす限り、違法行為とみなされない範囲を定めた規定である。
総務省の平成29年版白書では、 <a href="https://www.soumu.go.jp/johotsusintokei/whitepaper/ja/h29/html/nc123210.html" target="_blank" rel="noopener">第1部　特集　データ主導経済と社会変革</a>
にEUと米国のセーフハーバーにちうて記載あり。
米国とEUの間では2000年に個人データ移転についての原則を記したセールハーバー協定を締結したのだが、いわゆるSnowden事件により欧州司法裁判所による無効の判断。そして、その後、2016/2にEU-USプライバシーシールが新たに制定。</p>
<h2><span id="snowden事件とデータローカライゼーション">Snowden事件とデータローカライゼーション</span></h2>
<p>データ保護については、Snowden事件や米国政府によるマイクロソフトのメール検閲を挙げるケースがある。
2013年ころのことである。参考： <a href="https://japan.zdnet.com/article/35120537/" target="_blank" rel="noopener">世界を揺るがしたスノーデン事件から5年--変わったこと、変わらなかったこと</a></p>
<p>ここから、欧州のGDPR（2016）やカナダのデータ主権措置に関する戦略（2016-2020）などのデータ越境移転に関する規定、
つまりデータローカライゼーション規定の流れが考えられる。 参考： <a href="https://cybersecurity-jp.com/column/50934" target="_blank" rel="noopener">データローカライゼーション規制とは？必要となる背景や現状を徹底解説</a>
2022年当時の欧州、米国などのデータローカライゼーション規定については、経産省の「データの越境移転に関する研究会」資料がわかりやすい。
参考： <a href="https://www.meti.go.jp/shingikai/mono_info_service/data_ekkyo_iten/pdf/006_04_00.pdf" target="_blank" rel="noopener">各国のデータガバナンスにおけるデータ越境流通に関連する制度調査</a></p>
<p>著名なところだと、中国サイバーセキュリティ法（2017/6施行）の第37条が挙げられる。参考：
<a href="https://www.tandfonline.com/doi/full/10.1080/17544750.2019.1649289" target="_blank" rel="noopener">China’s
data localization</a>
他にも、ベトナムのインターネットサービスとオンライン情報コンテンツの管理、提供、仕様に関する法令（2013/9制定）、インドネシアの法令では国内データセンタへのデータ配置が求められている（2014/1）、ロシアのデータローカライゼーション法（2015/9発行）など。</p>
<p>一方で、このようなデータローカライゼーションに関する制約はビジネスや技術発展において足かせとなるという主旨の論調もあった。
参考： <a href="https://techcrunch.com/2015/12/26/the-clouds-biggest-threat-are-data-sovereignty-laws/" target="_blank" rel="noopener">The
Cloud’s Biggest Threat Are Data Sovereignty Laws</a></p>
<p>日本からは、2019/1のスイス・ジュネーブにおける、いわゆるダボス会議にて、当時の首相だった安倍晋三からDFFTの提言があった。</p>
<h2><span id="gdprとdata-act">GDPRとData Act</span></h2>
<p>データローカライゼーションの議論をする際には、EUにおけるGDPR（一般データ保護規則）は外せない。
個人データの移転と処理について規定したものである。2018年適用開始。参考：
<a href="https://www.ppc.go.jp/enforcement/infoprovision/EU/" target="_blank" rel="noopener">GDPR（General
Data Protection Regulation：一般データ保護規則）</a></p>
<p>一方で、個人データだけではなく、非個人データを含むデータの利用促進、データへの公平なアクセスおよびその利用を目的として2020年の欧州データ戦略の一環としてData
Actが成立。2024/1発効、2025/9施行。
IoT機器が生成するデータであり、非個人データも対象となる。自動車、スマート家電、などなど影響大。
参考： <a href="https://www.businesslawyers.jp/articles/1374" target="_blank" rel="noopener">EUデータ法の解説 -
適用場面ごとのルールと日本企業が講ずべき実務対応を整理</a> 、 <a href="https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A32023R2854&amp;qid=1704709568425" target="_blank" rel="noopener">Data
Act</a></p>
<p>両者は補完関係と考えることもできる。</p>
<p>また、Data ActはData Governance Actとも補完関係と考えられる。</p>
<h2><span id="日本とeu英国の間のデータ越境移転に関するセーフハーバー">日本とEU・英国の間のデータ越境移転に関するセーフハーバー</span></h2>
<p>欧州から日本に対しては、2019/1/23に十分性認定がされており、EU域内と同等の個人データ保護水準を持つ国と認定されている。
参考： <a href="https://www.ppc.go.jp/enforcement/cooperation/cooperation/sougoninshou/" target="_blank" rel="noopener">日EU間・日英間のデータ越境移転について</a>
日本は個人情報保護法第28条でEUを指定、EUはGDPR第45条に基づき日本を十分性認定。</p>
<p>ただし、個人情報保護法に基づき補完的ルール適用が必要。参考： <a href="https://www.ppc.go.jp/files/pdf/Supplementary_Rules.pdf" target="_blank" rel="noopener">補完的ルール</a>
補完的ルールでは以下のような規定。</p>
<ul>
<li>要配慮個人情報の範囲の拡張</li>
<li>保有個人データの範囲の拡張</li>
<li>データ主体の権利保護</li>
<li>データの安全管理措置</li>
</ul>
<h2><span id="まとめ">まとめ</span></h2>
<p>データ主権を議論する際には、基本的事項としてデータを収集・保存した地域における法律遵守が主旨になり、
さらにいわゆるデータローカライゼーションの原則が挙げられる。個人情報保護の観点がひとつは挙げられるが、それに限らない。
一方で経済や技術発展のためには、バランスをとったデータ越境移転が必要であり、DFFTのような提唱も行われている。</p>
<h1><span id="参考">参考</span></h1>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Data_sovereignty" target="_blank" rel="noopener">Wikipediaの記載</a></li>
<li><a href="https://japan.zdnet.com/article/35120537/" target="_blank" rel="noopener">世界を揺るがしたスノーデン事件から5年--変わったこと、変わらなかったこと</a></li>
<li><a href="https://cybersecurity-jp.com/column/50934" target="_blank" rel="noopener">データローカライゼーション規制とは？必要となる背景や現状を徹底解説</a></li>
<li><a href="https://www.meti.go.jp/shingikai/mono_info_service/data_ekkyo_iten/pdf/006_04_00.pdf" target="_blank" rel="noopener">各国のデータガバナンスにおけるデータ越境流通に関連する制度調査</a></li>
<li><a href="https://www.tandfonline.com/doi/full/10.1080/17544750.2019.1649289" target="_blank" rel="noopener">China’s
data localization</a></li>
<li><a href="https://www.soumu.go.jp/johotsusintokei/whitepaper/ja/h29/html/nc123210.html" target="_blank" rel="noopener">第1部　特集　データ主導経済と社会変革</a></li>
<li><a href="https://www.ppc.go.jp/enforcement/cooperation/cooperation/sougoninshou/" target="_blank" rel="noopener">日EU間・日英間のデータ越境移転について</a></li>
<li><a href="https://www.ppc.go.jp/files/pdf/Supplementary_Rules.pdf" target="_blank" rel="noopener">補完的ルール</a></li>
<li><a href="https://techcrunch.com/2015/12/26/the-clouds-biggest-threat-are-data-sovereignty-laws/" target="_blank" rel="noopener">The
Cloud’s Biggest Threat Are Data Sovereignty Laws</a></li>
<li><a href="https://www.ppc.go.jp/enforcement/infoprovision/EU/" target="_blank" rel="noopener">GDPR（General
Data Protection Regulation：一般データ保護規則）</a></li>
<li><a href="https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A32023R2854&amp;qid=1704709568425" target="_blank" rel="noopener">Data
Act</a></li>
<li><a href="https://www.businesslawyers.jp/articles/1374" target="_blank" rel="noopener">EUデータ法の解説 -
適用場面ごとのルールと日本企業が講ずべき実務対応を整理</a></li>
</ul>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2024/09/01/Data-Sovereignty/" data-id="cm0tojm7a003718o52xq6ln4y" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-Use-HOME-in-case-of-using-sudo-ansible" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2024/08/25/Use-HOME-in-case-of-using-sudo-ansible/">Use HOME in case of using sudo [ansible]</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2024/08/25/Use-HOME-in-case-of-using-sudo-ansible/">
            <time datetime="2024-08-25T12:30:22.000Z" itemprop="datePublished">2024-08-25</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Ansible/">Ansible</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/ansible/">ansible</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#メモ" id="toc-メモ">メモ</a></li>
<li><a href="#参考" id="toc-参考">参考</a></li>
</ul>
</div>
<h1><span id="メモ">メモ</span></h1>
<p><a href="https://qiita.com/superbrothers/items/99d444e76deacae4985d" target="_blank" rel="noopener">ansible
で sudo 時に実行ユーザの HOME 環境変数を取得する</a> を参考にした。</p>
<p>以下のようなロールを作っておき、プレイブックの最初の方に含めておくと良い。
以降のロール実行時に、変数 <code>ansible_home</code>
に格納された値を利用できる。</p>
<p>roles/regsiter_home/tasks/main.yml <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">- block:</span></span><br><span class="line"><span class="attr">  - name:</span> <span class="string">Get</span> <span class="string">ansible_user</span> <span class="string">home</span> <span class="string">directory</span></span><br><span class="line"><span class="attr">    shell:</span> <span class="string">'getent passwd "<span class="template-variable">&#123;&#123;ansible_env.SUDO_USER&#125;&#125;</span>" | cut -d: -f6'</span></span><br><span class="line"><span class="attr">    register:</span> <span class="string">ansible_home_result</span></span><br><span class="line"></span><br><span class="line"><span class="attr">  - name:</span> <span class="string">Set</span> <span class="string">the</span> <span class="string">fact</span> <span class="string">for</span> <span class="string">the</span> <span class="string">other</span> <span class="string">scripts</span> <span class="string">to</span> <span class="string">use</span></span><br><span class="line"><span class="attr">    set_fact:</span></span><br><span class="line"><span class="attr">      ansible_home:</span> <span class="string">'<span class="template-variable">&#123;&#123;ansible_home_result.stdout&#125;&#125;</span>'</span></span><br><span class="line"><span class="attr">      cacheable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">register_home</span></span><br></pre></td></tr></table></figure></p>
<p>元記事と変えているのは、SUDO実行ユーザ名を取るところ。環境変数から取るようにしている。</p>
<p>プレイブックでは以下のようにする。</p>
<p>playbooks/something.yml <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">- hosts:</span> <span class="string">"<span class="template-variable">&#123;&#123; server | default('mypc') &#125;&#125;</span>"</span></span><br><span class="line"><span class="attr">  roles:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">register_home</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">something</span></span><br></pre></td></tr></table></figure></p>
<h1><span id="参考">参考</span></h1>
<ul>
<li><a href="https://qiita.com/superbrothers/items/99d444e76deacae4985d" target="_blank" rel="noopener">ansible
で sudo 時に実行ユーザの HOME 環境変数を取得する</a></li>
</ul>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2024/08/25/Use-HOME-in-case-of-using-sudo-ansible/" data-id="cm0tojmaa00c918o5xaybduvc" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-Management-Domain" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2024/07/14/Management-Domain/">Management Domain of EDC</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2024/07/14/Management-Domain/">
            <time datetime="2024-07-14T03:09:34.000Z" itemprop="datePublished">2024-07-14</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Dataspace-Connector/">Dataspace Connector</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Dataspace-Connector/Eclipse-Dataspace-Components/">Eclipse Dataspace Components</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/Dataspace-Connector/">Dataspace Connector</a>, <a class="tag-link" href="/memo-blog/tags/EDC/">EDC</a>, <a class="tag-link" href="/memo-blog/tags/IDS/">IDS</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#概要" id="toc-概要">概要</a></li>
<li><a href="#topology" id="toc-topology">Topology</a></li>
<li><a href="#architecture" id="toc-architecture">Architecture</a></li>
<li><a href="#実装" id="toc-実装">実装</a></li>
</ul></li>
<li><a href="#参考" id="toc-参考">参考</a></li>
</ul>
</div>
<h1><span id="メモ">メモ</span></h1>
<h2><span id="概要">概要</span></h2>
<p>2024/6あたりから、 <a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/management-domains/management-domains.md" target="_blank" rel="noopener">EDC/management-domains</a>
のドキュメントが追加された。</p>
<p><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/management-domains/management-domains.md#0-introduction" target="_blank" rel="noopener">EDC/management-domains/Introduction</a>
の通り、Management
Domainを利用することで、EDCコンポーネント群を組織的に管理することができる。
例えば、管理組織と下部組織にわけ、下部組織は管理組織に管理を委譲できる。</p>
<p>ここで言うEDCコンポーネントとは、例えば以下のようなものが挙げられている。</p>
<ul>
<li>Catalog Server</li>
<li>Control Plane</li>
<li>Data Plane</li>
<li>Identity Hub</li>
</ul>
<p>2024/7/14現在では、対象は以下のようになっている。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The current document will outline how management domains operate for three EDC components: the Catalog Server, Control Plane, and Data Plane.</span><br></pre></td></tr></table></figure>
<h2><span id="topology">Topology</span></h2>
<p>デプロイメトには種類がある。 大まかに分けて、単一構成（Single
Management Domain）と分散型構成（Distributed Management
Domains）である。</p>
<ul>
<li>1: Single Mangement Domain
<ul>
<li>Catalog Server、Control Plane、Data
Planeがすべて同一のプロセスもしくは同居プロセスに存在する。k8sで構成されるが、ひとつのドメインで管理される場合も含まれる。</li>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/management-domains/single.instance.svg" target="_blank" rel="noopener">Single
Management Domainの最も単純な例</a></li>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/management-domains/cluster.svg" target="_blank" rel="noopener">Single
Management Domainのクラスタの例</a></li>
</ul></li>
<li>2: Distributed Management Domains
<ul>
<li>下部組織を持つ他国籍、複合企業体のような分散型のドメイン管理。この複合企業体は、ひとつのWeb
DIDを用いる。当該複合企業体のデータを利用する企業は、ある下部組織のアクセス権しか持たないケースもある。</li>
</ul></li>
<li>2a: Catalog Serverを持つ下部組織をRoot Catalogでまとめる
<ul>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/management-domains/distributed.type2.a.svg" target="_blank" rel="noopener">Distributed
Management DomainでCatalog Serverを持つ下部組織をまとめる例</a></li>
</ul></li>
<li>2b: 親のCatalog Serverが異なるManagement Domainを管理する
<ul>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/management-domains/management-domains.md#type-2b-edc-catalog-server-and-controldata-plane-runtimes" target="_blank" rel="noopener">Distributed
Management DomainでCatalog Serverが下部組織の異なるManagement
Domainを管理する例</a></li>
</ul></li>
<li>2c: 親のManagement DomainがCatalog ServerとControl
Planeを持ち、下部組織のData Planeをまとめる
<ul>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/management-domains/distributed.type2.c.svg" target="_blank" rel="noopener">Distributed
Management Domainで親Management DomainがCatalog ServerとControl
Planeをもつ例</a></li>
</ul></li>
</ul>
<p>分散型の構成は、親Management Domainがどこまでを担うかによります。</p>
<h2><span id="architecture">Architecture</span></h2>
<p>EDCはDCAT3のCatalog型を利用する。Catalog型の親はDataset型である。
またCatalog型はほかの複数のCatalogを含むことができる。その際、Service型で定義する。
したがって、以下のような例になる。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"@context"</span>: <span class="string">"https://w3id.org/dspace/v0.8/context.json"</span>,</span><br><span class="line">  <span class="attr">"@id"</span>: <span class="string">"urn:uuid:3afeadd8-ed2d-569e-d634-8394a8836d57"</span>,</span><br><span class="line">  <span class="attr">"@type"</span>: <span class="string">"dcat:Catalog"</span>,</span><br><span class="line">  <span class="attr">"dct:title"</span>: <span class="string">"Data Provider Root Catalog"</span>,</span><br><span class="line">  <span class="attr">"dct:description"</span>: [</span><br><span class="line">    <span class="string">"A catalog of catalogs"</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"dct:publisher"</span>: <span class="string">"Data Provider A"</span>,</span><br><span class="line">  <span class="attr">"dcat:catalog"</span>: &#123;</span><br><span class="line">    <span class="attr">"@type"</span>: <span class="string">"dcat:Catalog"</span>,</span><br><span class="line">    <span class="attr">"dct:publisher"</span>: <span class="string">"Data Provider A"</span>,</span><br><span class="line">    <span class="attr">"dcat:distribution"</span>: &#123;</span><br><span class="line">      <span class="attr">"@type"</span>: <span class="string">"dcat:Distribution"</span>,</span><br><span class="line">      <span class="attr">"dcat:accessService"</span>: <span class="string">"urn:uuid:4aa2dcc8-4d2d-569e-d634-8394a8834d77"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"dcat:service"</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"@id"</span>: <span class="string">"urn:uuid:4aa2dcc8-4d2d-569e-d634-8394a8834d77"</span>,</span><br><span class="line">        <span class="attr">"@type"</span>: <span class="string">"dcat:DataService"</span>,</span><br><span class="line">        <span class="attr">"dcat:endpointURL"</span>: <span class="string">"https://provder-a.com/subcatalog"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Sub CatalogはDCATのService型で関連付けされる。 この例は、Distributed
Management Domainの2aに相当する。</p>
<p>アクセス管理についても考える。 2bのパターンのでは、親のCatalog
Serverが下部組織のManagement
Domainを管理する。そのため、ContractDefinitionにアクセス権を定義することで下部組織へのアクセス管理を実現する。</p>
<p>また、さらに集中型のControl Planeを設ける場合は、親のControl
Planeが子のData Planeを管理する。</p>
<p>また、2024/7時点での設計では、複製を避けるようになっている。これは性能と単純さのためである。複合Catalogは上記の通り、ハイパーリンクを使用するようにしており、非同期のクローラで遅延ナビゲートされることも可能。
また、Catalogもそうだが、Contract NegotiationやTransfer
Processのメタデータも複製されないことにも重きが置かれている。各Management
Domainはそれぞれ責任を持って管理するべき、としている。
もし組織間で連携が必要な場合は読み取り専用の複製として渡すEDC拡張機能として実現可能である。
なお、個人的な所感だが、これは2aや2bであれば実現しうるが、2cだとControl
Planeが親側に存在するため、Contract
Negotiationの管理主体が親になってしまうのではないか、と思うがどうだろうか。Data
Plane側はもしかしたら、下部組織側に残せるかもしれない。</p>
<h2><span id="実装">実装</span></h2>
<p>以上の内容を実現するため、いくつかEDCに変更が行われる。</p>
<ul>
<li><code>Asset</code> にCatalogを示す真理値を追加。もし
<code>@type</code> が <code>edc:CatalogAsset</code>
の場合は真になる。</li>
<li>Management APIが更新される。 <code>Asset</code> に
<code>@type</code> を持てるように。</li>
<li><code>Dataset</code> の拡張として <code>Catalog</code> を追加</li>
<li><code>DatasetResolverImpl</code> を更新。 <code>Asset</code>
のCatalogサブタイプを扱えるように。</li>
<li><code>JsonObjectFromDatasetTransformer</code> をリファンクたリング。
<code>Catalog</code> サブタイプを扱えるように。</li>
</ul>
<p>合わせて、Fedrated Catalog Crawler (FCC)
をリファクタリング。複合カタログをナビゲートし、キャッシュできるように。
参加者ごとにCatalogの更新をアトミックに実行できるようにする必要がある。</p>
<p>Management
APIはCatalogを要求する際、ローカルのFCCキャッシュを参照するようにリファクタリングされる。</p>
<p>Catalog Serverもリファクタリングされる。</p>
<h1><span id="参考">参考</span></h1>
<ul>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/management-domains/management-domains.md" target="_blank" rel="noopener">EDC/management-domains</a></li>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/management-domains/management-domains.md#0-introduction" target="_blank" rel="noopener">EDC/management-domains/Introduction</a></li>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/management-domains/single.instance.svg" target="_blank" rel="noopener">Single
Management Domainの最も単純な例</a></li>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/management-domains/cluster.svg" target="_blank" rel="noopener">Single
Management Domainのクラスタの例</a></li>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/management-domains/management-domains.md#type-2b-edc-catalog-server-and-controldata-plane-runtimes" target="_blank" rel="noopener">Distributed
Management DomainでCatalog Serverが下部組織の異なるManagement
Domainを管理する例</a></li>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/management-domains/distributed.type2.a.svg" target="_blank" rel="noopener">Distributed
Management DomainでCatalog Serverを持つ下部組織をまとめる例</a></li>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/management-domains/distributed.type2.c.svg" target="_blank" rel="noopener">Distributed
Management Domainで親Management DomainがCatalog ServerとControl
Planeをもつ例</a></li>
</ul>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2024/07/14/Management-Domain/" data-id="cm0tojm8n007p18o5ruyqgz3s" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-MVD-of-EDC" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2024/07/07/MVD-of-EDC/">MVD_of_EDC</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2024/07/07/MVD-of-EDC/">
            <time datetime="2024-07-06T16:16:32.000Z" itemprop="datePublished">2024-07-07</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Dataspace-Connector/">Dataspace Connector</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Dataspace-Connector/Eclipse-Dataspace-Components/">Eclipse Dataspace Components</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/Dataspace-Connector/">Dataspace Connector</a>, <a class="tag-link" href="/memo-blog/tags/EDC/">EDC</a>, <a class="tag-link" href="/memo-blog/tags/IDS/">IDS</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#identity-trustについての説明" id="toc-identity-trustについての説明">Identity &amp;
Trustについての説明</a></li>
<li><a href="#目的" id="toc-目的">目的</a></li>
<li><a href="#シナリオ" id="toc-シナリオ">シナリオ</a>
<ul>
<li><a href="#data-setup" id="toc-data-setup">Data setup</a></li>
</ul></li>
</ul></li>
<li><a href="#参考" id="toc-参考">参考</a></li>
</ul>
</div>
<h1><span id="メモ">メモ</span></h1>
<p>2024/7/12時点でプロジェクトのドキュメントが更新され、旧来Developer
Documentとされていたものがなくなった。 その代わり、<a href="https://github.com/eclipse-edc/MinimumViableDataspace/blob/main/README.md" target="_blank" rel="noopener">README</a>
に色々な記述が追加されている。今回はこれを使って試す。</p>
<h2><span id="identity-amptrustについての説明">Identity &amp;
Trustについての説明</span></h2>
<p><a href="https://github.com/eclipse-edc/MinimumViableDataspace/blob/main/README.md#introduction" target="_blank" rel="noopener">README#Introduction</a>
にある通り、Eclipse Dataspace Working
Groupの下で、IdentityやTrustの仕様検討が行われている。
ただ、当該章に記載のリンクをたどると、Tractus-Xのサイトにたどり着く。
-&gt; <a href="https://github.com/eclipse-tractusx/identity-trust" target="_blank" rel="noopener">Eclipse
Tractus-X/identity-trust</a>
当該レポジトリのREADMEでも記載されているが、この状態は暫定のようだ。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Until the first version of the specification from the working group is released and implemented, this repository contains the current specification implemented in the Catena-X data space. Maintenance is limited to urgent issues concerning the operation of this data space.</span><br></pre></td></tr></table></figure>
<p>何はともあれ、2024/7現在は、Verifiable
Credentialを用いたDecentralized Claims
Protocolは絶賛仕様決定・実装中である。</p>
<h2><span id="目的">目的</span></h2>
<p><a href="https://github.com/eclipse-edc/MinimumViableDataspace/blob/main/README.md#purpose-of-this-demo" target="_blank" rel="noopener">README#Purpose</a>
には、このデモの目的が記載されている。
このデモでは、2者のデータスペース参加者が、クレデンシャルを交換した後、DSPメッセージをやり取りする例を示す。</p>
<p>もちろん、旧来からの通り、このデモは商用化品質のものではなく、いくつかの
<a href="https://github.com/eclipse-edc/MinimumViableDataspace/blob/main/README.md#other-caveats-shortcuts-and-workarounds" target="_blank" rel="noopener">shortcut</a>
が存在する。</p>
<h2><span id="シナリオ">シナリオ</span></h2>
<p><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/management-domains/management-domains.md" target="_blank" rel="noopener">management-domain</a>
を用いたFederated Catalogsを用いている。</p>
<p>シナリオの概要をいかに示す。</p>
<figure>
<img src="/memo-blog/images/20240714_MVD_Scenario.png" alt="MVDシナリオの概要">
<figcaption aria-hidden="true">MVDシナリオの概要</figcaption>
</figure>
<p>図の通り、Provider CorpとConsumer Corpの2種類の企業があり、　Provdier
CorpにはQ&amp;AとManufacturingという組織が存在する。Q&amp;AとManufacturingにはそれぞれEDCが起動している。Provdier
Copの親組織にはCatalogとIdentityHubが起動している。このIdentityHubはCatalog、EDC（provider-qna）、EDC（provider-manufacuturing）に共通である。また、participantIdも共通のものを使う。Consumer
CorpにはEDCとIdentityHubがある。</p>
<h3><span id="data-setup">Data setup</span></h3>
<p>図の通り、実際のデータ（assets）は各下部組織にある。そのカタログは直接外部に晒されない。その代わり、親組織であるProvider
CorpのCatalog Server内のroot catalogにそのポインタ（catalog
assets）が保持される。これにより、Consumer Corpはroot
catalogを用いて、実際のassetの情報を解決できる。</p>
<p>(wip)</p>
<h1><span id="参考">参考</span></h1>
<ul>
<li><a href="https://github.com/eclipse-edc/MinimumViableDataspace/tree/main/docs/developer" target="_blank" rel="noopener">Developer
document</a> ... これはなくなった。</li>
<li><a href="https://github.com/eclipse-edc/MinimumViableDataspace/blob/main/README.md" target="_blank" rel="noopener">README</a></li>
<li><a href="https://github.com/eclipse-edc/MinimumViableDataspace/blob/main/README.md#introduction" target="_blank" rel="noopener">README#Introduction</a></li>
<li><a href="https://github.com/eclipse-tractusx/identity-trust" target="_blank" rel="noopener">Eclipse
Tractus-X/identity-trust</a></li>
<li><a href="https://github.com/eclipse-edc/MinimumViableDataspace/blob/main/README.md#purpose-of-this-demo" target="_blank" rel="noopener">README#Purpose</a></li>
<li><a href="https://github.com/eclipse-edc/MinimumViableDataspace/blob/main/README.md#other-caveats-shortcuts-and-workarounds" target="_blank" rel="noopener">shortcut</a></li>
<li><a href="https://github.com/eclipse-edc/MinimumViableDataspace/blob/main/README.md#the-scenario" target="_blank" rel="noopener">README/scenario</a></li>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/management-domains/management-domains.md" target="_blank" rel="noopener">management-domain</a></li>
</ul>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2024/07/07/MVD-of-EDC/" data-id="cm0tojm8m007j18o5s8klrjbe" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-EDCSample" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2024/02/24/EDCSample/">EDCSample</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2024/02/24/EDCSample/">
            <time datetime="2024-02-24T13:15:17.000Z" itemprop="datePublished">2024-02-24</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Dataspace-Connector/">Dataspace Connector</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Dataspace-Connector/Eclipse-Dataspace-Components/">Eclipse Dataspace Components</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/Dataspace-Connector/">Dataspace Connector</a>, <a class="tag-link" href="/memo-blog/tags/EDC/">EDC</a>, <a class="tag-link" href="/memo-blog/tags/IDS/">IDS</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#動作確認環境" id="toc-動作確認環境">動作確認環境</a></li>
<li><a href="#readme" id="toc-readme">README</a>
<ul>
<li><a href="#必要事項準備" id="toc-必要事項準備">必要事項（準備）</a></li>
<li><a href="#スコープscopes" id="toc-スコープscopes">スコープ（Scopes）</a></li>
</ul></li>
<li><a href="#basicスコープの概要" id="toc-basicスコープの概要">Basicスコープの概要</a></li>
<li><a href="#basicsample1" id="toc-basicsample1">Basic/Sample1</a></li>
<li><a href="#basicsample2" id="toc-basicsample2">Basic/Sample2</a></li>
<li><a href="#basicsample3" id="toc-basicsample3">Basic/Sample3</a>
<ul>
<li><a href="#独自のプロパティの利用" id="toc-独自のプロパティの利用">独自のプロパティの利用</a></li>
</ul></li>
<li><a href="#transferスコープの概要" id="toc-transferスコープの概要">Transferスコープの概要</a></li>
<li><a href="#transfersample0準備" id="toc-transfersample0準備">Transfer/Sample0（準備）</a></li>
<li><a href="#transfersample1コントラクトネゴシエーション" id="toc-transfersample1コントラクトネゴシエーション">Transfer/Sample1（コントラクト・ネゴシエーション）</a></li>
<li><a href="#transfersample2コンシューマpull" id="toc-transfersample2コンシューマpull">Transfer/Sample2（コンシューマPull）</a></li>
<li><a href="#transfersample3プロバイダpush" id="toc-transfersample3プロバイダpush">Transfer/Sample3（プロバイダPush）</a></li>
<li><a href="#transfersample4" id="toc-transfersample4">Transfer/Sample4</a></li>
<li><a href="#transfersample5" id="toc-transfersample5">Transfer/Sample5</a></li>
</ul></li>
<li><a href="#参考" id="toc-参考">参考</a>
<ul>
<li><a href="#レポジトリ内" id="toc-レポジトリ内">レポジトリ内</a></li>
<li><a href="#edcレポジトリ" id="toc-edcレポジトリ">EDCレポジトリ</a></li>
<li><a href="#外部" id="toc-外部">外部</a></li>
</ul></li>
</ul>
</div>
<h1><span id="メモ">メモ</span></h1>
<p><a href="https://github.com/eclipse-edc/Samples" target="_blank" rel="noopener">EDC/Samples</a>
の内容を紹介する。</p>
<h2><span id="動作確認環境">動作確認環境</span></h2>
<p>本プロジェクトに沿って動作確認した際の環境情報を以下に載せる。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ cat /etc/lsb-release</span><br><span class="line">DISTRIB_ID=Ubuntu</span><br><span class="line">DISTRIB_RELEASE=22.04</span><br><span class="line">DISTRIB_CODENAME=jammy</span><br><span class="line">DISTRIB_DESCRIPTION=&quot;Ubuntu 22.04.4 LTS&quot;</span><br><span class="line"></span><br><span class="line">$ java -version</span><br><span class="line">openjdk version &quot;17.0.12&quot; 2024-07-16</span><br><span class="line">OpenJDK Runtime Environment (build 17.0.12+7-Ubuntu-1ubuntu222.04)</span><br><span class="line">OpenJDK 64-Bit Server VM (build 17.0.12+7-Ubuntu-1ubuntu222.04, mixed mode, sharing)</span><br></pre></td></tr></table></figure>
<p>EDCで利用しているJDKに合わせてJDK17を用いている。</p>
<p>また<a href="https://github.com/dobachi/EDCSampleAnsible" target="_blank" rel="noopener">dobachi/EDCSampleAnsible</a>に環境準備などのAnsible
Playbookを置く。</p>
<h2><span id="readme">README</span></h2>
<p><a href="https://github.com/eclipse-edc/Samples?tab=readme-ov-file#edc-samples" target="_blank" rel="noopener">EDC/Samples/README</a>
には目的、必要事項（準備）、スコープの説明がある。</p>
<p>本プロジェクトの目的はオンボーディングの支援。
初心者をナビゲートしやすいような順番でサンプルが構成されており、ステップバイステップで学べる。</p>
<h3><span id="必要事項準備">必要事項（準備）</span></h3>
<p>このプロジェクトでは、基本的にEclipse Dataspace
Componentで用いられる用語は理解している前提で説明が進められる。
そのため、<a href="https://eclipse-edc.github.io/docs/#/" target="_blank" rel="noopener">EDC/documentation</a>
は読んでいることが望ましい。 また、<a href="https://www.youtube.com/@eclipsedataspaceconnector9622/featured" target="_blank" rel="noopener">EDC/YT</a>の動画も参考になる。</p>
<p>また、関連ツールとして、Git、Gradle、Java、HTTPあたりは押さえておきたい、とされている。</p>
<p>動作確認する場合は、Java11+がインストールされていることが必要。</p>
<h3><span id="スコープscopes">スコープ（Scopes）</span></h3>
<p>サンプル群は、Scopeと呼ばれるグループで区分されている。
何を学びたいか、で分かれている。
ひとまず、初心者であれば<code>basic</code>が良いとのこと。</p>
<p>ざっと以下に解説する。</p>
<table>
<colgroup>
<col style="width: 10%">
<col style="width: 89%">
</colgroup>
<thead>
<tr class="header">
<th>Scope名</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Basic</td>
<td>EDC
Frameworkを使い始めるための基礎。セットアップ、起動、拡張の作成</td>
</tr>
<tr class="even">
<td>Transfer</td>
<td>データ転送について</td>
</tr>
<tr class="odd">
<td>Advanced</td>
<td>高度な例</td>
</tr>
</tbody>
</table>
<h2><span id="basicスコープの概要">Basicスコープの概要</span></h2>
<p><a href="https://github.com/eclipse-edc/Samples/blob/main/basic/README.md" target="_blank" rel="noopener">EDC/Samples/Basic/README</a>には以下のサンプルが載っている。</p>
<table>
<thead>
<tr class="header">
<th>サンプル名</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Basic Sample 1</td>
<td>コネクタを起動するのに必要なことを学ぶ</td>
</tr>
<tr class="even">
<td>Basic Sample 2</td>
<td>拡張機能の作成、拡張機能の使い方を学ぶ</td>
</tr>
<tr class="odd">
<td>Basic Sample 3</td>
<td>プロパティファイルを用いて設定値を扱う方法を学ぶ</td>
</tr>
</tbody>
</table>
<h2><span id="basicsample1">Basic/Sample1</span></h2>
<p><a href="https://github.com/eclipse-edc/Samples/blob/main/basic/basic-01-basic-connector/README.md" target="_blank" rel="noopener">EDC/Samples/Basic/Basic1/README</a>には以下の通り説明されている。</p>
<p><code>Runtime</code>とビルドファイルで構成されている。
ビルドファイルは、<code>build.gradle.kts</code>である。</p>
<p>このサンプルでは、EDCの<a href="https://github.com/eclipse-edc/Connector/blob/releases/core/common/boot/src/main/java/org/eclipse/edc/boot/system/runtime/BaseRuntime.java" target="_blank" rel="noopener">BaseRuntime</a>を用いている。</p>
<p>また、<a href="https://github.com/eclipse-edc/Samples/blob/main/basic/basic-01-basic-connector/build.gradle.kts" target="_blank" rel="noopener">EDC/Samples/Basic/Basic1/build.gradle.kts</a>を見ることでプロジェクトが依存するものがわかる。</p>
<p>basic/basic-01-basic-connector/build.gradle.kts:22</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">dependencies</span> &#123;</span><br><span class="line">    implementation(libs.edc.boot)</span><br><span class="line">    implementation(libs.edc.connector.core)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>READMEの通り、Sampleプロジェクトのrootでコンパイル実行すれば良い。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./gradlew clean basic:basic-01-basic-connector:build</span><br><span class="line">java -jar basic/basic-01-basic-connector/build/libs/basic-connector.jar</span><br></pre></td></tr></table></figure>
<p>特に何があるわけではない。コンソールに起動のメッセージが出力されるはず。</p>
<h2><span id="basicsample2">Basic/Sample2</span></h2>
<p><a href="https://github.com/eclipse-edc/Samples/blob/main/basic/basic-02-health-endpoint/README.md" target="_blank" rel="noopener">EDC/Samples/Basic/Basic2/README</a>
には以下の通り説明されている。</p>
<p><code>ServiceExtension</code> と
<code>src/main/resources/META-INF/services</code>
ディレクトリ以下のプラグインファイルで構成される。 この例では
<code>HealthEndpointExtension</code> というServiceExtensionを実装。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HealthEndpointExtension</span> <span class="keyword">implements</span> <span class="title">ServiceExtension</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Inject</span></span><br><span class="line">    WebService webService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">initialize</span><span class="params">(ServiceExtensionContext context)</span> </span>&#123;</span><br><span class="line">        webService.registerResource(<span class="keyword">new</span> HealthApiController(context.getMonitor()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上記の通り、 <code>ServiceExtension</code>
を拡張。また、中ではWebServiceをインジェクとしている。（DIのインジェクトについてはインターネットの情報を参考）
<code>initialize</code> メソッド内で、先にインジェクとした
<code>webService</code> にリソースを登録している。</p>
<p><code>org.eclipse.edc.web.spi.WebService</code>
インターフェースは、例えば
<code>org.eclipse.edc.web.jersey.JerseyRestService</code>
として実装されている。 <a href="https://eclipse-ee4j.github.io/jersey/" target="_blank" rel="noopener">Jersey</a>
はシンプルなRESTfulサービスのフレームワークである。</p>
<p>上記で登録されているコントローラ <code>HealthApiController</code>
は以下の通り。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Consumes</span>(&#123;MediaType.APPLICATION_JSON&#125;)</span><br><span class="line"><span class="meta">@Produces</span>(&#123;MediaType.APPLICATION_JSON&#125;)</span><br><span class="line"><span class="meta">@Path</span>(<span class="string">"/"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HealthApiController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Monitor monitor;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HealthApiController</span><span class="params">(Monitor monitor)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.monitor = monitor;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GET</span></span><br><span class="line">    <span class="meta">@Path</span>(<span class="string">"health"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">checkHealth</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        monitor.info(<span class="string">"Received a health request"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"&#123;\"response\":\"I'm alive!\"&#125;"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>特別なことはないが、上記の通り、 <code>checkHealth</code>
メソッドを叩かれるとメッセージを残す。 実行の仕方は以下の通り。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./gradlew clean basic:basic-02-health-endpoint:build</span><br><span class="line">java -jar basic/basic-02-health-endpoint/build/libs/connector-health.jar</span><br></pre></td></tr></table></figure>
<p>http://localhost:8181/api/health
にアクセスすればブラウザ上でメッセージが表示されることに加え、コンソールにもメッセージが生じる。</p>
<h2><span id="basicsample3">Basic/Sample3</span></h2>
<p><a href="https://github.com/eclipse-edc/Samples/blob/main/basic/basic-03-configuration/README.md" target="_blank" rel="noopener">EDC/Samples/Basic/Basic3/README</a>
に以下のような説明がある。</p>
<p>設定をくくりだした <code>ConfigurationExtension</code> がある。
<code>org.eclipse.edc.configuration.filesystem.FsConfigurationExtension</code>
がデフォルトの設定ファイル取り扱いのクラス。
このサンプルでは、Gradleの依存関係記述にて、
以下を指定することでJarファイルを含めるようにする。</p>
<p>basic/basic-03-configuration/build.gradle.kts:29</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(snip)</span><br><span class="line">    implementation(libs.edc.configuration.filesystem)</span><br><span class="line">(snip)</span><br></pre></td></tr></table></figure>
<p>ここでは <code>/etc/eclipse/EDC/config.properties</code>
という設定ファイルを作り利用する例を示す。
ポート番号を9191に変更する例。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /etc/eclipse/EDC</span><br><span class="line">sudo sh -c 'echo "web.http.port=9191" &gt; /etc/eclipse/EDC/config.properties'</span><br></pre></td></tr></table></figure>
<p>プロパティファイルを作ったので、それを利用するよう引数で指定して実行する。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./gradlew clean basic:basic-03-configuration:build</span><br><span class="line">java -Dedc.fs.config=/etc/eclipse/EDC/config.properties -jar basic/basic-03-configuration/build/libs/filesystem-config-connector.jar</span><br></pre></td></tr></table></figure>
<p>起動時に以下のようなログが見えるはず。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INFO <span class="number">2024</span>-<span class="number">08</span>-<span class="number">26</span>T16:<span class="number">16</span>:<span class="number">38.946828558</span> HTTP context <span class="string">'default'</span> listening on port <span class="number">9191</span></span><br><span class="line">DEBUG <span class="number">2024</span>-<span class="number">08</span>-<span class="number">26</span>T16:<span class="number">16</span>:<span class="number">38.986329567</span> Port mappings: &#123;alias=<span class="string">'default'</span>, port=<span class="number">9191</span>, path=<span class="string">'/api'</span>&#125;</span><br></pre></td></tr></table></figure>
<p>ちなみに、設定ファイルのデフォルトは以下の通り。</p>
<p>/home/dobachi/.gradle/caches/modules-2/files-2.1/org.eclipse.edc/configuration-filesystem/0.8.1/7741c1f790be0f02a2da844cd05edb469a5d095b/configuration-filesystem-0.8.1-sources.jar!/org/eclipse/edc/configuration/filesystem/FsConfigurationExtension.java:67
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var configLocation = propOrEnv(FS_CONFIG, <span class="string">"dataspaceconnector-configuration.properties"</span>);</span><br></pre></td></tr></table></figure></p>
<h3><span id="独自のプロパティの利用">独自のプロパティの利用</span></h3>
<p>本サンプルのREADMEに書いてある通り、先程のプロパティファイルに以下を追記。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">edc.samples.basic.03.logprefix=MyLogPrefix</span><br></pre></td></tr></table></figure>
<p>ログのプリフィックス文言を決めるためのプロパティを定義。</p>
<p>続いて、Sample2でも使用した
<code>org.eclipse.edc.extension.health.HealthEndpointExtension</code>
を改変。 プロパティ名を定義し、
<code>org.eclipse.edc.spi.system.SettingResolver#getSetting(java.lang.String, java.lang.String)</code>　メソッドを用いてプロパティの値を取れるようにした。</p>
<p>org/eclipse/edc/extension/health/HealthEndpointExtension.java:22</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HealthEndpointExtension</span> <span class="keyword">implements</span> <span class="title">ServiceExtension</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Inject</span></span><br><span class="line">    WebService webService;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String LOG_PREFIX_SETTING = <span class="string">"edc.samples.basic.03.logprefix"</span>; <span class="comment">// this constant is new</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">initialize</span><span class="params">(ServiceExtensionContext context)</span> </span>&#123;</span><br><span class="line">        var logPrefix = context.getSetting(LOG_PREFIX_SETTING, <span class="string">"health"</span>); <span class="comment">//this line is new</span></span><br><span class="line">        webService.registerResource(<span class="keyword">new</span> HealthApiController(context.getMonitor(), logPrefix));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>http://localhsot:9191/health
にアクセスすると、コンソールに以下のログが出る。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO <span class="number">2024</span>-<span class="number">08</span>-<span class="number">26</span>T16:<span class="number">25</span>:<span class="number">55.233519477</span> health :: Received a health request</span><br></pre></td></tr></table></figure>
<h2><span id="transferスコープの概要">Transferスコープの概要</span></h2>
<p>2個のコネクタ間でデータをやり取りする。プロバイダとコンシューマ。</p>
<h2><span id="transfersample0準備">Transfer/Sample0（準備）</span></h2>
<p><a href="https://github.com/eclipse-edc/Samples/blob/main/transfer/transfer-00-prerequisites/README.md" target="_blank" rel="noopener">EDC/Samples/Transfer/Transfer0/README</a>の通り、準備をする。
なお、このサンプルでは簡単化のために同一マシン上で、プロバイダとコンシューマを起動するが、本来は別々のところで起動するものである。</p>
<p>プロジェクトrootで以下を実行。 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gradlew transfer:transfer-00-prerequisites:connector:build</span><br></pre></td></tr></table></figure></p>
<p>結果、ビルドされたJARファイルがここに配置される。
<code>transfer/transfer-00-prerequisites/connector/build/libs/connector.jar</code></p>
<p>プロバイダとコンシューマは設定が異なるのみであり、JARは共通。
PATH配下の通り。</p>
<p><code>transfer/transfer-00-prerequisites/resources/configuration/consumer-configuration.properties</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">edc.participant.id=consumer</span><br><span class="line">edc.dsp.callback.address=http://localhost:29194/protocol</span><br><span class="line">web.http.port=29191</span><br><span class="line">web.http.path=/api</span><br><span class="line">web.http.management.port=29193</span><br><span class="line">web.http.management.path=/management</span><br><span class="line">web.http.protocol.port=29194</span><br><span class="line">web.http.protocol.path=/protocol</span><br><span class="line">edc.transfer.proxy.token.signer.privatekey.alias=private-key</span><br><span class="line">edc.transfer.proxy.token.verifier.publickey.alias=public-key</span><br><span class="line">web.http.public.port=29291</span><br><span class="line">web.http.public.path=/public</span><br><span class="line">web.http.control.port=29192</span><br><span class="line">web.http.control.path=/control</span><br></pre></td></tr></table></figure>
<p><code>transfer/transfer-00-prerequisites/resources/configuration/provider-configuration.properties</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">edc.participant.id=provider</span><br><span class="line">edc.dsp.callback.address=http://localhost:19194/protocol</span><br><span class="line">web.http.port=19191</span><br><span class="line">web.http.path=/api</span><br><span class="line">web.http.management.port=19193</span><br><span class="line">web.http.management.path=/management</span><br><span class="line">web.http.protocol.port=19194</span><br><span class="line">web.http.protocol.path=/protocol</span><br><span class="line">edc.transfer.proxy.token.signer.privatekey.alias=private-key</span><br><span class="line">edc.transfer.proxy.token.verifier.publickey.alias=public-key</span><br><span class="line">web.http.public.port=19291</span><br><span class="line">web.http.public.path=/public</span><br><span class="line">web.http.control.port=19192</span><br><span class="line">web.http.control.path=/control</span><br><span class="line">edc.dataplane.api.public.baseurl=http://localhost:19291/public</span><br></pre></td></tr></table></figure>
<p>用いるポートを変えているのと、プロバイダ側にはデータプレーンのプロパティがあることがわかる。</p>
<p>プロバイダ実行： <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -Dedc.keystore=transfer/transfer-00-prerequisites/resources/certs/cert.pfx -Dedc.keystore.password=123456 -Dedc.fs.config=transfer/transfer-00-prerequisites/resources/configuration/provider-configuration.properties -jar transfer/transfer-00-prerequisites/connector/build/libs/connector.jar</span><br></pre></td></tr></table></figure></p>
<p>キーやキーストアの設定、プロパティファイルのPATHを渡すのみ。</p>
<p>コンシューマ起動：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -Dedc.keystore=transfer/transfer-00-prerequisites/resources/certs/cert.pfx -Dedc.keystore.password=123456 -Dedc.fs.config=transfer/transfer-00-prerequisites/resources/configuration/consumer-configuration.properties -jar transfer/transfer-00-prerequisites/connector/build/libs/connector.jar</span><br></pre></td></tr></table></figure>
<p>プロバイダと同等。</p>
<h2><span id="transfersample1コントラクトネゴシエーション">Transfer/Sample1（コントラクト・ネゴシエーション）</span></h2>
<p><a href="https://github.com/eclipse-edc/Samples/blob/main/transfer/transfer-01-negotiation/README.md" target="_blank" rel="noopener">EDC/Samples/Transfer/Transfer1/README</a>
の通り以下のステップで進める。</p>
<ul>
<li>プロバイダのアセット（共有される対象のデータ）を作成</li>
<li>プロバイダでアクセスポリシーを作成</li>
<li>プロバイダでコントラクト定義を作成</li>
<li>その後、コンシューマからコントラクト・ネゴシエーション</li>
</ul>
<p>まずプロバイダでアセットを作成。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -d @transfer/transfer-01-negotiation/resources/create-asset.json \</span><br><span class="line">  -H 'content-type: application/json' http://localhost:19193/management/v3/assets \</span><br><span class="line">  -s | jq</span><br></pre></td></tr></table></figure>
<p>curlコマンドの-dataオプションに <code>@</code>
でファイルを渡しをしている。中身は以下の通り。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"@context"</span>: &#123;</span><br><span class="line">    <span class="attr">"@vocab"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"@id"</span>: <span class="string">"assetId"</span>,</span><br><span class="line">  <span class="attr">"properties"</span>: &#123;</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"product description"</span>,</span><br><span class="line">    <span class="attr">"contenttype"</span>: <span class="string">"application/json"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"dataAddress"</span>: &#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"HttpData"</span>,</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"Test asset"</span>,</span><br><span class="line">    <span class="attr">"baseUrl"</span>: <span class="string">"https://jsonplaceholder.typicode.com/users"</span>,</span><br><span class="line">    <span class="attr">"proxyPath"</span>: <span class="string">"true"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ポリシ定義。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -d @transfer/transfer-01-negotiation/resources/create-policy.json \</span><br><span class="line">  -H 'content-type: application/json' http://localhost:19193/management/v3/policydefinitions \</span><br><span class="line">  -s | jq</span><br></pre></td></tr></table></figure>
<p>渡しているファイルの中身は以下。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"@context"</span>: &#123;</span><br><span class="line">    <span class="attr">"@vocab"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"odrl"</span>: <span class="string">"http://www.w3.org/ns/odrl/2/"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"@id"</span>: <span class="string">"aPolicy"</span>,</span><br><span class="line">  <span class="attr">"policy"</span>: &#123;</span><br><span class="line">    <span class="attr">"@context"</span>: <span class="string">"http://www.w3.org/ns/odrl.jsonld"</span>,</span><br><span class="line">    <span class="attr">"@type"</span>: <span class="string">"Set"</span>,</span><br><span class="line">    <span class="attr">"permission"</span>: [],</span><br><span class="line">    <span class="attr">"prohibition"</span>: [],</span><br><span class="line">    <span class="attr">"obligation"</span>: []</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ポリシの中身は空に見える。 ちなみにレスポンスは以下のような感じ。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"@type"</span>: <span class="string">"IdResponse"</span>,</span><br><span class="line">  <span class="attr">"@id"</span>: <span class="string">"aPolicy"</span>,</span><br><span class="line">  <span class="attr">"createdAt"</span>: <span class="number">1724662296875</span>,</span><br><span class="line">  <span class="attr">"@context"</span>: &#123;</span><br><span class="line">    <span class="attr">"@vocab"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"edc"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"odrl"</span>: <span class="string">"http://www.w3.org/ns/odrl/2/"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>コントラクト定義を作成。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -d @transfer/transfer-01-negotiation/resources/create-contract-definition.json \</span><br><span class="line">  -H 'content-type: application/json' http://localhost:19193/management/v3/contractdefinitions \</span><br><span class="line">  -s | jq</span><br></pre></td></tr></table></figure>
<p>渡しているファイルの中身は以下。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"@context"</span>: &#123;</span><br><span class="line">    <span class="attr">"@vocab"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"@id"</span>: <span class="string">"1"</span>,</span><br><span class="line">  <span class="attr">"accessPolicyId"</span>: <span class="string">"aPolicy"</span>,</span><br><span class="line">  <span class="attr">"contractPolicyId"</span>: <span class="string">"aPolicy"</span>,</span><br><span class="line">  <span class="attr">"assetsSelector"</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>アクセスポリシやコントラクトポリシのIDを渡している。</p>
<p>コンシューマからカタログ情報を取得する。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -X POST "http://localhost:29193/management/v3/catalog/request" \</span><br><span class="line">    -H 'Content-Type: application/json' \</span><br><span class="line">    -d @transfer/transfer-01-negotiation/resources/fetch-catalog.json -s | jq</span><br></pre></td></tr></table></figure>
<p>得られるカタログ。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"@id"</span>: <span class="string">"4ce1bc3d-ce1e-4308-b03e-b6596958a69d"</span>,</span><br><span class="line">  <span class="attr">"@type"</span>: <span class="string">"dcat:Catalog"</span>,</span><br><span class="line">  <span class="attr">"dcat:dataset"</span>: &#123;</span><br><span class="line">    <span class="attr">"@id"</span>: <span class="string">"assetId"</span>,</span><br><span class="line">    <span class="attr">"@type"</span>: <span class="string">"dcat:Dataset"</span>,</span><br><span class="line">    <span class="attr">"odrl:hasPolicy"</span>: &#123;</span><br><span class="line">      <span class="attr">"@id"</span>: <span class="string">"MQ==:YXNzZXRJZA==:Y2ZmODc1NmYtYTRjMC00NzMxLWJlNTItM2M2ZTVlMGI2YzA3"</span>,</span><br><span class="line">      <span class="attr">"@type"</span>: <span class="string">"odrl:Offer"</span>,</span><br><span class="line">      <span class="attr">"odrl:permission"</span>: [],</span><br><span class="line">      <span class="attr">"odrl:prohibition"</span>: [],</span><br><span class="line">      <span class="attr">"odrl:obligation"</span>: []</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"dcat:distribution"</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"@type"</span>: <span class="string">"dcat:Distribution"</span>,</span><br><span class="line">        <span class="attr">"dct:format"</span>: &#123;</span><br><span class="line">          <span class="attr">"@id"</span>: <span class="string">"HttpData-PULL"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"dcat:accessService"</span>: &#123;</span><br><span class="line">          <span class="attr">"@id"</span>: <span class="string">"bb73ab52-bd72-448d-9629-8a21624b0577"</span>,</span><br><span class="line">          <span class="attr">"@type"</span>: <span class="string">"dcat:DataService"</span>,</span><br><span class="line">          <span class="attr">"dcat:endpointDescription"</span>: <span class="string">"dspace:connector"</span>,</span><br><span class="line">          <span class="attr">"dcat:endpointUrl"</span>: <span class="string">"http://localhost:19194/protocol"</span>,</span><br><span class="line">          <span class="attr">"dct:terms"</span>: <span class="string">"dspace:connector"</span>,</span><br><span class="line">          <span class="attr">"dct:endpointUrl"</span>: <span class="string">"http://localhost:19194/protocol"</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"@type"</span>: <span class="string">"dcat:Distribution"</span>,</span><br><span class="line">        <span class="attr">"dct:format"</span>: &#123;</span><br><span class="line">          <span class="attr">"@id"</span>: <span class="string">"HttpData-PUSH"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"dcat:accessService"</span>: &#123;</span><br><span class="line">          <span class="attr">"@id"</span>: <span class="string">"bb73ab52-bd72-448d-9629-8a21624b0577"</span>,</span><br><span class="line">          <span class="attr">"@type"</span>: <span class="string">"dcat:DataService"</span>,</span><br><span class="line">          <span class="attr">"dcat:endpointDescription"</span>: <span class="string">"dspace:connector"</span>,</span><br><span class="line">          <span class="attr">"dcat:endpointUrl"</span>: <span class="string">"http://localhost:19194/protocol"</span>,</span><br><span class="line">          <span class="attr">"dct:terms"</span>: <span class="string">"dspace:connector"</span>,</span><br><span class="line">          <span class="attr">"dct:endpointUrl"</span>: <span class="string">"http://localhost:19194/protocol"</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"product description"</span>,</span><br><span class="line">    <span class="attr">"id"</span>: <span class="string">"assetId"</span>,</span><br><span class="line">    <span class="attr">"contenttype"</span>: <span class="string">"application/json"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"dcat:distribution"</span>: [],</span><br><span class="line">  <span class="attr">"dcat:service"</span>: &#123;</span><br><span class="line">    <span class="attr">"@id"</span>: <span class="string">"bb73ab52-bd72-448d-9629-8a21624b0577"</span>,</span><br><span class="line">    <span class="attr">"@type"</span>: <span class="string">"dcat:DataService"</span>,</span><br><span class="line">    <span class="attr">"dcat:endpointDescription"</span>: <span class="string">"dspace:connector"</span>,</span><br><span class="line">    <span class="attr">"dcat:endpointUrl"</span>: <span class="string">"http://localhost:19194/protocol"</span>,</span><br><span class="line">    <span class="attr">"dct:terms"</span>: <span class="string">"dspace:connector"</span>,</span><br><span class="line">    <span class="attr">"dct:endpointUrl"</span>: <span class="string">"http://localhost:19194/protocol"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"dspace:participantId"</span>: <span class="string">"provider"</span>,</span><br><span class="line">  <span class="attr">"participantId"</span>: <span class="string">"provider"</span>,</span><br><span class="line">  <span class="attr">"@context"</span>: &#123;</span><br><span class="line">    <span class="attr">"@vocab"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"edc"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"dcat"</span>: <span class="string">"http://www.w3.org/ns/dcat#"</span>,</span><br><span class="line">    <span class="attr">"dct"</span>: <span class="string">"http://purl.org/dc/terms/"</span>,</span><br><span class="line">    <span class="attr">"odrl"</span>: <span class="string">"http://www.w3.org/ns/odrl/2/"</span>,</span><br><span class="line">    <span class="attr">"dspace"</span>: <span class="string">"https://w3id.org/dspace/v0.8/"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上記の通り、DCATで定義されている。ODRLで定義されたポリシのIDが示される、など。
他にもHttpDataでデータ共有されることや、サービス情報が載っている。</p>
<p>ここからコンシューマからプロバイダに向けてコントラクト・ネゴシエーションを行う。大まかな流れは以下。</p>
<ul>
<li>コンシューマがコントラクトオファを送る。</li>
<li>プロバイダが自身のオファと照らし合わせ、届いたオファを検証する。</li>
<li>プロバイダがアグリメントか、リジェクションを送る。</li>
<li>検証が成功していれば、アグリメントを保存する。</li>
</ul>
<p><code>negotiate-contract.json</code>
のうち、<code>NaN</code>
となっている箇所を、先程のカタログ情報から拾って埋める。
具体的には、以下のIDで埋める。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">"odrl:hasPolicy": &#123;</span><br><span class="line">  "@id": "MQ==:YXNzZXRJZA==:Y2ZmODc1NmYtYTRjMC00NzMxLWJlNTItM2M2ZTVlMGI2YzA3",</span><br></pre></td></tr></table></figure>
<p>コントラクト・ネゴシエーション実行。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -d @transfer/transfer-01-negotiation/resources/negotiate-contract.json \</span><br><span class="line">  -X POST -H 'content-type: application/json' http://localhost:29193/management/v3/contractnegotiations \</span><br><span class="line">  -s | jq</span><br></pre></td></tr></table></figure>
<p>以下のようなレスポンスが得られる。コントラクト・ネゴシエーション中のIDである。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"@type"</span>: <span class="string">"IdResponse"</span>,</span><br><span class="line">  <span class="attr">"@id"</span>: <span class="string">"4515e87b-5bd0-4c19-aa92-1968b65005e5"</span>,</span><br><span class="line">  <span class="attr">"createdAt"</span>: <span class="number">1724664162792</span>,</span><br><span class="line">  <span class="attr">"@context"</span>: &#123;</span><br><span class="line">    <span class="attr">"@vocab"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"edc"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"odrl"</span>: <span class="string">"http://www.w3.org/ns/odrl/2/"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>コントラクト・ネゴシエーションはプロバイダとコンシューマのそれぞれで非同期的に進む。
最終的に両者がconfirmedかdeclinedになったら終了。</p>
<p>コンシューマでの状態確認。先程得られたIDを使う。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -X GET "http://localhost:29193/management/v3/contractnegotiations/4515e87b-5bd0-4c19-aa92-1968b65005e5" \</span><br><span class="line">    --header 'Content-Type: application/json' \</span><br><span class="line">    -s | jq</span><br></pre></td></tr></table></figure>
<p>以下のように、Finalized担ったことがわかる。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"@type"</span>: <span class="string">"ContractNegotiation"</span>,</span><br><span class="line">  <span class="attr">"@id"</span>: <span class="string">"4515e87b-5bd0-4c19-aa92-1968b65005e5"</span>,</span><br><span class="line">  <span class="attr">"type"</span>: <span class="string">"CONSUMER"</span>,</span><br><span class="line">  <span class="attr">"protocol"</span>: <span class="string">"dataspace-protocol-http"</span>,</span><br><span class="line">  <span class="attr">"state"</span>: <span class="string">"FINALIZED"</span>,</span><br><span class="line">  <span class="attr">"counterPartyId"</span>: <span class="string">"provider"</span>,</span><br><span class="line">  <span class="attr">"counterPartyAddress"</span>: <span class="string">"http://localhost:19194/protocol"</span>,</span><br><span class="line">  <span class="attr">"callbackAddresses"</span>: [],</span><br><span class="line">  <span class="attr">"createdAt"</span>: <span class="number">1724664162792</span>,</span><br><span class="line">  <span class="attr">"contractAgreementId"</span>: <span class="string">"74ed3714-3380-4888-93f9-71b948d09553"</span>,</span><br><span class="line">  <span class="attr">"@context"</span>: &#123;</span><br><span class="line">    <span class="attr">"@vocab"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"edc"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"odrl"</span>: <span class="string">"http://www.w3.org/ns/odrl/2/"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2><span id="transfersample2コンシューマpull">Transfer/Sample2（コンシューマPull）</span></h2>
<p><a href="https://github.com/eclipse-edc/Samples/blob/main/transfer/transfer-02-consumer-pull/README.md" target="_blank" rel="noopener">EDC/Samples/Transfer/Transfer2/README</a>
に記載の通り、以下のステップで進める。</p>
<ul>
<li>コンシューマからファイル転送（の手続き）を始める。</li>
<li>プロバイダが <code>EndpointDataReference</code>
をコンシューマに送る。</li>
<li>コンシューマがエンドポイントを使ってデータをフェッチする。</li>
</ul>
<p>転送開始。 前の章で得られた、コントラクト・アグリメントのIDを
<code>transfer/transfer-02-consumer-pull/resources/start-transfer.json</code>
に埋め込む。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -X POST "http://localhost:29193/management/v3/transferprocesses" \</span><br><span class="line">  -H "Content-Type: application/json" \</span><br><span class="line">  -d @transfer/transfer-02-consumer-pull/resources/start-transfer.json \</span><br><span class="line">  -s | jq</span><br></pre></td></tr></table></figure>
<p>結果は以下の通り。 <code>TransferProcess</code> が生成された。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"@type"</span>: <span class="string">"IdResponse"</span>,</span><br><span class="line">  <span class="attr">"@id"</span>: <span class="string">"0778ef5a-0999-42fb-ad16-6572ca1c04d6"</span>,</span><br><span class="line">  <span class="attr">"createdAt"</span>: <span class="number">1724665640700</span>,</span><br><span class="line">  <span class="attr">"@context"</span>: &#123;</span><br><span class="line">    <span class="attr">"@vocab"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"edc"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"odrl"</span>: <span class="string">"http://www.w3.org/ns/odrl/2/"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>状態を確認する。先程得られたTransferProcessのIDを利用。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl http://localhost:29193/management/v3/transferprocesses/0778ef5a-0999-42fb-ad16-6572ca1c04d6 \</span><br><span class="line">  -s | jq</span><br></pre></td></tr></table></figure>
<p>結果の例。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"@id"</span>: <span class="string">"0778ef5a-0999-42fb-ad16-6572ca1c04d6"</span>,</span><br><span class="line">  <span class="attr">"@type"</span>: <span class="string">"TransferProcess"</span>,</span><br><span class="line">  <span class="attr">"state"</span>: <span class="string">"STARTED"</span>,</span><br><span class="line">  <span class="attr">"stateTimestamp"</span>: <span class="number">1724665641835</span>,</span><br><span class="line">  <span class="attr">"type"</span>: <span class="string">"CONSUMER"</span>,</span><br><span class="line">  <span class="attr">"callbackAddresses"</span>: [],</span><br><span class="line">  <span class="attr">"correlationId"</span>: <span class="string">"f0837ef5-999c-41dc-89b9-74d9337ecb5f"</span>,</span><br><span class="line">  <span class="attr">"assetId"</span>: <span class="string">"assetId"</span>,</span><br><span class="line">  <span class="attr">"contractId"</span>: <span class="string">"74ed3714-3380-4888-93f9-71b948d09553"</span>,</span><br><span class="line">  <span class="attr">"transferType"</span>: <span class="string">"HttpData-PULL"</span>,</span><br><span class="line">  <span class="attr">"@context"</span>: &#123;</span><br><span class="line">    <span class="attr">"@vocab"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"edc"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"odrl"</span>: <span class="string">"http://www.w3.org/ns/odrl/2/"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>state</code> が <code>started</code>
担っていることがわかる。</p>
<p>DTRがコンシューマに送られているはず、さらにキャッシュされているはずなので、それを取得する。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl http://localhost:29193/management/v3/edrs/0778ef5a-0999-42fb-ad16-6572ca1c04d6/dataaddress \</span><br><span class="line">  -s | jq</span><br></pre></td></tr></table></figure>
<p>結果の例。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"@type"</span>: <span class="string">"DataAddress"</span>,</span><br><span class="line">  <span class="attr">"type"</span>: <span class="string">"https://w3id.org/idsa/v4.1/HTTP"</span>,</span><br><span class="line">  <span class="attr">"endpoint"</span>: <span class="string">"http://localhost:19291/public"</span>,</span><br><span class="line">  <span class="attr">"authType"</span>: <span class="string">"bearer"</span>,</span><br><span class="line">  <span class="attr">"endpointType"</span>: <span class="string">"https://w3id.org/idsa/v4.1/HTTP"</span>,</span><br><span class="line">  <span class="attr">"authorization"</span>: <span class="string">"eyJraWQiOiJwdWJsaWMta2V5IiwiYWxnIjoiUlMyNTYifQ.eyJpc3MiOiJwcm92aWRlciIsImF1ZCI6ImNvbnN1bWVyIiwic3ViIjoicHJvdmlkZXIiLCJpYXQiOjE3MjQ2NjU2NDE3NzEsImp0aSI6ImJjNmQ1YzIzLTExMWUtNGZkZi1hMjMwLTJkZjk3NmE3NTFlOSJ9.dYBBx2z2XCjg1TgbEPiDgb2KYdUlNMd7702P4t0NgwYKhDemAKF64qGpLsU63huQ2WMb9Co4sC1euopyY-48F3UvfjK0ulKODlrfVGO-7xvSNs4qX2HVC9JyLGGbdks0wQOkv9oA7AcKxD11yTjcfbtLc-DUoOF4w4RTpI2MATSa-ETvKo_22FxMrIHgnsLOCHtjVLazJchFm4bAhVa7mRfHykkTpIIEaPuqOJpdtKcX1YUAZloFaI1ZinfXNtHjvollVC9Mjb4H12Gh1B7tLxgZ0AbP0izFeOHnQleQ09ZThajwF-xpnPQ5P5fsNiFqthW2A7Gu5-PLGT6tp2lYIg"</span>,</span><br><span class="line">  <span class="attr">"@context"</span>: &#123;</span><br><span class="line">    <span class="attr">"@vocab"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"edc"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"odrl"</span>: <span class="string">"http://www.w3.org/ns/odrl/2/"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上記の通り、エンドポイントURLと認証キーがわかる。
データを取得する。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl --location --request GET 'http://localhost:19291/public/' \</span><br><span class="line">  --header 'Authorization: eyJraWQiOiJwdWJsaWMta2V5IiwiYWxnIjoiUlMyNTYifQ.eyJpc3MiOiJwcm92aWRlciIsImF1ZCI6ImNvbnN1bWVyIiwic3ViIjoicHJvdmlkZXIiLCJpYXQiOjE3MjQ2NjU2NDE3NzEsImp0aSI6ImJjNmQ1YzIzLTExMWUtNGZkZi1hMjMwLTJkZjk3NmE3NTFlOSJ9.dYBBx2z2XCjg1TgbEPiDgb2KYdUlNMd7702P4t0NgwYKhDemAKF64qGpLsU63huQ2WMb9Co4sC1euopyY-48F3UvfjK0ulKODlrfVGO-7xvSNs4qX2HVC9JyLGGbdks0wQOkv9oA7AcKxD11yTjcfbtLc-DUoOF4w4RTpI2MATSa-ETvKo_22FxMrIHgnsLOCHtjVLazJchFm4bAhVa7mRfHykkTpIIEaPuqOJpdtKcX1YUAZloFaI1ZinfXNtHjvollVC9Mjb4H12Gh1B7tLxgZ0AbP0izFeOHnQleQ09ZThajwF-xpnPQ5P5fsNiFqthW2A7Gu5-PLGT6tp2lYIg' \</span><br><span class="line">  -s | jq</span><br></pre></td></tr></table></figure>
<p>以下のような結果が得られる。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[                                                               </span><br><span class="line">  &#123;                                               </span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">1</span>,                                                                                                                                                                         </span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"Leanne Graham"</span>,                                                                                                                                                                                                                                                                                                                                               </span><br><span class="line">    <span class="attr">"username"</span>: <span class="string">"Bret"</span>,                                                                                                                                                                                                                                                                                                                                                    </span><br><span class="line">    <span class="attr">"email"</span>: <span class="string">"Sincere@april.biz"</span>,</span><br><span class="line">    <span class="attr">"address"</span>: &#123;</span><br><span class="line">      <span class="attr">"street"</span>: <span class="string">"Kulas Light"</span>,</span><br><span class="line">      <span class="attr">"suite"</span>: <span class="string">"Apt. 556"</span>,</span><br><span class="line">      <span class="attr">"city"</span>: <span class="string">"Gwenborough"</span>,</span><br><span class="line">      <span class="attr">"zipcode"</span>: <span class="string">"92998-3874"</span>,</span><br><span class="line">      <span class="attr">"geo"</span>: &#123;</span><br><span class="line">        <span class="attr">"lat"</span>: <span class="string">"-37.3159"</span>,</span><br><span class="line">        <span class="attr">"lng"</span>: <span class="string">"81.1496"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">(snip)</span><br></pre></td></tr></table></figure>
<p>https://jsonplaceholder.typicode.com/users
にあるデータをコネクタのコントラクトを通じて得られた。</p>
<p>Pullするときに、以下のようにするとユーザIDを指定できる。</p>
<p>http://localhost:19291/public/1</p>
<h2><span id="transfersample3プロバイダpush">Transfer/Sample3（プロバイダPush）</span></h2>
<p><a href="https://github.com/eclipse-edc/Samples/blob/main/transfer/transfer-03-provider-push/README.md" target="_blank" rel="noopener">EDC/Samples/Transfer/Transfer3/README</a>
に記載の通り、今度はプロバイダからPushする例である。
大まかな流れは以下の通り。</p>
<ul>
<li>ファイル転送
<ul>
<li>コンシューマからファイル転送（の手続き）を始める。</li>
<li>プロバイダのコントロールプレーンが実際のデータのアドレスを取得し、<code>DataRequest</code>
をもとに <code>DataFlowRequest</code> を作成する。</li>
</ul></li>
<li>プロバイダデータプレーンが実際のデータソースからデータを取得。</li>
<li>プロバイダデータプレーンがコンシューマサービスにデータを送る。</li>
</ul>
<p>まずコンシューマ側のバックエンドのロガーを起動する。これがPush先になると見られる。今回はDockerで起動する。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker build -t http-request-logger util/http-request-logger</span><br><span class="line">docker run -p 4000:4000 http-request-logger</span><br></pre></td></tr></table></figure>
<p>続いて以下のファイルを編集した上でTransferProcessを開始する。
<code>transfer/transfer-03-provider-push/resources/start-transfer.json</code>
なお、変更するのはコントラクト・アグリメントIDである。上記のケースでは、
<code>74ed3714-3380-4888-93f9-71b948d09553</code> である。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -X POST "http://localhost:29193/management/v3/transferprocesses" \</span><br><span class="line">    -H "Content-Type: application/json" \</span><br><span class="line">    -d @transfer/transfer-03-provider-push/resources/start-transfer.json \</span><br><span class="line">    -s | jq</span><br></pre></td></tr></table></figure>
<p>なお、 <code>start-transfer.json</code> で指定している
<code>dataDestination</code>
にHttpProxy以外のものを指定しているのがポイントのようだ。</p>
<p>transfer/transfer-03-provider-push/resources/start-transfer.json</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"@context"</span>: &#123;</span><br><span class="line">    <span class="attr">"@vocab"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"@type"</span>: <span class="string">"TransferRequestDto"</span>,</span><br><span class="line">  <span class="attr">"connectorId"</span>: <span class="string">"provider"</span>,</span><br><span class="line">  <span class="attr">"counterPartyAddress"</span>: <span class="string">"http://localhost:19194/protocol"</span>,</span><br><span class="line">  <span class="attr">"contractId"</span>: <span class="string">"74ed3714-3380-4888-93f9-71b948d09553"</span>,</span><br><span class="line">  <span class="attr">"assetId"</span>: <span class="string">"assetId"</span>,</span><br><span class="line">  <span class="attr">"protocol"</span>: <span class="string">"dataspace-protocol-http"</span>,</span><br><span class="line">  <span class="attr">"transferType"</span>: <span class="string">"HttpData-PUSH"</span>,</span><br><span class="line">  <span class="attr">"dataDestination"</span>: &#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"HttpData"</span>,</span><br><span class="line">    <span class="attr">"baseUrl"</span>: <span class="string">"http://localhost:4000/api/consumer/store"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>結果の例。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"@type"</span>: <span class="string">"IdResponse"</span>,</span><br><span class="line">  <span class="attr">"@id"</span>: <span class="string">"105477c9-dbff-4577-adb5-2e860f9be585"</span>,</span><br><span class="line">  <span class="attr">"createdAt"</span>: <span class="number">1724678897615</span>,</span><br><span class="line">  <span class="attr">"@context"</span>: &#123;</span><br><span class="line">    <span class="attr">"@vocab"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"edc"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"odrl"</span>: <span class="string">"http://www.w3.org/ns/odrl/2/"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>結果確認。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl http://localhost:29193/management/v3/transferprocesses/105477c9-dbff-4577-adb5-2e860f9be585 \</span><br><span class="line">  -s | jq</span><br></pre></td></tr></table></figure>
<p>結果の例。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">  "@id": "105477c9-dbff-4577-adb5-2e860f9be585",</span><br><span class="line">  "@type": "TransferProcess",</span><br><span class="line">  "state": "COMPLETED",</span><br><span class="line">  "stateTimestamp": 1724678900583,</span><br><span class="line">  "type": "CONSUMER",</span><br><span class="line">  "callbackAddresses": [],</span><br><span class="line">  "correlationId": "657b63b0-920d-412c-9c09-edb48057e717",</span><br><span class="line">  "assetId": "assetId",</span><br><span class="line">  "contractId": "74ed3714-3380-4888-93f9-71b948d09553",</span><br><span class="line">  "transferType": "HttpData-PUSH",</span><br><span class="line">  "dataDestination": &#123;</span><br><span class="line">    "@type": "DataAddress",</span><br><span class="line">    "type": "HttpData",</span><br><span class="line">    "baseUrl": "http://localhost:4000/api/consumer/store"</span><br><span class="line">  &#125;,</span><br><span class="line">  "@context": &#123;</span><br><span class="line">    "@vocab": "https://w3id.org/edc/v0.0.1/ns/",</span><br><span class="line">    "edc": "https://w3id.org/edc/v0.0.1/ns/",</span><br><span class="line">    "odrl": "http://www.w3.org/ns/odrl/2/"</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Completed</code> である。</p>
<p>ロガーのコンソールに以下の表示。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Incoming request                                                                         </span><br><span class="line">Method: POST                                              </span><br><span class="line">Path: /api/consumer/store</span><br><span class="line">Body:</span><br><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"id"</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"Leanne Graham"</span>,</span><br><span class="line">    <span class="attr">"username"</span>: <span class="string">"Bret"</span>,</span><br><span class="line">    <span class="attr">"email"</span>: <span class="string">"Sincere@april.biz"</span>,</span><br><span class="line">    <span class="attr">"address"</span>: &#123;</span><br><span class="line">      <span class="attr">"street"</span>: <span class="string">"Kulas Light"</span>,</span><br><span class="line">(snip)</span><br></pre></td></tr></table></figure>
<p>これ、Push先のエンドポイントはどうやって知るのか。カタログ？</p>
<h2><span id="transfersample4">Transfer/Sample4</span></h2>
<p><a href="https://github.com/eclipse-edc/Samples/blob/main/transfer/transfer-04-event-consumer/README.md" target="_blank" rel="noopener">EDC/Samples/Transfer/Transfer4/README</a>
の通り、コンシューマで転送完了に反応する機能を追加する。</p>
<p>モジュール構成は以下。</p>
<ul>
<li>consumer-with-listener:
コンシューマ（コネクタ）のイベント・コンシューマ拡張</li>
<li>listener: イベントを処理する <code>TransferProcessListener</code>
の実装</li>
</ul>
<p>ドキュメントでは、 <code>TransferProcessListener</code> の実装として
<code>org.eclipse.edc.sample.extension.listener.TransferProcessStartedListener</code>
を紹介。</p>
<p>エントリポイントは
<code>org.eclipse.edc.sample.extension.listener.TransferProcessStartedListenerExtension</code>
である。</p>
<p>org/eclipse/edc/sample/extension/listener/TransferProcessStartedListenerExtension.java:21
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TransferProcessStartedListenerExtension</span> <span class="keyword">implements</span> <span class="title">ServiceExtension</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">initialize</span><span class="params">(ServiceExtensionContext context)</span> </span>&#123;</span><br><span class="line">        var transferProcessObservable = context.getService(TransferProcessObservable.class);</span><br><span class="line">        var monitor = context.getMonitor();</span><br><span class="line">        transferProcessObservable.registerListener(<span class="keyword">new</span> TransferProcessStartedListener(monitor));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上記の通り、
<code>org.eclipse.edc.sample.extension.listener.TransferProcessStartedListener</code>
をリスナとして登録している。</p>
<p>ポイントは以下。</p>
<p>org/eclipse/edc/sample/extension/listener/TransferProcessStartedListener.java:34</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">preStarted</span><span class="params">(<span class="keyword">final</span> TransferProcess process)</span> </span>&#123;</span><br><span class="line">    monitor.debug(<span class="string">"TransferProcessStartedListener received STARTED event"</span>);</span><br><span class="line">    <span class="comment">// do something meaningful before transfer start</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>START</code> イベントを受け取ったときに、ログに出力する。</p>
<p>このサンプルのビルドと実行をするのだが、その前に前の章まで使用していたコンシューマを止める。</p>
<p>その上で、以下を実行して、Sample4のコンシューマを起動する。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./gradlew transfer:transfer-04-event-consumer:consumer-with-listener:build</span><br><span class="line">java -Dedc.keystore=transfer/transfer-00-prerequisites/resources/certs/cert.pfx -Dedc.keystore.password=123456 -Dedc.fs.config=transfer/transfer-00-prerequisites/resources/configuration/consumer-configuration.properties -jar transfer/transfer-04-event-consumer/consumer-with-listener/build/libs/connector.jar</span><br></pre></td></tr></table></figure>
<p>続いて、新しいコントラクト・ネゴシエーション。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -d @transfer/transfer-01-negotiation/resources/negotiate-contract.json \</span><br><span class="line">  -X POST -H 'content-type: application/json' http://localhost:29193/management/v3/contractnegotiations \</span><br><span class="line">  -s | jq</span><br></pre></td></tr></table></figure>
<p>結果例。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"@type"</span>: <span class="string">"IdResponse"</span>,</span><br><span class="line">  <span class="attr">"@id"</span>: <span class="string">"fe8c4f16-283c-4d74-a440-715e8371d228"</span>,</span><br><span class="line">  <span class="attr">"createdAt"</span>: <span class="number">1724766448685</span>,</span><br><span class="line">  <span class="attr">"@context"</span>: &#123;</span><br><span class="line">    <span class="attr">"@vocab"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"edc"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"odrl"</span>: <span class="string">"http://www.w3.org/ns/odrl/2/"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>先の例と同様にコントラクト・アグリメントIDを取得する。
直前の結果から、コントラクト・ネゴシエーションIDを抜き出して下記のコマンドに入れるのを忘れずに。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -X GET "http://localhost:29193/management/v3/contractnegotiations/fe8c4f16-283c-4d74-a440-715e8371d228" \</span><br><span class="line">    --header 'Content-Type: application/json' \</span><br><span class="line">    -s | jq</span><br></pre></td></tr></table></figure>
<p>結果例。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"@type"</span>: <span class="string">"ContractNegotiation"</span>,</span><br><span class="line">  <span class="attr">"@id"</span>: <span class="string">"fe8c4f16-283c-4d74-a440-715e8371d228"</span>,</span><br><span class="line">  <span class="attr">"type"</span>: <span class="string">"CONSUMER"</span>,</span><br><span class="line">  <span class="attr">"protocol"</span>: <span class="string">"dataspace-protocol-http"</span>,</span><br><span class="line">  <span class="attr">"state"</span>: <span class="string">"FINALIZED"</span>,</span><br><span class="line">  <span class="attr">"counterPartyId"</span>: <span class="string">"provider"</span>,</span><br><span class="line">  <span class="attr">"counterPartyAddress"</span>: <span class="string">"http://localhost:19194/protocol"</span>,</span><br><span class="line">  <span class="attr">"callbackAddresses"</span>: [],</span><br><span class="line">  <span class="attr">"createdAt"</span>: <span class="number">1724766448685</span>,</span><br><span class="line">  <span class="attr">"contractAgreementId"</span>: <span class="string">"8e96f6c5-cb0e-4f06-beb0-ac553ddb160e"</span>,</span><br><span class="line">  <span class="attr">"@context"</span>: &#123;</span><br><span class="line">    <span class="attr">"@vocab"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"edc"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"odrl"</span>: <span class="string">"http://www.w3.org/ns/odrl/2/"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>コントラクト・アグリメントIDは
<code>8e96f6c5-cb0e-4f06-beb0-ac553ddb160e</code> である。</p>
<p>つづいて、
<code>transfer/transfer-02-consumer-pull/resources/start-transfer.json</code>
の今コントラクト・アグリメントIDを書き換えつつ、ファイル転送を開始する。
該当箇所は以下。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"contractId": "8e96f6c5-cb0e-4f06-beb0-ac553ddb160e",</span><br></pre></td></tr></table></figure>
<p>実行コマンドは以下。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -X POST "http://localhost:29193/management/v3/transferprocesses" \</span><br><span class="line">  -H "Content-Type: application/json" \</span><br><span class="line">  -d @transfer/transfer-02-consumer-pull/resources/start-transfer.json \</span><br><span class="line">  -s | jq</span><br></pre></td></tr></table></figure>
<p>実行結果例。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"@type"</span>: <span class="string">"IdResponse"</span>,</span><br><span class="line">  <span class="attr">"@id"</span>: <span class="string">"b4dff4b1-dfb2-470e-a765-7bd549a1e2b6"</span>,</span><br><span class="line">  <span class="attr">"createdAt"</span>: <span class="number">1724766768403</span>,</span><br><span class="line">  <span class="attr">"@context"</span>: &#123;</span><br><span class="line">    <span class="attr">"@vocab"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"edc"</span>: <span class="string">"https://w3id.org/edc/v0.0.1/ns/"</span>,</span><br><span class="line">    <span class="attr">"odrl"</span>: <span class="string">"http://www.w3.org/ns/odrl/2/"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>先ほど起動したコンシューマのコンソールログを見ると</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DEBUG 2024-08-27T22:52:49.930105146 TransferProcessStartedListener received STARTED event</span><br></pre></td></tr></table></figure>
<p>のようなメッセージが見つかるはず。</p>
<h2><span id="transfersample5">Transfer/Sample5</span></h2>
<p>（このサンプルはAzureとAWSの環境が必要なのと手違いの被害が大きいことからメモだけとする）</p>
<p><a href="https://github.com/eclipse-edc/Samples/blob/main/transfer/transfer-05-file-transfer-cloud/README.md" target="_blank" rel="noopener">EDC/Samples/Transfer/Transfer5/README</a>
に記載の通り、これまで実行したサンプルに対し、通常使うであろう機能を足していく。
この例では、具体的には「Azureのストレージから読んで、AWSのストレージに書く」というのを実現する。</p>
<p>なお、環境構成には、Terraformが使われている。
<code>transfer/transfer-05-file-transfer-cloud/terraform</code>
にもろもろ格納されている。
中身を見ると、割といろいろとセットアップしているのがわかる。念の為、潰しても良いクリーンな環境で試すのが良い。
一応６章にて環境をクリーンナップする手順が記載されている。</p>
<p>READMEにある通り、クライアントIDなどはVault内に保持するようになっている。
依存関係にもVaultがある。</p>
<p>transfer/transfer-05-file-transfer-cloud/cloud-transfer-consumer/build.gradle.kts:31</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(snip)</span><br><span class="line">    implementation(libs.edc.vault.azure)</span><br><span class="line">(snip)</span><br></pre></td></tr></table></figure>
<p>今サンプルのメインの一つは、
<code>org.eclipse.edc.sample.extension.transfer.CloudTransferExtension</code>
である。</p>
<p><code>org.eclipse.edc.sample.extension.transfer.CloudTransferExtension#registerDataEntries</code>
メソッドがアセットを定義する。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">registerDataEntries</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      var dataAddress = DataAddress.Builder.newInstance()</span><br><span class="line">              .type(<span class="string">"AzureStorage"</span>)</span><br><span class="line">              .property(<span class="string">"account"</span>, <span class="string">"&lt;storage-account-name&gt;"</span>)</span><br><span class="line">              .property(<span class="string">"container"</span>, <span class="string">"src-container"</span>)</span><br><span class="line">              .property(<span class="string">"blobname"</span>, <span class="string">"test-document.txt"</span>)</span><br><span class="line">              .keyName(<span class="string">"&lt;storage-account-name&gt;-key1"</span>)</span><br><span class="line">              .build();</span><br><span class="line">      var asset = Asset.Builder.newInstance().id(<span class="string">"1"</span>).dataAddress(dataAddress).build();</span><br><span class="line">      assetIndex.create(asset);</span><br></pre></td></tr></table></figure>
<p>なお、<code>org.eclipse.edc.connector.controlplane.policy.spi.store.PolicyDefinitionStore</code>
と
<code>org.eclipse.edc.connector.controlplane.contract.spi.offer.store.ContractDefinitionStore</code>
があり、それぞれポリシとコントラクトを保持する。今回のサンプルではインメモリで保持する実装を利用。</p>
<p>このあとはいつもどおり、コントラクト・ネゴシエーションしてコントラクト・アグリメントIDを取得し、実際のデータ転送。
ほぼこれまで通りだが、dataDestinationでAWS
S3を指定しているところがポイント。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">curl --location --request POST 'http://localhost:9192/management/v3/transferprocesses' \</span><br><span class="line">--header 'X-API-Key: password' \</span><br><span class="line">--header 'Content-Type: application/json' \</span><br><span class="line">--data-raw '</span><br><span class="line">&#123;</span><br><span class="line">  "counterPartyAddress": "http://localhost:8282/protocol",</span><br><span class="line">  "protocol": "dataspace-protocol-http",</span><br><span class="line">  "connectorId": "consumer",</span><br><span class="line">  "assetId": "1",</span><br><span class="line">  "contractId": "&lt;ContractAgreementId&gt;",</span><br><span class="line">  "dataDestination": &#123;</span><br><span class="line">    "type": "AmazonS3",</span><br><span class="line">    "region": "us-east-1",</span><br><span class="line">    "bucketName": "&lt;Unique bucket name&gt;"</span><br><span class="line">  &#125;,</span><br><span class="line">  "transferType": &#123;</span><br><span class="line">    "contentType": "application/octet-stream",</span><br><span class="line">    "isFinite": true</span><br><span class="line">  &#125;</span><br><span class="line">&#125;'</span><br></pre></td></tr></table></figure>
<h1><span id="参考">参考</span></h1>
<h2><span id="レポジトリ内">レポジトリ内</span></h2>
<ul>
<li><a href="https://github.com/eclipse-edc/Samples" target="_blank" rel="noopener">EDC/Samples</a></li>
<li><a href="https://github.com/eclipse-edc/Samples?tab=readme-ov-file#edc-samples" target="_blank" rel="noopener">EDC/Samples/README</a></li>
<li><a href="https://github.com/eclipse-edc/Samples/blob/main/basic/README.md" target="_blank" rel="noopener">EDC/Samples/Basic/README</a></li>
<li><a href="https://github.com/eclipse-edc/Samples/blob/main/basic/basic-01-basic-connector/README.md" target="_blank" rel="noopener">EDC/Samples/Basic/Basic1/README</a></li>
<li><a href="https://github.com/eclipse-edc/Samples/blob/main/basic/basic-01-basic-connector/build.gradle.kts" target="_blank" rel="noopener">EDC/Samples/Basic/Basic1/build.gradle.kts</a></li>
<li><a href="https://github.com/eclipse-edc/Samples/blob/main/basic/basic-02-health-endpoint/README.md" target="_blank" rel="noopener">EDC/Samples/Basic/Basic2/README</a></li>
<li><a href="https://github.com/eclipse-edc/Samples/blob/main/basic/basic-03-configuration/README.md" target="_blank" rel="noopener">EDC/Samples/Basic/Basic3/README</a></li>
<li><a href="https://github.com/eclipse-edc/Samples/blob/main/transfer/transfer-00-prerequisites/README.md" target="_blank" rel="noopener">EDC/Samples/Transfer/Transfer0/README</a></li>
<li><a href="https://github.com/eclipse-edc/Samples/blob/main/transfer/transfer-01-negotiation/README.md" target="_blank" rel="noopener">EDC/Samples/Transfer/Transfer1/README</a></li>
<li><a href="https://github.com/eclipse-edc/Samples/blob/main/transfer/transfer-02-consumer-pull/README.md" target="_blank" rel="noopener">EDC/Samples/Transfer/Transfer2/README</a></li>
<li><a href="https://github.com/eclipse-edc/Samples/blob/main/transfer/transfer-03-provider-push/README.md" target="_blank" rel="noopener">EDC/Samples/Transfer/Transfer3/README</a></li>
<li><a href="https://github.com/eclipse-edc/Samples/blob/main/transfer/transfer-04-event-consumer/README.md" target="_blank" rel="noopener">EDC/Samples/Transfer/Transfer4/README</a></li>
<li><a href="https://github.com/eclipse-edc/Samples/blob/main/transfer/transfer-05-file-transfer-cloud/README.md" target="_blank" rel="noopener">EDC/Samples/Transfer/Transfer5/README</a></li>
</ul>
<h2><span id="edcレポジトリ">EDCレポジトリ</span></h2>
<ul>
<li><a href="https://github.com/eclipse-edc/Connector/blob/releases/core/common/boot/src/main/java/org/eclipse/edc/boot/system/runtime/BaseRuntime.java" target="_blank" rel="noopener">BaseRuntime</a></li>
</ul>
<h2><span id="外部">外部</span></h2>
<ul>
<li><p><a href="https://eclipse-edc.github.io/docs/#/" target="_blank" rel="noopener">EDC/documentation</a></p></li>
<li><p><a href="https://www.youtube.com/@eclipsedataspaceconnector9622/featured" target="_blank" rel="noopener">EDC/YT</a></p></li>
<li><p><a href="https://eclipse-ee4j.github.io/jersey/" target="_blank" rel="noopener">Jersey</a></p></li>
<li><p><a href="https://github.com/dobachi/EDCSampleAnsible" target="_blank" rel="noopener">dobachi/EDCSampleAnsible</a></p></li>
</ul>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2024/02/24/EDCSample/" data-id="cm0tojmj701gs18o511p8wxdj" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-Dataspace-Protocol-of-EDC" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2023/09/20/Dataspace-Protocol-of-EDC/">Dataspace Protocol of EDC</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2023/09/20/Dataspace-Protocol-of-EDC/">
            <time datetime="2023-09-20T14:07:49.000Z" itemprop="datePublished">2023-09-20</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Data-Spaces/">Data Spaces</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Data-Spaces/EDC/">EDC</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/Data-Spaces/">Data Spaces</a>, <a class="tag-link" href="/memo-blog/tags/Dataspace-Protocol/">Dataspace Protocol</a>, <a class="tag-link" href="/memo-blog/tags/EDC/">EDC</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#dsp-data-planeの実装を確認する" id="toc-dsp-data-planeの実装を確認する">DSP Data
Planeの実装を確認する</a></li>
<li><a href="#おまけ古いdata-planeの実装を確認するhttpの例" id="toc-おまけ古いdata-planeの実装を確認するhttpの例">おまけ）古い（？）Data
Planeの実装を確認する（HTTPの例）</a></li>
</ul></li>
<li><a href="#参考" id="toc-参考">参考</a>
<ul>
<li><a href="#ドキュメント" id="toc-ドキュメント">ドキュメント</a></li>
<li><a href="#ソースコード" id="toc-ソースコード">ソースコード</a></li>
</ul></li>
</ul>
</div>
<h1><span id="メモ">メモ</span></h1>
<p>注意：このメモはかなり初期のものなので、今となっては怪しい内容が含まれてる・・・。</p>
<p>EDCは現在IDSが提唱する、Dataspace
Protocolにしたがって、コネクタ間でやりとりする。</p>
<h2><span id="dsp-dataplaneの実装を確認する">DSP Data
Planeの実装を確認する</span></h2>
<p><code>data-protocols/dsp</code> （<a href="https://github.com/eclipse-edc/Connector/tree/main/data-protocols/dsp" target="_blank" rel="noopener">dsp</a>）以下に、Dataspace
Protocolに対応したモジュールが含まれている。</p>
<p>例えば、<code>org.eclipse.edc.protocol.dsp.dispatcher.PostDspHttpRequestFactory</code>、<code>org.eclipse.edc.protocol.dsp.dispatcher.GetDspHttpRequestFactory</code>などのファクトリが定義されている。
これは、前述のPOST、GETオペレーションに対応するリクエストを生成するためのファクトリである。</p>
<p>以下は、カタログのリクエストを送るための実装である。</p>
<p>org/eclipse/edc/protocol/dsp/catalog/dispatcher/DspCatalogHttpDispatcherExtension.java:54</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">initialize</span><span class="params">(ServiceExtensionContext context)</span> </span>&#123;</span><br><span class="line">    messageDispatcher.registerMessage(</span><br><span class="line">            CatalogRequestMessage.class,</span><br><span class="line">            <span class="keyword">new</span> PostDspHttpRequestFactory&lt;&gt;(remoteMessageSerializer, m -&gt; BASE_PATH + CATALOG_REQUEST),</span><br><span class="line">            <span class="keyword">new</span> CatalogRequestHttpRawDelegate()</span><br><span class="line">    );</span><br><span class="line">    messageDispatcher.registerMessage(</span><br><span class="line">            DatasetRequestMessage.class,</span><br><span class="line">            <span class="keyword">new</span> GetDspHttpRequestFactory&lt;&gt;(m -&gt; BASE_PATH + DATASET_REQUEST + <span class="string">"/"</span> + m.getDatasetId()),</span><br><span class="line">            <span class="keyword">new</span> DatasetRequestHttpRawDelegate()</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>他にも、<code>org.eclipse.edc.protocol.dsp.transferprocess.dispatcher.DspTransferProcessDispatcherExtension</code>などが挙げられる。
これは以下のように、<code>org.eclipse.edc.connector.transfer.spi.types.protocol.TransferRequestMessage</code>が含まれており、ConsumerがProviderにデータ転送プロセスをリクエストする際のメッセージのディスパッチャが登録されていることがわかる。</p>
<p>org/eclipse/edc/protocol/dsp/transferprocess/dispatcher/DspTransferProcessDispatcherExtension.java:60</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">initialize</span><span class="params">(ServiceExtensionContext context)</span> </span>&#123;</span><br><span class="line">    messageDispatcher.registerMessage(</span><br><span class="line">            TransferRequestMessage.class,</span><br><span class="line">            <span class="keyword">new</span> PostDspHttpRequestFactory&lt;&gt;(remoteMessageSerializer, m -&gt; BASE_PATH + TRANSFER_INITIAL_REQUEST),</span><br><span class="line">            <span class="keyword">new</span> TransferRequestDelegate(remoteMessageSerializer)</span><br><span class="line">    );</span><br><span class="line">    messageDispatcher.registerMessage(</span><br><span class="line">            TransferCompletionMessage.class,</span><br><span class="line">            <span class="keyword">new</span> PostDspHttpRequestFactory&lt;&gt;(remoteMessageSerializer, m -&gt; BASE_PATH + m.getProcessId() + TRANSFER_COMPLETION),</span><br><span class="line">            <span class="keyword">new</span> TransferCompletionDelegate(remoteMessageSerializer)</span><br><span class="line">    );</span><br><span class="line">    messageDispatcher.registerMessage(</span><br><span class="line">            TransferStartMessage.class,</span><br><span class="line">            <span class="keyword">new</span> PostDspHttpRequestFactory&lt;&gt;(remoteMessageSerializer, m -&gt; BASE_PATH + m.getProcessId() + TRANSFER_START),</span><br><span class="line">            <span class="keyword">new</span> TransferStartDelegate(remoteMessageSerializer)</span><br><span class="line">    );</span><br><span class="line">    messageDispatcher.registerMessage(</span><br><span class="line">            TransferTerminationMessage.class,</span><br><span class="line">            <span class="keyword">new</span> PostDspHttpRequestFactory&lt;&gt;(remoteMessageSerializer, m -&gt; BASE_PATH + m.getProcessId() + TRANSFER_TERMINATION),</span><br><span class="line">            <span class="keyword">new</span> TransferTerminationDelegate(remoteMessageSerializer)</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>◆参考情報はじめ</p>
<p>このファクトリは、ディスパッチャの
<code>org.eclipse.edc.protocol.dsp.dispatcher.DspHttpRemoteMessageDispatcherImpl#dispatch</code>
メソッドから、間接的に呼び出されて利用される。
このメソッドは<code>org.eclipse.edc.spi.message.RemoteMessageDispatcher#dispatch</code>メソッドを実装したものである。ディスパッチャとして、リモートへ送信するメッセージ生成をディスパッチするための。メソッドである。
さらに、これは
<code>org.eclipse.edc.connector.core.base.RemoteMessageDispatcherRegistryImpl</code>
内で使われている。ディスパッチャのレジストリ内で、ディスパッチ処理が起動、管理されるようだ。
なお、これは<code>org.eclipse.edc.spi.message.RemoteMessageDispatcherRegistry#dispatch</code>
を実装したものである。このメソッドは、色々なところから呼び出される。</p>
<p>例えば、TransferCoreExtensionクラスではサービス起動時に、転送プロセスを管理する<code>org.eclipse.edc.connector.transfer.process.TransferProcessManagerImpl</code>を起動する。</p>
<p>org/eclipse/edc/connector/transfer/TransferCoreExtension.java:205</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    processManager.start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>これにより、以下のようにステートマシンがビルド、起動され、各プロセッサが登録される。</p>
<p>org/eclipse/edc/connector/transfer/process/TransferProcessManagerImpl.java:143</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">stateMachineManager = StateMachineManager.Builder.newInstance(<span class="string">"transfer-process"</span>, monitor, executorInstrumentation, waitStrategy)</span><br><span class="line">        .processor(processTransfersInState(INITIAL, <span class="keyword">this</span>::processInitial))</span><br><span class="line">        .processor(processTransfersInState(PROVISIONING, <span class="keyword">this</span>::processProvisioning))</span><br><span class="line">        .processor(processTransfersInState(PROVISIONED, <span class="keyword">this</span>::processProvisioned))</span><br><span class="line">        .processor(processTransfersInState(REQUESTING, <span class="keyword">this</span>::processRequesting))</span><br><span class="line">        .processor(processTransfersInState(STARTING, <span class="keyword">this</span>::processStarting))</span><br><span class="line">        .processor(processTransfersInState(STARTED, <span class="keyword">this</span>::processStarted))</span><br><span class="line">        .processor(processTransfersInState(COMPLETING, <span class="keyword">this</span>::processCompleting))</span><br><span class="line">        .processor(processTransfersInState(TERMINATING, <span class="keyword">this</span>::processTerminating))</span><br><span class="line">        .processor(processTransfersInState(DEPROVISIONING, <span class="keyword">this</span>::processDeprovisioning))</span><br><span class="line">        .build();</span><br><span class="line">stateMachineManager.start();</span><br></pre></td></tr></table></figure>
<p>上記のプロセッサとして登録されている<code>org.eclipse.edc.connector.transfer.process.TransferProcessManagerImpl#processStarting</code>の中では
<code>org.eclipse.edc.connector.transfer.process.TransferProcessManagerImpl#sendTransferStartMessage</code>
が呼び出されている。</p>
<p>org/eclipse/edc/connector/transfer/process/TransferProcessManagerImpl.java:376</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> entityRetryProcessFactory.doSyncProcess(process, () -&gt; dataFlowManager.initiate(process.getDataRequest(), contentAddress, policy))</span><br><span class="line">        .onSuccess((p, dataFlowResponse) -&gt; sendTransferStartMessage(p, dataFlowResponse, policy))</span><br><span class="line">        .onFatalError((p, failure) -&gt; transitionToTerminating(p, failure.getFailureDetail()))</span><br><span class="line">        .onFailure((t, failure) -&gt; transitionToStarting(t))</span><br><span class="line">        .onRetryExhausted((p, failure) -&gt; transitionToTerminating(p, failure.getFailureDetail()))</span><br><span class="line">        .execute(description);</span><br></pre></td></tr></table></figure>
<p><code>org.eclipse.edc.connector.transfer.process.TransferProcessManagerImpl#sendTransferStartMessage</code>
メソッド内では、
<code>org.eclipse.edc.connector.transfer.spi.types.protocol.TransferStartMessage</code>のメッセージがビルドされ、
ディスパッチャにメッセージとして渡される。</p>
<p>org/eclipse/edc/connector/transfer/process/TransferProcessManagerImpl.java:386</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">var message = TransferStartMessage.Builder.newInstance()</span><br><span class="line">        .processId(process.getCorrelationId())</span><br><span class="line">        .protocol(process.getProtocol())</span><br><span class="line">        .dataAddress(dataFlowResponse.getDataAddress())</span><br><span class="line">        .counterPartyAddress(process.getConnectorAddress())</span><br><span class="line">        .policy(policy)</span><br><span class="line">        .build();</span><br><span class="line"></span><br><span class="line">var description = format(<span class="string">"Send %s to %s"</span>, message.getClass().getSimpleName(), process.getConnectorAddress());</span><br><span class="line"></span><br><span class="line">entityRetryProcessFactory.doAsyncStatusResultProcess(process, () -&gt; dispatcherRegistry.dispatch(Object.class, message))</span><br><span class="line">        .entityRetrieve(id -&gt; transferProcessStore.findById(id))</span><br><span class="line">        .onSuccess((t, content) -&gt; transitionToStarted(t))</span><br><span class="line">        .onFailure((t, throwable) -&gt; transitionToStarting(t))</span><br><span class="line">        .onFatalError((n, failure) -&gt; transitionToTerminated(n, failure.getFailureDetail()))</span><br><span class="line">        .onRetryExhausted((t, throwable) -&gt; transitionToTerminating(t, throwable.getMessage(), throwable))</span><br><span class="line">        .execute(description);</span><br></pre></td></tr></table></figure>
<p>◆参考情報おわり</p>
<p>ということで、<code>org.eclipse.edc.protocol.dsp.spi.dispatcher.DspHttpRemoteMessageDispatcher</code>というディスパッチャは、Dataspace
Protocolに基づくリモートメッセージを生成する際に用いられるディスパッチャである。</p>
<h2><span id="おまけ古いdataplaneの実装を確認するhttpの例">おまけ）古い（？）Data
Planeの実装を確認する（HTTPの例）</span></h2>
<p>Dataspace Protocol以前の実装か？</p>
<p><code>extensions/data-plane</code> 以下にData
Planeの実装が拡張として含まれている。</p>
<p>例えば、 <code>extensions/data-plane/data-plane-http</code>
には、HTTPを用いてデータ共有するための拡張の実装が含まれている。
当該拡張のREADMEの通り、 （transfer APIの）<code>DataFlowRequest</code>
が<code>HttpData</code>だった場合に、</p>
<ul>
<li>HttpDataSourceFactory</li>
<li>HttpDataSinkFactory</li>
<li>HttpDataSource</li>
<li>HttpDataSink</li>
</ul>
<p>の実装が用いられる。パラメータもREADMEに（<a href="https://github.com/eclipse-edc/Connector/blob/main/extensions/data-plane/data-plane-http/README.md#design-principles" target="_blank" rel="noopener">data-plane-httpのデザイン指針</a>）記載されている。
基本的には、バックエンドがHTTPなのでそれにアクセスするためのパラメータが定義されている。</p>
<p>当該ファクトリは、
<code>org.eclipse.edc.connector.dataplane.http.DataPlaneHttpExtension#initialize</code>
内で用いられている。</p>
<p>org/eclipse/edc/connector/dataplane/http/DataPlaneHttpExtension.java:75</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var httpRequestFactory = <span class="keyword">new</span> HttpRequestFactory();</span><br><span class="line"></span><br><span class="line">var sourceFactory = <span class="keyword">new</span> HttpDataSourceFactory(httpClient, paramsProvider, monitor, httpRequestFactory);</span><br><span class="line">pipelineService.registerFactory(sourceFactory);</span><br><span class="line"></span><br><span class="line">var sinkFactory = <span class="keyword">new</span> HttpDataSinkFactory(httpClient, executorContainer.getExecutorService(), sinkPartitionSize, monitor, paramsProvider, httpRequestFactory);</span><br><span class="line">pipelineService.registerFactory(sinkFactory);</span><br></pre></td></tr></table></figure>
<p>ここでは、試しにData Source側を確認してみる。</p>
<p>org/eclipse/edc/connector/dataplane/http/pipeline/HttpDataSourceFactory.java:63</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> DataSource <span class="title">createSource</span><span class="params">(DataFlowRequest request)</span> </span>&#123;</span><br><span class="line">    var dataAddress = HttpDataAddress.Builder.newInstance()</span><br><span class="line">            .copyFrom(request.getSourceDataAddress())</span><br><span class="line">            .build();</span><br><span class="line">    <span class="keyword">return</span> HttpDataSource.Builder.newInstance()</span><br><span class="line">            .httpClient(httpClient)</span><br><span class="line">            .monitor(monitor)</span><br><span class="line">            .requestId(request.getId())</span><br><span class="line">            .name(dataAddress.getName())</span><br><span class="line">            .params(requestParamsProvider.provideSourceParams(request))</span><br><span class="line">            .requestFactory(requestFactory)</span><br><span class="line">            .build();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上記の通り、まずデータのアドレスを格納するインスタンスが生成され、
つづいて、HTTPのデータソースがビルドされる。</p>
<p>HTTPのData Sourceの実体は
<code>org.eclipse.edc.connector.dataplane.http.pipeline.HttpDataSource</code>
である。 このクラスはSPIの
<code>org.eclipse.edc.connector.dataplane.spi.pipeline.DataSource</code>インタフェースを実装したものである。</p>
<p><code>org.eclipse.edc.connector.dataplane.http.pipeline.HttpDataSource#openPartStream</code>
がオーバライドされて実装されている。 詳しくは、<a href="https://github.com/eclipse-edc/Connector/blob/main/extensions/data-plane/data-plane-http/src/main/java/org/eclipse/edc/connector/dataplane/http/pipeline/HttpDataSource.java#L48" target="_blank" rel="noopener">openPartStream</a>参照。</p>
<h1><span id="参考">参考</span></h1>
<h2><span id="ドキュメント">ドキュメント</span></h2>
<ul>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/extensions/data-plane/data-plane-http/README.md#design-principles" target="_blank" rel="noopener">data-plane-httpのデザイン指針</a></li>
</ul>
<h2><span id="ソースコード">ソースコード</span></h2>
<ul>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/extensions/data-plane/data-plane-http/src/main/java/org/eclipse/edc/connector/dataplane/http/pipeline/HttpDataSource.java#L48" target="_blank" rel="noopener">openPartStream</a></li>
<li><a href="https://github.com/eclipse-edc/Connector/tree/main/data-protocols/dsp" target="_blank" rel="noopener">dsp</a></li>
</ul>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2023/09/20/Dataspace-Protocol-of-EDC/" data-id="cm0tojmg9017o18o54o5o81iy" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-Generate-OpenAPI-Spec-of-EDC-Connector" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2023/09/09/Generate-OpenAPI-Spec-of-EDC-Connector/">Generate OpenAPI Spec of EDC Connector</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2023/09/09/Generate-OpenAPI-Spec-of-EDC-Connector/">
            <time datetime="2023-09-09T13:26:58.000Z" itemprop="datePublished">2023-09-09</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Data-Spaces/">Data Spaces</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Data-Spaces/EDC/">EDC</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/Data-Spaces/">Data Spaces</a>, <a class="tag-link" href="/memo-blog/tags/EDC/">EDC</a>, <a class="tag-link" href="/memo-blog/tags/OpenAPI/">OpenAPI</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#準備" id="toc-準備">準備</a></li>
<li><a href="#生成" id="toc-生成">生成</a></li>
<li><a href="#data-planeの中身を軽く確認" id="toc-data-planeの中身を軽く確認">Data Planeの中身を軽く確認</a>
<ul>
<li><a href="#概要" id="toc-概要">概要</a></li>
<li><a href="#paths" id="toc-paths">paths</a></li>
</ul></li>
<li><a href="#transfer-data-plane" id="toc-transfer-data-plane">Transfer
Data Plane</a></li>
<li><a href="#control-plane-api" id="toc-control-plane-api">control-plane-api</a>
<ul>
<li><a href="#transferprocessprocessidcomplete" id="toc-transferprocessprocessidcomplete">/transferprocess/{processId}/complete</a></li>
<li><a href="#transferprocessprocessidfail" id="toc-transferprocessprocessidfail">/transferprocess/{processId}/fail</a></li>
<li><a href="#マネージメントapiの類" id="toc-マネージメントapiの類">マネージメントAPIの類</a></li>
</ul></li>
<li><a href="#dataspace-protocol-architecture" id="toc-dataspace-protocol-architecture">Dataspace Protocol
Architecture</a>
<ul>
<li><a href="#後方互換性" id="toc-後方互換性">後方互換性</a></li>
<li><a href="#ゴール" id="toc-ゴール">ゴール</a></li>
<li><a href="#アプローチ" id="toc-アプローチ">アプローチ</a></li>
<li><a href="#json-ld-processing-architecture" id="toc-json-ld-processing-architecture">JSON-LD Processing
Architecture</a></li>
<li><a href="#dataspace-protocol-endpoints-and-services-architecture" id="toc-dataspace-protocol-endpoints-and-services-architecture">Dataspace
Protocol Endpoints and Services Architecture</a></li>
<li><a href="#dataspace-protocol-contract-negotiation-architecture" id="toc-dataspace-protocol-contract-negotiation-architecture">Dataspace
Protocol Contract Negotiation Architecture</a></li>
</ul></li>
</ul></li>
<li><a href="#参考" id="toc-参考">参考</a>
<ul>
<li><a href="#プロジェクト" id="toc-プロジェクト">プロジェクト</a></li>
<li><a href="#ドキュメント" id="toc-ドキュメント">ドキュメント</a></li>
<li><a href="#ソースコード" id="toc-ソースコード">ソースコード</a></li>
</ul></li>
</ul>
</div>
<h1><span id="メモ">メモ</span></h1>
<p>EDCのConnectorのOpenAPIスペックを出力するための手順が<a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/openapi.md" target="_blank" rel="noopener">Generating
the OpenApi Spec (*.yaml)</a>に記載されている。
これに従い、試しに出力してみることにする。</p>
<p>ただ、このSpecはいわゆる現在EDCが採用している、Dataspace
Protocol仕様ではないものが含まれている可能性が高い。
pathが<code>/v2</code>となっているのは、Dataspace Protocol準拠か？ →
実際に調べてみると、v2が必ずしも、Dataspace
Protocol向けというわけではなさそうである。</p>
<p>ちなみに、参考までに、IDSA Dataspace ConnectorのOpenAPI Specは <a href="https://github.com/International-Data-Spaces-Association/DataspaceConnector/blob/main/openapi.yaml" target="_blank" rel="noopener">Dataspace
ConnectorのOpenAPI Spec</a> にある。
このコネクタは昨年からあまり更新されていないので注意。</p>
<h2><span id="準備">準備</span></h2>
<p>もしまだソースコードを取得していなければ取得しておく。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git pull git@github.com:eclipse-edc/Connector.git</span><br><span class="line"><span class="built_in">cd</span> Connector</span><br></pre></td></tr></table></figure>
<h2><span id="生成">生成</span></h2>
<p>ビルド環境にはJDK17を利用したいので、今回はDockerで簡単に用意する。</p>
<p>そのまま実行する場合：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --rm -v <span class="variable">$&#123;PWD&#125;</span>:/<span class="built_in">local</span> --workdir /<span class="built_in">local</span> openjdk:17-alpine  ./gradlew clean resolve</span><br></pre></td></tr></table></figure>
<p>いったんシェル立ち上げる場合：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --rm -v <span class="variable">$&#123;PWD&#125;</span>:/<span class="built_in">local</span> --workdir /<span class="built_in">local</span> openjdk:17-alpine sh</span><br><span class="line">./gradlew clean resolve</span><br></pre></td></tr></table></figure>
<p><code>BUILD SUCCESSFUL</code>となったらOK。</p>
<p>ちなみに、このYAMLファイル生成は自前のビルドツールを用いているようだ。参考：<a href="https://github.com/eclipse-edc/GradlePlugins/blob/main/plugins/edc-build/src/main/java/org/eclipse/edc/plugins/edcbuild/extensions/SwaggerGeneratorExtension.java" target="_blank" rel="noopener">SwaggerGeneratorExtension</a></p>
<h2><span id="data-planeの中身を軽く確認">Data Planeの中身を軽く確認</span></h2>
<p><code>resources/openapi/yaml/control-api/data-plane-api.yaml</code>
にある、Data Planeを試しに見てみる。</p>
<h3><span id="概要">概要</span></h3>
<p>description部分を機械翻訳したのが以下である。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Data PlaneのパブリックAPIはデータプロキシであり、データコンシューマがData Planeインスタンスを通じて、プロバイダのデータソース（バックエンドのRest APIや内部データベースなど）から能動的にデータを問い合わせることを可能にします。</span><br><span class="line">Data PlaneのパブリックAPIはプロキシであるため、すべての動詞（GET、POST、PUT、PATCH、DELETEなど）をサポートしており、データソースが必要になるまでデータを転送することができます。これは、実際のデータソースがRest APIそのものである場合に特に便利です。同じように、任意のクエリパラメータ、パスパラメータ、リクエストボディのセットも（HTTPサーバによって固定された範囲内で）サポートされ、実際のデータソースに伝えることができます。</span><br></pre></td></tr></table></figure>
<p>企業が持つデータストアをデータソースとしてデータ連携する際、そのプロキシとして働く。</p>
<h3><span id="paths">paths</span></h3>
<p>APIのパスを確認する。</p>
<h4><span id="transfer">transfer</span></h4>
<p>データ転送をリクエストする。
リクエストボディには、データ転送のリクエスト情報が含まれる。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">/transfer:</span></span><br><span class="line"><span class="attr">  post:</span></span><br><span class="line"><span class="attr">    description:</span> <span class="string">Initiates</span> <span class="string">a</span> <span class="string">data</span> <span class="string">transfer</span> <span class="string">for</span> <span class="string">the</span> <span class="string">given</span> <span class="string">request.</span> <span class="string">The</span> <span class="string">transfer</span> <span class="string">will</span></span><br><span class="line">      <span class="string">be</span> <span class="string">performed</span> <span class="string">asynchronously.</span></span><br><span class="line"><span class="attr">    operationId:</span> <span class="string">initiateTransfer</span></span><br><span class="line"><span class="attr">    requestBody:</span></span><br><span class="line"><span class="attr">      content:</span></span><br><span class="line">        <span class="string">application/json:</span></span><br><span class="line"><span class="attr">          schema:</span></span><br><span class="line">            <span class="string">$ref:</span> <span class="string">'#/components/schemas/DataFlowRequest'</span></span><br><span class="line"><span class="attr">    responses:</span></span><br><span class="line">      <span class="string">"200"</span><span class="string">:</span></span><br><span class="line"><span class="attr">        description:</span> <span class="string">Data</span> <span class="string">transfer</span> <span class="string">initiated</span></span><br><span class="line">      <span class="string">"400"</span><span class="string">:</span></span><br><span class="line"><span class="attr">        description:</span> <span class="string">Failed</span> <span class="string">to</span> <span class="string">validate</span> <span class="string">request</span></span><br><span class="line"><span class="attr">    tags:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">Data</span> <span class="string">Plane</span> <span class="string">control</span> <span class="string">API</span></span><br></pre></td></tr></table></figure>
<h4><span id="transferprocessid">transfer/{processId}</span></h4>
<p>パラメータ<code>processId</code>で与えられたIDのデータ転送処理の状態を確認する。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">/transfer/&#123;processId&#125;:</span></span><br><span class="line"><span class="attr">  get:</span></span><br><span class="line"><span class="attr">    description:</span> <span class="string">Get</span> <span class="string">the</span> <span class="string">current</span> <span class="string">state</span> <span class="string">of</span> <span class="string">a</span> <span class="string">data</span> <span class="string">transfer.</span></span><br><span class="line"><span class="attr">    operationId:</span> <span class="string">getTransferState</span></span><br><span class="line"><span class="attr">    parameters:</span></span><br><span class="line"><span class="attr">    - in:</span> <span class="string">path</span></span><br><span class="line"><span class="attr">      name:</span> <span class="string">processId</span></span><br><span class="line"><span class="attr">      required:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">      schema:</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">    responses:</span></span><br><span class="line">      <span class="string">"200"</span><span class="string">:</span></span><br><span class="line"><span class="attr">        description:</span> <span class="string">Missing</span> <span class="string">access</span> <span class="string">token</span></span><br><span class="line"><span class="attr">    tags:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">Data</span> <span class="string">Plane</span> <span class="string">control</span> <span class="string">API</span></span><br></pre></td></tr></table></figure>
<h4><span id="any">/{any}</span></h4>
<p><code>/{any}</code>以下にはDELETE、GET、PATCH、POST、PUTのOperationが定義されている。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">/&#123;any&#125;:</span></span><br><span class="line"><span class="attr">  delete:</span></span><br><span class="line">  <span class="string">(snip)</span></span><br><span class="line"><span class="attr">  get:</span></span><br><span class="line">  <span class="string">(snip)</span></span><br><span class="line"><span class="attr">  patch:</span></span><br><span class="line">  <span class="string">(snip)</span></span><br><span class="line"><span class="attr">  post:</span></span><br><span class="line">  <span class="string">(snip)</span></span><br><span class="line"><span class="attr">  put:</span></span><br></pre></td></tr></table></figure>
<p>単純にデータを取得するだけではない。</p>
<h2><span id="transfer-data-plane">Transfer Data Plane</span></h2>
<p><code>resources/openapi/yaml/control-api/transfer-data-plane.yaml</code>
に含まれるのは以下のSpecだった。
トークンを受け取り検証するAPIのようだ。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">openapi:</span> <span class="number">3.0</span><span class="number">.1</span></span><br><span class="line"><span class="attr">paths:</span></span><br><span class="line">  <span class="string">/token:</span></span><br><span class="line"><span class="attr">    get:</span></span><br><span class="line"><span class="attr">      description:</span> <span class="string">"Checks that the provided token has been signed by the present\</span></span><br><span class="line"><span class="string">        \ entity and asserts its validity. If token is valid, then the data address\</span></span><br><span class="line"><span class="string">        \ contained in its claims is decrypted and returned back to the caller."</span></span><br><span class="line"><span class="attr">      operationId:</span> <span class="string">validate</span></span><br><span class="line"><span class="attr">      parameters:</span></span><br><span class="line"><span class="attr">      - in:</span> <span class="string">header</span></span><br><span class="line"><span class="attr">        name:</span> <span class="string">Authorization</span></span><br><span class="line"><span class="attr">        schema:</span></span><br><span class="line"><span class="attr">          type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">      responses:</span></span><br><span class="line">        <span class="string">"200"</span><span class="string">:</span></span><br><span class="line"><span class="attr">          description:</span> <span class="string">Token</span> <span class="string">is</span> <span class="string">valid</span></span><br><span class="line">        <span class="string">"400"</span><span class="string">:</span></span><br><span class="line"><span class="attr">          description:</span> <span class="string">Request</span> <span class="string">was</span> <span class="string">malformed</span></span><br><span class="line">        <span class="string">"403"</span><span class="string">:</span></span><br><span class="line"><span class="attr">          description:</span> <span class="string">Token</span> <span class="string">is</span> <span class="string">invalid</span></span><br><span class="line"><span class="attr">      tags:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">Consumer</span> <span class="string">Pull</span> <span class="string">Token</span> <span class="string">Validation</span></span><br><span class="line"><span class="attr">components:</span></span><br><span class="line"><span class="attr">  schemas:</span></span><br><span class="line"><span class="attr">    DataAddress:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">      properties:</span></span><br><span class="line"><span class="attr">        properties:</span></span><br><span class="line"><span class="attr">          type:</span> <span class="string">object</span></span><br><span class="line"><span class="attr">          additionalProperties:</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">object</span></span><br></pre></td></tr></table></figure>
<h2><span id="control-plane-api">control-plane-api</span></h2>
<p><code>resources/openapi/yaml/control-api/control-plane-api.yaml</code>
にコントロールプレーンのSpecが含まれている。</p>
<h3><span id="transferprocessprocessidcomplete">/transferprocess/{processId}/complete</span></h3>
<p>転送プロセスの完了をリクエストする。
転送が非同期、処理なので、受付成功が返る。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">/transferprocess/&#123;processId&#125;/complete:</span></span><br><span class="line"><span class="attr">  post:</span></span><br><span class="line"><span class="attr">    description:</span> <span class="string">"Requests completion of the transfer process. Due to the asynchronous\</span></span><br><span class="line"><span class="string">      \ nature of transfers, a successful response only indicates that the request\</span></span><br><span class="line"><span class="string">      \ was successfully received"</span></span><br><span class="line"><span class="attr">    operationId:</span> <span class="string">complete</span></span><br><span class="line"><span class="attr">    parameters:</span></span><br><span class="line"><span class="attr">    - in:</span> <span class="string">path</span></span><br><span class="line"><span class="attr">      name:</span> <span class="string">processId</span></span><br><span class="line"><span class="attr">      required:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">      schema:</span></span><br><span class="line"><span class="attr">        type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">    responses:</span></span><br><span class="line">      <span class="string">"400"</span><span class="string">:</span></span><br><span class="line"><span class="attr">        content:</span></span><br><span class="line">          <span class="string">application/json:</span></span><br><span class="line"><span class="attr">            schema:</span></span><br><span class="line"><span class="attr">              type:</span> <span class="string">array</span></span><br><span class="line"><span class="attr">              items:</span></span><br><span class="line">                <span class="string">$ref:</span> <span class="string">'#/components/schemas/ApiErrorDetail'</span></span><br><span class="line"><span class="attr">        description:</span> <span class="string">"Request was malformed, e.g. id was null"</span></span><br><span class="line"><span class="attr">    tags:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">Transfer</span> <span class="string">Process</span> <span class="string">Control</span> <span class="string">Api</span></span><br></pre></td></tr></table></figure>
<h3><span id="transferprocessprocessidfail">/transferprocess/{processId}/fail</span></h3>
<p>転送プロセスを失敗で完了させるリクエストを送る。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post:</span></span><br><span class="line"><span class="attr">  description:</span> <span class="string">"Requests completion of the transfer process. Due to the asynchronous\</span></span><br><span class="line"><span class="string">    \ nature of transfers, a successful response only indicates that the request\</span></span><br><span class="line"><span class="string">    \ was successfully received"</span></span><br><span class="line"><span class="attr">  operationId:</span> <span class="string">fail</span></span><br><span class="line"><span class="attr">  parameters:</span></span><br><span class="line"><span class="attr">  - in:</span> <span class="string">path</span></span><br><span class="line"><span class="attr">    name:</span> <span class="string">processId</span></span><br><span class="line"><span class="attr">    required:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    schema:</span></span><br><span class="line"><span class="attr">      type:</span> <span class="string">string</span></span><br><span class="line"><span class="attr">  requestBody:</span></span><br><span class="line"><span class="attr">    content:</span></span><br><span class="line">      <span class="string">application/json:</span></span><br><span class="line"><span class="attr">        schema:</span></span><br><span class="line">          <span class="string">$ref:</span> <span class="string">'#/components/schemas/TransferProcessFailStateDto'</span></span><br><span class="line"><span class="attr">  responses:</span></span><br><span class="line">    <span class="string">"400"</span><span class="string">:</span></span><br><span class="line"><span class="attr">      content:</span></span><br><span class="line">        <span class="string">application/json:</span></span><br><span class="line"><span class="attr">          schema:</span></span><br><span class="line"><span class="attr">            type:</span> <span class="string">array</span></span><br><span class="line"><span class="attr">            items:</span></span><br><span class="line">              <span class="string">$ref:</span> <span class="string">'#/components/schemas/ApiErrorDetail'</span></span><br><span class="line"><span class="attr">      description:</span> <span class="string">"Request was malformed, e.g. id was null"</span></span><br><span class="line"><span class="attr">  tags:</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">Transfer</span> <span class="string">Process</span> <span class="string">Control</span> <span class="string">Api</span></span><br></pre></td></tr></table></figure>
<h3><span id="マネージメントapiの類">マネージメントAPIの類</span></h3>
<p><code>resources/openapi/yaml/management-api</code>
以下には、マネージメント系のAPIのSpecが。含まれている。</p>
<p>例えば、</p>
<ul>
<li>カタログ: おそらくDataspace
Protocolに対応している。DCATカタログのやり取り。
<ul>
<li><code>/v2/catalog/dataset/request</code></li>
<li><code>/v2/catalog/request</code></li>
</ul></li>
<li>データアセット:
データアドレスの情報と合わせて、データアセットを登録する
<ul>
<li><code>/v2/assets</code>
<ul>
<li>post: 登録</li>
<li>put: 更新</li>
</ul></li>
<li><code>/v2/assets/request</code>:
クエリに従ってアセット群を取得する</li>
<li><code>/v2/assets/{assetId}/dataaddress</code>:
データアドレスの更新</li>
<li><code>/v2/assets/{id}</code>
<ul>
<li>delete: 消す</li>
<li>get: アセット取得</li>
</ul></li>
<li><code>/v2/assets/{id}/dataaddress</code>: アドレス取得</li>
<li><code>/v3/assets</code> ... v3とは？
<ul>
<li>v2とおおよそ同じ</li>
</ul></li>
<li><code>/v3/assets/request</code>
<ul>
<li>v2とおおよそ同じ</li>
</ul></li>
</ul></li>
</ul>
<p>など。ただ、<code>/v2</code>としていながら、DSPではなかったりするものがある（例：<code>/v2/contractnegotiations</code>）など注意が必要。</p>
<h2><span id="dataspace-protocolarchitecture">Dataspace Protocol
Architecture</span></h2>
<p><a href="https://github.com/eclipse-edc/Connector/tree/main/docs/developer/architecture/ids-dataspace-protocol" target="_blank" rel="noopener">IDS
Dataspace Protocolのドキュメント</a>
にIDSプロトコル対応の概要が記載されている。</p>
<h3><span id="後方互換性">後方互換性</span></h3>
<p>当該ドキュメントに記載の通り、後方互換性を保証するものではない。
新しいプロトコルに対応次第、古い実装は破棄される。</p>
<h3><span id="ゴール">ゴール</span></h3>
<ul>
<li>（将来リリースされる？）IDS-TCK（IDS Test Compatibility
Kit)の必須項目をパスすること</li>
<li>Dataspace
Protocol仕様を満たす他のコネクタと相互運用可能であること</li>
<li>Dataspace Protocolよりも前のバージョンのIDSには対応しない。</li>
<li>Usage Policyは実装しない。他のプロジェクトで実装される。</li>
</ul>
<h3><span id="アプローチ">アプローチ</span></h3>
<p>Dataspace ProtocolはJSON-LD、DCAT、ODRLで実現されている。
このプロトコルの対応で、Contract NegotiationとTransfer
Processステートが新たに実装されることになる。
ただし、新しいプロトコルの対応が完了するまで、テストが通るようにする。</p>
<ol type="1">
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/architecture/ids-dataspace-protocol/json-ld-processing-architecture.md" target="_blank" rel="noopener">JSON-LD
Processing Architecture</a> に基きJSON-LD対応する。</li>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/architecture/ids-dataspace-protocol/ids-endpoints-services-architecture.md" target="_blank" rel="noopener">Dataspace
Protocol Endpoints and Services Architecture</a>
に基きエンドポイントとサービスの拡張を実装する。</li>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/architecture/ids-dataspace-protocol/contract-negotiation-architecture.md" target="_blank" rel="noopener">Dataspace
Protocol Contract Negotiation Architecture</a> に基きContract
Negotiationマネージャのステートマシンを更新する。</li>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/architecture/ids-dataspace-protocol/transfer-process-architecture.md" target="_blank" rel="noopener">The
Dataspace Protocol Transfer Process Architecture</a> に基きTransfer
Processのステートマシンを更新する。</li>
<li>この1から4項目が安定すると、古いモジュールとサービスが削除される。</li>
<li>Management APIを更新する。</li>
</ol>
<h3><span id="json-ld-processingarchitecture">JSON-LD Processing
Architecture</span></h3>
<p><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/architecture/ids-dataspace-protocol/json-ld-processing-architecture.md" target="_blank" rel="noopener">JSON-LD
Processing Architecture</a>
にJSON-LDを処理するアーキテクチャに関するコンセプトとアプローチが記載されている。</p>
<p>冒頭に記載あるとおり、結果として、JDS InfoModel Java
Libraryを用いるのをやめ、JSON-LDメッセージをやり取りすることになる。</p>
<p>既存の TypeManagerに機能付加する。 JSONP対応する。</p>
<p>文書上は、以下のようなコンセプトが例として載っていた。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">var mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line"></span><br><span class="line">mapper.registerModule(<span class="keyword">new</span> JSONPModule());</span><br><span class="line"></span><br><span class="line">var <span class="keyword">module</span> = <span class="keyword">new</span> SimpleModule() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setupModule</span><span class="params">(SetupContext context)</span></span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.setupModule(context);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">mapper.registerModule(<span class="keyword">module</span>);</span><br><span class="line"></span><br><span class="line">typeManager.registerContext(<span class="string">"json-ld"</span>,mapper)</span><br></pre></td></tr></table></figure>
<p>実際に、2023/9/24時点での実装においても、以下のようにTypeManagerに登録されたJSON_JDのマッパーを利用していることが見られます。</p>
<p><code>org/eclipse/edc/protocol/dsp/api/configuration/DspApiConfigurationExtension.java:128</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var jsonLdMapper = typeManager.getMapper(JSON_LD);</span><br><span class="line">webService.registerResource(config.getContextAlias(), <span class="keyword">new</span> ObjectMapperProvider(jsonLdMapper));</span><br><span class="line">webService.registerResource(config.getContextAlias(), <span class="keyword">new</span> JerseyJsonLdInterceptor(jsonLd, jsonLdMapper));</span><br></pre></td></tr></table></figure>
<p><code>org/eclipse/edc/protocol/dsp/api/configuration/DspApiConfigurationExtension.java:135</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">registerTransformers</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    var mapper = typeManager.getMapper(JSON_LD);</span><br><span class="line">    mapper.registerSubtypes(AtomicConstraint.class, LiteralExpression.class);</span><br><span class="line"></span><br><span class="line">    var jsonBuilderFactory = Json.createBuilderFactory(Map.of());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// EDC model to JSON-LD transformers</span></span><br><span class="line">    transformerRegistry.register(<span class="keyword">new</span> JsonObjectFromCatalogTransformer(jsonBuilderFactory, mapper));</span><br><span class="line">    transformerRegistry.register(<span class="keyword">new</span> JsonObjectFromDatasetTransformer(jsonBuilderFactory, mapper));</span><br><span class="line">    transformerRegistry.register(<span class="keyword">new</span> JsonObjectFromPolicyTransformer(jsonBuilderFactory));</span><br><span class="line">    transformerRegistry.register(<span class="keyword">new</span> JsonObjectFromDistributionTransformer(jsonBuilderFactory));</span><br><span class="line">    transformerRegistry.register(<span class="keyword">new</span> JsonObjectFromDataServiceTransformer(jsonBuilderFactory));</span><br><span class="line">    transformerRegistry.register(<span class="keyword">new</span> JsonObjectFromAssetTransformer(jsonBuilderFactory, mapper));</span><br><span class="line">    transformerRegistry.register(<span class="keyword">new</span> JsonObjectFromDataAddressTransformer(jsonBuilderFactory));</span><br><span class="line">    transformerRegistry.register(<span class="keyword">new</span> JsonObjectFromQuerySpecTransformer(jsonBuilderFactory));</span><br><span class="line">    transformerRegistry.register(<span class="keyword">new</span> JsonObjectFromCriterionTransformer(jsonBuilderFactory, mapper));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// JSON-LD to EDC model transformers</span></span><br><span class="line">    <span class="comment">// DCAT transformers</span></span><br><span class="line">    transformerRegistry.register(<span class="keyword">new</span> JsonObjectToCatalogTransformer());</span><br><span class="line">    transformerRegistry.register(<span class="keyword">new</span> JsonObjectToDataServiceTransformer());</span><br><span class="line">    transformerRegistry.register(<span class="keyword">new</span> JsonObjectToDatasetTransformer());</span><br><span class="line">    transformerRegistry.register(<span class="keyword">new</span> JsonObjectToDistributionTransformer());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ODRL Transformers</span></span><br><span class="line">    OdrlTransformersFactory.jsonObjectToOdrlTransformers().forEach(transformerRegistry::register);</span><br><span class="line"></span><br><span class="line">    transformerRegistry.register(<span class="keyword">new</span> JsonValueToGenericTypeTransformer(mapper));</span><br><span class="line">    transformerRegistry.register(<span class="keyword">new</span> JsonObjectToAssetTransformer());</span><br><span class="line">    transformerRegistry.register(<span class="keyword">new</span> JsonObjectToQuerySpecTransformer());</span><br><span class="line">    transformerRegistry.register(<span class="keyword">new</span> JsonObjectToCriterionTransformer());</span><br><span class="line">    transformerRegistry.register(<span class="keyword">new</span> JsonObjectToDataAddressTransformer());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>特に後者の実装は、各種情報をJSONのオブジェクトに変換するトランスフォーマー（や、その逆）を登録している。
JSON-LDにてメッセージをやりとりしている様子の一端をみられる。</p>
<p>また、ドキュメントの方ではコンセプトとして、以下のような変換の流れが例として挙げられていた。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// message is de-serialized as Map&lt;String, Object&gt; by Jersey </span></span><br><span class="line">var document = JsonDocument.of(mapper.convertValue(message, JsonObject.class));</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">    var compacted = JsonLd.compact(document,EMPTY_CONTEXT).get();</span><br><span class="line">    var convertedDocument = mapper.convertValue(compacted,Map.class);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// process converted document</span></span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">catch</span>(JsonLdError e) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>もし実際の実装をみるのであれば、
<code>org.eclipse.edc.core.transform.transformer.from.JsonObjectFromCatalogTransformer#transform</code>
メソッドのようなものを確認すると良い。</p>
<p>なお、ドキュメントローダとしては、<a href="https://github.com/filip26/titanium-json-ld" target="_blank" rel="noopener">titanium-json-ld</a>が使われているようだ。
参考→ <code>org.eclipse.edc.jsonld.TitaniumJsonLd</code> <a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/architecture/ids-dataspace-protocol/ids-endpoints-services-architecture.md" target="_blank" rel="noopener">Dataspace
Protocol Endpoints and Services Architecture</a>
にもその旨記載されている。</p>
<h3><span id="dataspaceprotocol-endpoints-and-services-architecture">Dataspace
Protocol Endpoints and Services Architecture</span></h3>
<p><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/architecture/ids-dataspace-protocol/ids-endpoints-services-architecture.md" target="_blank" rel="noopener">Dataspace
Protocol Endpoints and Services Architecture</a> にIDS Controller
Endpoint実装のアプローチが記載されている。</p>
<p>また当該ドキュメントには、以下のように拡張との対応関係が示されている。</p>
<table>
<thead>
<tr class="header">
<th>Description</th>
<th>Repository</th>
<th>Extension</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Contract Negotiation</td>
<td>Connector</td>
<td>control-plane-ids</td>
</tr>
<tr class="even">
<td>Transfer Process</td>
<td>Connector</td>
<td>control-plane-ids</td>
</tr>
<tr class="odd">
<td>Catalog requests</td>
<td>Connector</td>
<td>catalog-ids</td>
</tr>
</tbody>
</table>
<p>また前述の通り、Dataspace
ProtocolではJSON-LDにてメッセージがやりとりされる。
それらを「（デ）マーシャル」（シリアライズ、デシリアライズ）する必要がある。</p>
<p>デシリアライズは以下のように行われると例示されている。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> document = <span class="type">JsonDocument</span>.of(jsonObject);</span><br><span class="line"><span class="keyword">var</span> expanded = <span class="type">JsonLd</span>.expand(document).get();</span><br></pre></td></tr></table></figure>
<p>シリアライズは以下のように行われると例示されている。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> document = <span class="type">JsonDocument</span>.of(jsonObject);</span><br><span class="line"><span class="keyword">var</span> compacted = <span class="type">JsonLd</span>.compact(document,<span class="type">EMPTY_CONTEXT</span>).get();</span><br><span class="line"><span class="keyword">var</span> compacted = mapper.convertValue(compacted,<span class="type">Map</span>.<span class="keyword">class</span>);</span><br></pre></td></tr></table></figure>
<h4><span id="マイグレーションのポイント">マイグレーションのポイント</span></h4>
<p>大きなポイントの例は、</p>
<ul>
<li>アセット（DCATにおけるデータセット）にODRLポリシーであるofferを含むようになること</li>
<li>データセットはカタログに含まれる。</li>
</ul>
<p>（もともとEDCが採用していたIDS
Infomodelでは、offerにアセットが含まれる）</p>
<p>Contract Definition、Asset、Dataset、ODRL
Offerの関係は以下のように表現されていた。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">CD = Contract Definition</span><br><span class="line">A  = Asset</span><br><span class="line">DS = Dataset</span><br><span class="line">O  = ODRL Offer</span><br><span class="line"></span><br><span class="line">If the Contract Definitions are:</span><br><span class="line"></span><br><span class="line">CD 1  --selects--&gt; [A1, A2]</span><br><span class="line">CD 2  --selects--&gt; [A1, A3]</span><br><span class="line"></span><br><span class="line">the resulting Catalog containing Datasets is:</span><br><span class="line"></span><br><span class="line">DS 1 -&gt; A1 [O:CD1, O:CD2] </span><br><span class="line">DS 2 -&gt; A2 [O:CD1]</span><br><span class="line">DS 3 -&gt; A3 [O:CD2]</span><br></pre></td></tr></table></figure>
<p>上記は包含関係を表している。</p>
<p>また、ProviderにContract
Negotiationyや転送タイプをリクエストするためのエンドポイントは、DCAT
Distributionである。
Distributionは、コネクタエンドポイントのメタデータとDataAdress属性で示される転送タイプの組み合わせで示される。</p>
<p>なお、現状のEDCではまだ未実装の部分があり、フューチャーワークとされていた。</p>
<p>また、DCAT
CatalogやDatasetは名前空間プロパティを使用して拡張可能である必要がある。CatalogDecoratorが必要。</p>
<h4><span id="型変換">型変換</span></h4>
<p>もともとあったIdsTypeTransfomerを実装し直す必要がある。
これは先に上げていた<code>JsonObjectFromCatalogTransformer</code>のようなTransformerである。
本ドキュメントには、その実装コンセプト/アプローチが記載されている。</p>
<h4><span id="その他">その他</span></h4>
<p>Identificationの取り扱い方についても変更あり。</p>
<p>RemoteMessageDispatcherも変更あり。
以下のようなクラス設計になっている。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">RemoteMessageDispatcher (org.eclipse.edc.spi.message)</span><br><span class="line">  GenericHttpRemoteDispatcher (org.eclipse.edc.connector.callback.dispatcher.http)</span><br><span class="line">    GenericHttpRemoteDispatcherImpl (org.eclipse.edc.connector.callback.dispatcher.http)</span><br><span class="line">  DspHttpRemoteMessageDispatcher (org.eclipse.edc.protocol.dsp.spi.dispatcher)</span><br><span class="line">    DspHttpRemoteMessageDispatcherImpl (org.eclipse.edc.protocol.dsp.dispatcher)</span><br></pre></td></tr></table></figure>
<p>Dataspace
Protocol対応は、<code>org.eclipse.edc.protocol.dsp.dispatcher.DspHttpRemoteMessageDispatcherImpl</code>と考えておくとよい。</p>
<h3><span id="dataspaceprotocol-contract-negotiation-architecture">Dataspace
Protocol Contract Negotiation Architecture</span></h3>
<p><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/architecture/ids-dataspace-protocol/contract-negotiation-architecture.md" target="_blank" rel="noopener">Dataspace
Protocol Contract Negotiation Architecture</a> にContract
Negotiationの変更アプローチが記載されている。</p>
<p>ステートマシンの変化内容を一覧化した表が載っていた。
表の通り、Dataspace
Protocolに対応したのちも、IDSにはもともと無いステートが一部残っている。
Contract
Negotiationでは、その状態が重要であるから、より厳密に扱っている印象がある。</p>
<table style="width:100%;">
<colgroup>
<col style="width: 19%">
<col style="width: 14%">
<col style="width: 11%">
<col style="width: 27%">
<col style="width: 27%">
</colgroup>
<thead>
<tr class="header">
<th>EDC Existing</th>
<th>EDC New</th>
<th>IDS</th>
<th>Transition Function</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>UNSAVED</td>
<td>(remove)</td>
<td>N/A</td>
<td></td>
<td>This state is not needed</td>
</tr>
<tr class="even">
<td>INITIAL</td>
<td>INITIAL</td>
<td>N/A</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>REQUESTING</td>
<td>REQUESTING</td>
<td>N/A</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>REQUESTED</td>
<td>REQUESTED</td>
<td>REQUESTED</td>
<td>Provider (new &amp; counter)</td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>PROVIDER_OFFERING</td>
<td>OFFERING</td>
<td>N/A</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>PROVIDER_OFFERED</td>
<td>OFFERED</td>
<td>OFFERED</td>
<td>Consumer</td>
<td></td>
</tr>
<tr class="odd">
<td>CONSUMER_OFFERING</td>
<td>(REQUESTING)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>CONSUMER_OFFERED</td>
<td>(REQUESTED)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>CONSUMER_APPROVING</td>
<td>ACCEPTING</td>
<td>N/A</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>CONSUMER_APPROVED</td>
<td>ACCEPTED</td>
<td>ACCEPTED</td>
<td>Provider</td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>DECLINING</td>
<td>(TERMINATING)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>DECLINED</td>
<td>(TERMINATED)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>CONFIRMING</td>
<td>AGREEING</td>
<td>N/A</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>CONFIRMED</td>
<td>AGREED</td>
<td>AGREED</td>
<td>Consumer</td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td>VERIFYING</td>
<td>N/A</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td>VERIFIED</td>
<td>VERIFIED</td>
<td>Provider</td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td>FINALIZING</td>
<td>N/A</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td>FINALIZED</td>
<td>FINALIZED</td>
<td>Consumer</td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td>TERMINATING</td>
<td>N/A</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td>TERMINATED</td>
<td>TERMINATED</td>
<td>P &amp; C</td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>ERROR</td>
<td>(TERMINATED)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h1><span id="参考">参考</span></h1>
<h2><span id="プロジェクト">プロジェクト</span></h2>
<ul>
<li><a href="https://github.com/filip26/titanium-json-ld" target="_blank" rel="noopener">titanium-json-ld</a></li>
</ul>
<h2><span id="ドキュメント">ドキュメント</span></h2>
<ul>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/openapi.md" target="_blank" rel="noopener">Generating
the OpenApi Spec (*.yaml)</a></li>
<li><a href="https://github.com/eclipse-edc/Connector/tree/main/docs/developer/architecture/ids-dataspace-protocol" target="_blank" rel="noopener">IDS
Dataspace Protocolのドキュメント</a></li>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/architecture/ids-dataspace-protocol/json-ld-processing-architecture.md" target="_blank" rel="noopener">JSON-LD
Processing Architecture</a></li>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/architecture/ids-dataspace-protocol/ids-endpoints-services-architecture.md" target="_blank" rel="noopener">Dataspace
Protocol Endpoints and Services Architecture</a></li>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/architecture/ids-dataspace-protocol/contract-negotiation-architecture.md" target="_blank" rel="noopener">Dataspace
Protocol Contract Negotiation Architecture</a></li>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/docs/developer/architecture/ids-dataspace-protocol/transfer-process-architecture.md" target="_blank" rel="noopener">The
Dataspace Protocol Transfer Process Architecture</a></li>
</ul>
<h2><span id="ソースコード">ソースコード</span></h2>
<ul>
<li><a href="https://github.com/eclipse-edc/Connector/blob/main/extensions/data-plane/data-plane-http/src/main/java/org/eclipse/edc/connector/dataplane/http/pipeline/HttpDataSource.java#L48" target="_blank" rel="noopener">openPartStream</a></li>
<li><a href="https://github.com/eclipse-edc/Connector/tree/main/data-protocols/dsp" target="_blank" rel="noopener">dsp</a></li>
<li><a href="https://github.com/International-Data-Spaces-Association/DataspaceConnector/blob/main/openapi.yaml" target="_blank" rel="noopener">Dataspace
ConnectorのOpenAPI Spec</a></li>
<li><a href="https://github.com/eclipse-edc/GradlePlugins/blob/main/plugins/edc-build/src/main/java/org/eclipse/edc/plugins/edcbuild/extensions/SwaggerGeneratorExtension.java" target="_blank" rel="noopener">SwaggerGeneratorExtension</a></li>
</ul>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2023/09/09/Generate-OpenAPI-Spec-of-EDC-Connector/" data-id="cm0tojmir01fm18o59i342k09" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <article id="post-OpenAPI-Generator-for-Flask" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/memo-blog/2023/09/07/OpenAPI-Generator-for-Flask/">OpenAPI Generator for Flask</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/memo-blog/2023/09/07/OpenAPI-Generator-for-Flask/">
            <time datetime="2023-09-07T13:10:58.000Z" itemprop="datePublished">2023-09-07</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Open-API/">Open API</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/memo-blog/tags/Flask/">Flask</a>, <a class="tag-link" href="/memo-blog/tags/Open-API/">Open API</a>, <a class="tag-link" href="/memo-blog/tags/Python/">Python</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <div id="TOC">
	<ul>
<li><a href="#メモ" id="toc-メモ">メモ</a>
<ul>
<li><a href="#簡単な動作確認" id="toc-簡単な動作確認">簡単な動作確認</a></li>
</ul></li>
<li><a href="#参考" id="toc-参考">参考</a>
<ul>
<li><a href="#記事" id="toc-記事">記事</a></li>
</ul></li>
</ul>
</div>
<h1><span id="メモ">メモ</span></h1>
<h2><span id="簡単な動作確認">簡単な動作確認</span></h2>
<p>ひとまず分かりやすかった <a href="https://future-architect.github.io/articles/20221203a/" target="_blank" rel="noopener">OpenAPI
GeneratorでPython Web API構築</a> をそのまま試す。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir -p  ~/Sources/OpenAPIGenFlaskSample/original</span><br><span class="line">$ <span class="built_in">cd</span>  ~/Sources/OpenAPIGenFlaskSample/original</span><br><span class="line">$ cat &lt;&lt; EOF &gt; openapi.yaml</span><br><span class="line"></span><br><span class="line">(snip)</span><br><span class="line"></span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>
<p><code>openapi.yaml</code>の中身は <a href="https://future-architect.github.io/articles/20221203a/" target="_blank" rel="noopener">OpenAPI
GeneratorでPython Web API構築</a> に記載されている。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir -p server client</span><br><span class="line">$ docker run --rm -v <span class="variable">$&#123;PWD&#125;</span>:/<span class="built_in">local</span> openapitools/openapi-generator-cli generate -i /<span class="built_in">local</span>/openapi.yaml -g python-flask -o /<span class="built_in">local</span>/server</span><br><span class="line">$ docker run --rm -v <span class="variable">$&#123;PWD&#125;</span>:/<span class="built_in">local</span> openapitools/openapi-generator-cli generate -i /<span class="built_in">local</span>/openapi.yaml -g go -o /<span class="built_in">local</span>/client</span><br></pre></td></tr></table></figure>
<p>今回用があるのはサーバ側のPython実装（Flask）の方なので、そちらを確認する。
記事にもあるが以下のようなファイルが生成されているはず。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">$ tree</span><br><span class="line">.</span><br><span class="line">├── Dockerfile</span><br><span class="line">├── README.md</span><br><span class="line">├── git_push.sh</span><br><span class="line">├── openapi_server</span><br><span class="line">│   ├── __init__.py</span><br><span class="line">│   ├── __main__.py</span><br><span class="line">│   ├── controllers</span><br><span class="line">│   │   ├── __init__.py</span><br><span class="line">│   │   ├── security_controller.py</span><br><span class="line">│   │   └── stock_price_controller.py</span><br><span class="line">│   ├── encoder.py</span><br><span class="line">│   ├── models</span><br><span class="line">│   │   ├── __init__.py</span><br><span class="line">│   │   ├── base_model.py</span><br><span class="line">│   │   ├── error.py</span><br><span class="line">│   │   ├── ok.py</span><br><span class="line">│   │   └── stock_price.py</span><br><span class="line">│   ├── openapi</span><br><span class="line">│   │   └── openapi.yaml</span><br><span class="line">│   ├── <span class="built_in">test</span></span><br><span class="line">│   │   ├── __init__.py</span><br><span class="line">│   │   └── test_stock_price_controller.py</span><br><span class="line">│   ├── typing_utils.py</span><br><span class="line">│   └── util.py</span><br><span class="line">├── requirements.txt</span><br><span class="line">├── setup.py</span><br><span class="line">├── <span class="built_in">test</span>-requirements.txt</span><br><span class="line">└── tox.ini</span><br></pre></td></tr></table></figure>
<p>まずは、 <code>__main__.py</code> を見てみる。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> connexion</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> openapi_server <span class="keyword">import</span> encoder</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    app = connexion.App(__name__, specification_dir=<span class="string">'./openapi/'</span>)</span><br><span class="line">    app.app.json_encoder = encoder.JSONEncoder</span><br><span class="line">    app.add_api(<span class="string">'openapi.yaml'</span>,</span><br><span class="line">                arguments=&#123;<span class="string">'title'</span>: <span class="string">'Stock API'</span>&#125;,</span><br><span class="line">                pythonic_params=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line">    app.run(port=<span class="number">8080</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<p>上記の通り、 connexionを用いていることがわかる。
connexionはFlaskで動作する、APIとpython関数をマッピングするためのパッケージである。
connexionについては、 <a href="https://qiita.com/amuyikam/items/1454177a7030e3b3ce80" target="_blank" rel="noopener">connexionを使ってPython
APIサーバのAPI定義と実装を関連付ける</a>
のような記事を参考にされたし。</p>
<p><code>openapi_server/controllers/stock_price_controller.py</code>
を確認する。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> connexion</span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> Dict</span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> Tuple</span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> Union</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> openapi_server.models.error <span class="keyword">import</span> Error  <span class="comment"># noqa: E501</span></span><br><span class="line"><span class="keyword">from</span> openapi_server.models.stock_price <span class="keyword">import</span> StockPrice  <span class="comment"># noqa: E501</span></span><br><span class="line"><span class="keyword">from</span> openapi_server <span class="keyword">import</span> util</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">stock_price</span><span class="params">(security_cd)</span>:</span>  <span class="comment"># noqa: E501</span></span><br><span class="line">    <span class="string">"""株価取得</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    現在の株価を取得する # noqa: E501</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    :param security_cd: 証券コードを指定する</span></span><br><span class="line"><span class="string">    :type security_cd: str</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    :rtype: Union[StockPrice, Tuple[StockPrice, int], Tuple[StockPrice, int, Dict[str, str]]</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'do some magic!'</span></span><br></pre></td></tr></table></figure>
<p><code>operationId</code>
にて指定した名称がコントローラのメソッド名に反映されている。</p>
<p><code>parameters</code>
にて指定したパラメータがコントローラの引数になっていることが確認できる。</p>
<p><code>components</code>
にて指定したスキーマに基づき、<code>openapi_server/models</code>
以下に反映されていることが分かる。 今回の例だと、戻り値用の
<code>StockPrice</code> やOK、Errorが定義されている。
なお、これはOpenAPIにて生成されたものであり、それを編集して使うことはあまり想定されていないようだ。</p>
<p><code>openapi_server/util.py</code>
にはデシリアライザなどが含まれている。</p>
<p>さて、記事通り、Dockerで動かしてみる。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker build -t openapi_server .</span><br><span class="line">$ docker run -p 8080:8080 openapi_server</span><br></pre></td></tr></table></figure>
<p>試しに、適当な引数を与えて動かすと、実装通り戻り値を得られる。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ curl http://localhost:8080/v1/sc/4721/stockPrice</span><br><span class="line"><span class="string">"do some magic!"</span></span><br></pre></td></tr></table></figure>
<p>なおDockerfileはこんな感じである。</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> python:<span class="number">3</span>-alpine</span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> mkdir -p /usr/src/app</span></span><br><span class="line"><span class="bash">WORKDIR /usr/src/app</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash">COPY requirements.txt /usr/src/app/</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash">RUN pip3 install --no-cache-dir -r requirements.txt</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash">COPY . /usr/src/app</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash">EXPOSE 8080</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash">ENTRYPOINT [<span class="string">"python3"</span>]</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash">CMD [<span class="string">"-m"</span>, <span class="string">"openapi_server"</span>]</span></span><br></pre></td></tr></table></figure>
<p>Docker化しなくてもそのままでも動く。
ここでは一応venvを使って仮想環境を構築しておく。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ python -m venv venv</span><br><span class="line">$ . venv/bin/activate</span><br><span class="line">$ pip install -r requirements.txt</span><br><span class="line">$ python -m openapi_server</span><br></pre></td></tr></table></figure>
<h1><span id="参考">参考</span></h1>
<h2><span id="記事">記事</span></h2>
<ul>
<li><a href="https://future-architect.github.io/articles/20221203a/" target="_blank" rel="noopener">OpenAPI
GeneratorでPython Web API構築</a></li>
<li><a href="https://qiita.com/amuyikam/items/1454177a7030e3b3ce80" target="_blank" rel="noopener">connexionを使ってPython
APIサーバのAPI定義と実装を関連付ける</a></li>
</ul>
<!-- vim: set et tw=0 ts=2 sw=2: -->

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://dobachi.github.io/memo-blog/2023/09/07/OpenAPI-Generator-for-Flask/" data-id="cm0tojm91008u18o5cw0gxezp" class="article-share-link"><i class="fas fa-share"></i>共有</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
</article>



    <nav id="page-nav">
        <span class="page-number current">1</span><a class="page-number" href="/memo-blog/page/2/">2</a><a class="page-number" href="/memo-blog/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/memo-blog/page/22/">22</a><a class="extend next" rel="next" href="/memo-blog/page/2/">次 &raquo;</a>
    </nav>
</section>
            
                
<aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">最近の記事</h3>
        <div class="widget">
            <ul id="recent-post" class="no-thumbnail">
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Ubuntu/">Ubuntu</a></p>
                            <p class="item-title"><a href="/memo-blog/2024/09/08/US-keyboard-layout-on-Ubuntu22/" class="title">US keyboard layout on Ubuntu22</a></p>
                            <p class="item-date"><time datetime="2024-09-08T14:20:17.000Z" itemprop="datePublished">2024-09-08</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Data-Spaces/">Data Spaces</a></p>
                            <p class="item-title"><a href="/memo-blog/2024/09/06/Building-Block-of-Data-Spaces/" class="title">Building Block of Data Spaces</a></p>
                            <p class="item-date"><time datetime="2024-09-06T01:06:09.000Z" itemprop="datePublished">2024-09-06</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Data-Spaces/">Data Spaces</a></p>
                            <p class="item-title"><a href="/memo-blog/2024/09/01/Data-Sovereignty/" class="title">Data Sovereignty</a></p>
                            <p class="item-date"><time datetime="2024-09-01T12:40:49.000Z" itemprop="datePublished">2024-09-01</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Ansible/">Ansible</a></p>
                            <p class="item-title"><a href="/memo-blog/2024/08/25/Use-HOME-in-case-of-using-sudo-ansible/" class="title">Use HOME in case of using sudo [ansible]</a></p>
                            <p class="item-date"><time datetime="2024-08-25T12:30:22.000Z" itemprop="datePublished">2024-08-25</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/memo-blog/categories/Knowledge-Management/Dataspace-Connector/">Dataspace Connector</a></p>
                            <p class="item-title"><a href="/memo-blog/2024/07/14/Management-Domain/" class="title">Management Domain of EDC</a></p>
                            <p class="item-date"><time datetime="2024-07-14T03:09:34.000Z" itemprop="datePublished">2024-07-14</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">カテゴリ</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/">Clipping</a><span class="category-list-count">16</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/AI/">AI</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Camera/">Camera</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Camera/Lighting/">Lighting</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Cloud/">Cloud</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Database/">Database</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Kafka/">Kafka</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/List/">List</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/List/Research/">Research</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Management/">Management</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/PostgreSQL/">PostgreSQL</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Stream-Processing/">Stream Processing</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Uber/">Uber</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Vim/">Vim</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Clipping/Windows-Tools/">Windows Tools</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/">Home server</a><span class="category-list-count">14</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/File-server/">File server</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Hardware/">Hardware</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Nature-Remo/">Nature Remo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Network/">Network</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Remote-desktop/">Remote desktop</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Ubuntu/">Ubuntu</a><span class="category-list-count">8</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Ubuntu/Adobe-Reader/">Adobe Reader</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Ubuntu/Gnome/">Gnome</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Ubuntu/KVM/">KVM</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Ubuntu/OneDrive/">OneDrive</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Ubuntu/vim/">vim</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Home-server/Video-processing/">Video processing</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/">Knowledge Management</a><span class="category-list-count">166</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Alluxio/">Alluxio</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Ansible/">Ansible</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/BaaS/">BaaS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Configuration-Management/">Configuration Management</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Configuration-Management/Ansible/">Ansible</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Catalog/">Data Catalog</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Catalog/CKAN/">CKAN</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Collaboration/">Data Collaboration</a><span class="category-list-count">6</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Collaboration/Delta-Sharing/">Delta Sharing</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Collaboration/X-Road/">X-Road</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Engineering/">Data Engineering</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Engineering/Data-Lineage/">Data Lineage</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Engineering/Data-Transformation/">Data Transformation</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Mesh/">Data Mesh</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Processing-Engine/">Data Processing Engine</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Spaces/">Data Spaces</a><span class="category-list-count">6</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Spaces/EDC/">EDC</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Data-Spaces/IDS/">IDS</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Dataspace-Connector/">Dataspace Connector</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Dataspace-Connector/Eclipse-Dataspace-Components/">Eclipse Dataspace Components</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Documentation/">Documentation</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Flask/">Flask</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/GPD-Pocket/">GPD Pocket</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/GPD-Pocket/Device/">Device</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/GPD-Pocket/Device/Bluetooth/">Bluetooth</a><span class="category-list-count">1</span></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/HBase/">HBase</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hadoop/">Hadoop</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hadoop/Ambari/">Ambari</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hadoop/BigTop/">BigTop</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hadoop/HDP/">HDP</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hexo/">Hexo</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Home-Network/">Home Network</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hyper/">Hyper</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hyper/Plugin/">Plugin</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Hyper-V/">Hyper-V</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Keyboard/">Keyboard</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Keyboard/Corne-Chocolate/">Corne Chocolate</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Keyboard/QMK/">QMK</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Kubernetes/">Kubernetes</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/">Machine Learning</a><span class="category-list-count">25</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Analytics-Zoo/">Analytics Zoo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/AutoML/">AutoML</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Data-Platform/">Data Platform</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Flow-Engine/">Flow Engine</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Kaggle/">Kaggle</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/MLflow/">MLflow</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Model/">Model</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Model/Cross-Validation/">Cross Validation</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Model/Data-Leakage/">Data Leakage</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Model/Partial-Dependency-Plot/">Partial Dependency Plot</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Model/XGBoost/">XGBoost</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Model-Management/">Model Management</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Model-Management/Clipper/">Clipper</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/OpML/">OpML</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Preparation/">Preparation</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Software-Engineering-Patterns/">Software Engineering Patterns</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Stream-Processing/">Stream Processing</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Visualization/">Visualization</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Visualization/Seaborn/">Seaborn</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Machine-Learning/Word2Vec/">Word2Vec</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Messaging-System/">Messaging System</a><span class="category-list-count">15</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Messaging-System/Kafka/">Kafka</a><span class="category-list-count">14</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Metadata-Management/">Metadata Management</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Monitering/">Monitering</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Open-API/">Open API</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Open-Data/">Open Data</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Open-Data/Scraping/">Scraping</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Open-Data/Tellus/">Tellus</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Pinot/">Pinot</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Power-Grid-Data/">Power Grid Data</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Python/">Python</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Python/Jupyter/">Jupyter</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Python/Pipenv/">Pipenv</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Python/pyenv/">pyenv</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/SDK/">SDK</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/SQLAlchemy/">SQLAlchemy</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Scala/">Scala</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Scala/SBT/">SBT</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Spark/">Spark</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Spark/Spark-Summit/">Spark Summit</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Storage-Layer/">Storage Layer</a><span class="category-list-count">13</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Storage-Layer/Delta-Lake/">Delta Lake</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Storage-Layer/Hudi/">Hudi</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Storage-Layer/Minio/">Minio</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Stream-Processing/">Stream Processing</a><span class="category-list-count">9</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Stream-Processing/Apache-Edgent/">Apache Edgent</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Stream-Processing/Kappa-Architecture/">Kappa Architecture</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Stream-Processing/MillWheel/">MillWheel</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Stream-Processing/Twitter-Heron/">Twitter Heron</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Tools/">Tools</a><span class="category-list-count">8</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Tools/Git/">Git</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Tools/Intellij/">Intellij</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Tools/Selenium/">Selenium</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Tools/tmux/">tmux</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Ubuntu/">Ubuntu</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/WSL/">WSL</a><span class="category-list-count">7</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/WSL/CentOS/">CentOS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/WSL/Docker/">Docker</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/WSL/Terminal-tool/">Terminal tool</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/WSL/Vagrant/">Vagrant</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/WSL/X-Window/">X Window</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Windows/">Windows</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Windows/Ansible/">Ansible</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Windows/Docker/">Docker</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Windows/Hyper-V/">Hyper-V</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/Zeppelin/">Zeppelin</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/ZooKeeper/">ZooKeeper</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Knowledge-Management/vim/">vim</a><span class="category-list-count">5</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/">Research</a><span class="category-list-count">14</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/AWS/">AWS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Conference/">Conference</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Conference/DevSumi/">DevSumi</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Data-Analytics/">Data Analytics</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Data-Analytics/Tools/">Tools</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Machine-Learning/">Machine Learning</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Machine-Learning/BigDL/">BigDL</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Machine-Learning/TensorFlow/">TensorFlow</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/NVM/">NVM</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/SX-Aurora-Frovedis/">SX-Aurora/Frovedis</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Trends/">Trends</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Video-processing/">Video processing</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Video-processing/BlazeIt/">BlazeIt</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Visualization/">Visualization</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/memo-blog/categories/Research/Visualization/Superset/">Superset</a><span class="category-list-count">1</span></li></ul></li></ul></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">アーカイブ</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2024/09/">9月 2024</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2024/08/">8月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2024/07/">7月 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2024/02/">2月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2023/09/">9月 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2023/08/">8月 2023</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2022/05/">5月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2022/02/">2月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2022/01/">1月 2022</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/10/">10月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/09/">9月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/08/">8月 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/07/">7月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/06/">6月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/05/">5月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/04/">4月 2021</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/02/">2月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2021/01/">1月 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/12/">12月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/11/">11月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/10/">10月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/09/">9月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/08/">8月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/07/">7月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/06/">6月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/05/">5月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/04/">4月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/03/">3月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/02/">2月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2020/01/">1月 2020</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/12/">12月 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/11/">11月 2019</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/10/">10月 2019</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/09/">9月 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/08/">8月 2019</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/07/">7月 2019</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/06/">6月 2019</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/05/">5月 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/04/">4月 2019</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/03/">3月 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/02/">2月 2019</a><span class="archive-list-count">16</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2019/01/">1月 2019</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2018/12/">12月 2018</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2018/11/">11月 2018</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2018/10/">10月 2018</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/memo-blog/archives/2018/09/">9月 2018</a><span class="archive-list-count">2</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">タグ</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/AI/">AI</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/AWS/">AWS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Academia/">Academia</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Adobe-Reader/">Adobe Reader</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Alluxio/">Alluxio</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Ambari/">Ambari</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Analytics-Zoo/">Analytics Zoo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Ansible/">Ansible</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Apache-Edgent/">Apache Edgent</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Apache-Hudi/">Apache Hudi</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Apache-Kafka/">Apache Kafka</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Apache-Spark/">Apache Spark</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Apple/">Apple</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/AutoML/">AutoML</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Automagica/">Automagica</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Autonomous-Database/">Autonomous Database</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/BaaS/">BaaS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Behavioral-Economics/">Behavioral Economics</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Big-Data/">Big Data</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/BigDL/">BigDL</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/BigTop/">BigTop</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/BlazeIt/">BlazeIt</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Blog/">Blog</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Bluetooth/">Bluetooth</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/CDC/">CDC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Camera/">Camera</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/CentOS/">CentOS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/CentOS7/">CentOS7</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/CircleCI/">CircleCI</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Clipper/">Clipper</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Clipping/">Clipping</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Cloud/">Cloud</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Comcast/">Comcast</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Computing-resource/">Computing resource</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Conference/">Conference</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Configuration-Management/">Configuration Management</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Corne-Chocolate/">Corne Chocolate</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Cross-Validation/">Cross Validation</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/DB/">DB</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Dask/">Dask</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Analysis/">Data Analysis</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Analytics/">Data Analytics</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Lake/">Data Lake</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Leakage/">Data Leakage</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Lineage/">Data Lineage</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Mesh/">Data Mesh</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Platform/">Data Platform</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Processing-Engine/">Data Processing Engine</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Spaces/">Data Spaces</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Data-Transformation/">Data Transformation</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Dataspace-Connector/">Dataspace Connector</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Dataspace-Protocol/">Dataspace Protocol</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Delta-Lake/">Delta Lake</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Delta-Sharing/">Delta Sharing</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/DevSumi/">DevSumi</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Docker/">Docker</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Dockerfile/">Dockerfile</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Druid/">Druid</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/EDC/">EDC</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Flask/">Flask</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Flow-Engine/">Flow Engine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Frovedis/">Frovedis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/GIS/">GIS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/GNOME/">GNOME</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/GPD-Pocket/">GPD Pocket</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Git/">Git</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/GitHub-Actions/">GitHub Actions</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Google/">Google</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Goverment/">Goverment</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Graceful-Shutdown/">Graceful Shutdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Gradle/">Gradle</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/HBase/">HBase</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/HDP/">HDP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/HPC/">HPC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Hadoop/">Hadoop</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Hexo/">Hexo</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Hexo-Plugin/">Hexo Plugin</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Hyper/">Hyper</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Hyper-V/">Hyper-V</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/IDS/">IDS</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/IEEE/">IEEE</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/IPv6/">IPv6</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Icarus/">Icarus</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Incident/">Incident</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Intel/">Intel</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Intellij/">Intellij</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/JSON/">JSON</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Java/">Java</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Jupyter/">Jupyter</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/KVM/">KVM</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kafak-Connect/">Kafak Connect</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kafka/">Kafka</a><span class="tag-list-count">17</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kafka-Connect/">Kafka Connect</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kafka-Streams/">Kafka Streams</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kafka-Summit/">Kafka Summit</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kaggle/">Kaggle</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kappa-Architecture/">Kappa Architecture</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Keyboard/">Keyboard</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kinesis/">Kinesis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Kubernetes/">Kubernetes</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Lambda-Architecture/">Lambda Architecture</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Lighthing/">Lighthing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/LinkedIn/">LinkedIn</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/MATE-Desktop/">MATE Desktop</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/ML-Model-Management/">ML Model Management</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/ML-Ops/">ML Ops</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/MLflow/">MLflow</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Machine-Learning/">Machine Learning</a><span class="tag-list-count">29</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Machine-Learning-Lifecycle/">Machine Learning Lifecycle</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Machine-Learning-Lifecycle/">Machine Learning Lifecycle/</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Management/">Management</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Map/">Map</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Markdown/">Markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Messaging-System/">Messaging System</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Metadata-Management/">Metadata Management</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/MillWheel/">MillWheel</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Minikube/">Minikube</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Minio/">Minio</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Model/">Model</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Model-Management/">Model Management</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Monitering/">Monitering</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Mouse/">Mouse</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/NERDTree/">NERDTree</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/NVM/">NVM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Nature-Remo/">Nature Remo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Network/">Network</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/OLAP/">OLAP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/OneDrive/">OneDrive</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/OpML/">OpML</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Open-API/">Open API</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Open-Data/">Open Data</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Open-Messaging-Benchmark/">Open Messaging Benchmark</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/OpenAPI/">OpenAPI</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/OpenML/">OpenML</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Oracle/">Oracle</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/PAPIDS/">PAPIDS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/PDF/">PDF</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Pandoc/">Pandoc</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Paper/">Paper</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Parquet/">Parquet</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Partial-Dependency-Plot/">Partial Dependency Plot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Pinot/">Pinot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Pipenv/">Pipenv</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/PostgreSQL/">PostgreSQL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Power-Grid-Data/">Power Grid Data</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/PowerShell/">PowerShell</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Preparation/">Preparation</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Profiler/">Profiler</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Pulsar/">Pulsar</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/PySpark/">PySpark</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Python/">Python</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Python3/">Python3</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/QMK/">QMK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Query-Engine/">Query Engine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/RDBMS/">RDBMS</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/RPA/">RPA</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Redshift/">Redshift</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Research-later/">Research later</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/S3/">S3</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/SBT/">SBT</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/SDK/">SDK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/SQLAlchemy/">SQLAlchemy</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/SQLite/">SQLite</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/SX-Aurora/">SX-Aurora</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Samba/">Samba</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Scala/">Scala</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Scraping/">Scraping</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Seaborn/">Seaborn</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Security/">Security</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Session/">Session</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Slenium/">Slenium</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Smart-Home/">Smart Home</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Snowflake/">Snowflake</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Software-Engineering-Patterns/">Software Engineering Patterns</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Spark/">Spark</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Spark-Summit/">Spark Summit</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Sphinx/">Sphinx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Statistic/">Statistic</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Stonebraker/">Stonebraker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Storage/">Storage</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Storage-Engine/">Storage Engine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Storage-Layer/">Storage Layer</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Storage-Layer-Software/">Storage Layer Software</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Stream-Processing/">Stream Processing</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Superset/">Superset</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Supervision/">Supervision</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Tellus/">Tellus</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/TensorFlow/">TensorFlow</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/TensorFlowOnSpark/">TensorFlowOnSpark</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Tools/">Tools</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Trends/">Trends</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Troubleshoot/">Troubleshoot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Twitter/">Twitter</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Twitter-Heron/">Twitter Heron</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Uber/">Uber</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Ubuntu/">Ubuntu</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/VMWare/">VMWare</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Vagrant/">Vagrant</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Vault/">Vault</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Vector-Engine/">Vector Engine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Video-Processing/">Video Processing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Vim/">Vim</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Visualization/">Visualization</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/WSL/">WSL</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Web/">Web</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/WhereHows/">WhereHows</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/WiFi/">WiFi</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/WiFi6/">WiFi6</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Windows/">Windows</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Windows-Tools/">Windows Tools</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Word/">Word</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Word2Vec/">Word2Vec</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/X-Window/">X Window</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/X-Road/">X-Road</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/XGBoost/">XGBoost</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/Zeppelin/">Zeppelin</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/ZooKeeper/">ZooKeeper</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/ansible/">ansible</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/bug/">bug</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/dein/">dein</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/dstat/">dstat</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/fsync/">fsync</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/git/">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/keyboard/">keyboard</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/libvirt/">libvirt</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/markdown/">markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/nltk/">nltk</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/pandoc/">pandoc</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/pyenv/">pyenv</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/tmux/">tmux</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/vim/">vim</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/memo-blog/tags/windows/">windows</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">タグクラウド</h3>
        <div class="widget tagcloud">
            <a href="/memo-blog/tags/AI/" style="font-size: 10px;">AI</a> <a href="/memo-blog/tags/AWS/" style="font-size: 10px;">AWS</a> <a href="/memo-blog/tags/Academia/" style="font-size: 10px;">Academia</a> <a href="/memo-blog/tags/Adobe-Reader/" style="font-size: 10px;">Adobe Reader</a> <a href="/memo-blog/tags/Alluxio/" style="font-size: 10.77px;">Alluxio</a> <a href="/memo-blog/tags/Ambari/" style="font-size: 10px;">Ambari</a> <a href="/memo-blog/tags/Analytics-Zoo/" style="font-size: 10px;">Analytics Zoo</a> <a href="/memo-blog/tags/Ansible/" style="font-size: 11.54px;">Ansible</a> <a href="/memo-blog/tags/Apache-Edgent/" style="font-size: 10px;">Apache Edgent</a> <a href="/memo-blog/tags/Apache-Hudi/" style="font-size: 10px;">Apache Hudi</a> <a href="/memo-blog/tags/Apache-Kafka/" style="font-size: 10px;">Apache Kafka</a> <a href="/memo-blog/tags/Apache-Spark/" style="font-size: 11.54px;">Apache Spark</a> <a href="/memo-blog/tags/Apple/" style="font-size: 10px;">Apple</a> <a href="/memo-blog/tags/AutoML/" style="font-size: 10.77px;">AutoML</a> <a href="/memo-blog/tags/Automagica/" style="font-size: 10px;">Automagica</a> <a href="/memo-blog/tags/Autonomous-Database/" style="font-size: 10px;">Autonomous Database</a> <a href="/memo-blog/tags/BaaS/" style="font-size: 10px;">BaaS</a> <a href="/memo-blog/tags/Behavioral-Economics/" style="font-size: 10px;">Behavioral Economics</a> <a href="/memo-blog/tags/Big-Data/" style="font-size: 10px;">Big Data</a> <a href="/memo-blog/tags/BigDL/" style="font-size: 10.77px;">BigDL</a> <a href="/memo-blog/tags/BigTop/" style="font-size: 10.77px;">BigTop</a> <a href="/memo-blog/tags/BlazeIt/" style="font-size: 10px;">BlazeIt</a> <a href="/memo-blog/tags/Blog/" style="font-size: 10px;">Blog</a> <a href="/memo-blog/tags/Bluetooth/" style="font-size: 10px;">Bluetooth</a> <a href="/memo-blog/tags/CDC/" style="font-size: 10px;">CDC</a> <a href="/memo-blog/tags/Camera/" style="font-size: 10px;">Camera</a> <a href="/memo-blog/tags/CentOS/" style="font-size: 10px;">CentOS</a> <a href="/memo-blog/tags/CentOS7/" style="font-size: 11.54px;">CentOS7</a> <a href="/memo-blog/tags/CircleCI/" style="font-size: 10px;">CircleCI</a> <a href="/memo-blog/tags/Clipper/" style="font-size: 10px;">Clipper</a> <a href="/memo-blog/tags/Clipping/" style="font-size: 10px;">Clipping</a> <a href="/memo-blog/tags/Cloud/" style="font-size: 10px;">Cloud</a> <a href="/memo-blog/tags/Comcast/" style="font-size: 10px;">Comcast</a> <a href="/memo-blog/tags/Computing-resource/" style="font-size: 10px;">Computing resource</a> <a href="/memo-blog/tags/Conference/" style="font-size: 10px;">Conference</a> <a href="/memo-blog/tags/Configuration-Management/" style="font-size: 10px;">Configuration Management</a> <a href="/memo-blog/tags/Corne-Chocolate/" style="font-size: 10px;">Corne Chocolate</a> <a href="/memo-blog/tags/Cross-Validation/" style="font-size: 10px;">Cross Validation</a> <a href="/memo-blog/tags/DB/" style="font-size: 10px;">DB</a> <a href="/memo-blog/tags/Dask/" style="font-size: 10.77px;">Dask</a> <a href="/memo-blog/tags/Data-Analysis/" style="font-size: 10.77px;">Data Analysis</a> <a href="/memo-blog/tags/Data-Analytics/" style="font-size: 10px;">Data Analytics</a> <a href="/memo-blog/tags/Data-Lake/" style="font-size: 10px;">Data Lake</a> <a href="/memo-blog/tags/Data-Leakage/" style="font-size: 10px;">Data Leakage</a> <a href="/memo-blog/tags/Data-Lineage/" style="font-size: 10px;">Data Lineage</a> <a href="/memo-blog/tags/Data-Mesh/" style="font-size: 10px;">Data Mesh</a> <a href="/memo-blog/tags/Data-Platform/" style="font-size: 10px;">Data Platform</a> <a href="/memo-blog/tags/Data-Processing-Engine/" style="font-size: 10.77px;">Data Processing Engine</a> <a href="/memo-blog/tags/Data-Spaces/" style="font-size: 13.08px;">Data Spaces</a> <a href="/memo-blog/tags/Data-Transformation/" style="font-size: 10.77px;">Data Transformation</a> <a href="/memo-blog/tags/Dataspace-Connector/" style="font-size: 11.54px;">Dataspace Connector</a> <a href="/memo-blog/tags/Dataspace-Protocol/" style="font-size: 10px;">Dataspace Protocol</a> <a href="/memo-blog/tags/Delta-Lake/" style="font-size: 16.92px;">Delta Lake</a> <a href="/memo-blog/tags/Delta-Sharing/" style="font-size: 12.31px;">Delta Sharing</a> <a href="/memo-blog/tags/DevSumi/" style="font-size: 10px;">DevSumi</a> <a href="/memo-blog/tags/Docker/" style="font-size: 14.62px;">Docker</a> <a href="/memo-blog/tags/Dockerfile/" style="font-size: 10.77px;">Dockerfile</a> <a href="/memo-blog/tags/Druid/" style="font-size: 10px;">Druid</a> <a href="/memo-blog/tags/EDC/" style="font-size: 13.08px;">EDC</a> <a href="/memo-blog/tags/Flask/" style="font-size: 12.31px;">Flask</a> <a href="/memo-blog/tags/Flow-Engine/" style="font-size: 10px;">Flow Engine</a> <a href="/memo-blog/tags/Frovedis/" style="font-size: 10px;">Frovedis</a> <a href="/memo-blog/tags/GIS/" style="font-size: 10px;">GIS</a> <a href="/memo-blog/tags/GNOME/" style="font-size: 10px;">GNOME</a> <a href="/memo-blog/tags/GPD-Pocket/" style="font-size: 10px;">GPD Pocket</a> <a href="/memo-blog/tags/Git/" style="font-size: 10.77px;">Git</a> <a href="/memo-blog/tags/GitHub-Actions/" style="font-size: 10px;">GitHub Actions</a> <a href="/memo-blog/tags/Google/" style="font-size: 10px;">Google</a> <a href="/memo-blog/tags/Goverment/" style="font-size: 10px;">Goverment</a> <a href="/memo-blog/tags/Graceful-Shutdown/" style="font-size: 10px;">Graceful Shutdown</a> <a href="/memo-blog/tags/Gradle/" style="font-size: 10px;">Gradle</a> <a href="/memo-blog/tags/HBase/" style="font-size: 10px;">HBase</a> <a href="/memo-blog/tags/HDP/" style="font-size: 10px;">HDP</a> <a href="/memo-blog/tags/HPC/" style="font-size: 10px;">HPC</a> <a href="/memo-blog/tags/Hadoop/" style="font-size: 11.54px;">Hadoop</a> <a href="/memo-blog/tags/Hexo/" style="font-size: 16.15px;">Hexo</a> <a href="/memo-blog/tags/Hexo-Plugin/" style="font-size: 10px;">Hexo Plugin</a> <a href="/memo-blog/tags/Hyper/" style="font-size: 10.77px;">Hyper</a> <a href="/memo-blog/tags/Hyper-V/" style="font-size: 10.77px;">Hyper-V</a> <a href="/memo-blog/tags/IDS/" style="font-size: 12.31px;">IDS</a> <a href="/memo-blog/tags/IEEE/" style="font-size: 10.77px;">IEEE</a> <a href="/memo-blog/tags/IPv6/" style="font-size: 10px;">IPv6</a> <a href="/memo-blog/tags/Icarus/" style="font-size: 10px;">Icarus</a> <a href="/memo-blog/tags/Incident/" style="font-size: 10px;">Incident</a> <a href="/memo-blog/tags/Intel/" style="font-size: 10px;">Intel</a> <a href="/memo-blog/tags/Intellij/" style="font-size: 10.77px;">Intellij</a> <a href="/memo-blog/tags/JSON/" style="font-size: 10px;">JSON</a> <a href="/memo-blog/tags/Java/" style="font-size: 10px;">Java</a> <a href="/memo-blog/tags/Jupyter/" style="font-size: 10.77px;">Jupyter</a> <a href="/memo-blog/tags/KVM/" style="font-size: 11.54px;">KVM</a> <a href="/memo-blog/tags/Kafak-Connect/" style="font-size: 10px;">Kafak Connect</a> <a href="/memo-blog/tags/Kafka/" style="font-size: 19.23px;">Kafka</a> <a href="/memo-blog/tags/Kafka-Connect/" style="font-size: 10px;">Kafka Connect</a> <a href="/memo-blog/tags/Kafka-Streams/" style="font-size: 10.77px;">Kafka Streams</a> <a href="/memo-blog/tags/Kafka-Summit/" style="font-size: 10px;">Kafka Summit</a> <a href="/memo-blog/tags/Kaggle/" style="font-size: 14.62px;">Kaggle</a> <a href="/memo-blog/tags/Kappa-Architecture/" style="font-size: 10px;">Kappa Architecture</a> <a href="/memo-blog/tags/Keyboard/" style="font-size: 10.77px;">Keyboard</a> <a href="/memo-blog/tags/Kinesis/" style="font-size: 10px;">Kinesis</a> <a href="/memo-blog/tags/Kubernetes/" style="font-size: 11.54px;">Kubernetes</a> <a href="/memo-blog/tags/Lambda-Architecture/" style="font-size: 10px;">Lambda Architecture</a> <a href="/memo-blog/tags/Lighthing/" style="font-size: 10px;">Lighthing</a> <a href="/memo-blog/tags/LinkedIn/" style="font-size: 12.31px;">LinkedIn</a> <a href="/memo-blog/tags/MATE-Desktop/" style="font-size: 10px;">MATE Desktop</a> <a href="/memo-blog/tags/ML-Model-Management/" style="font-size: 10.77px;">ML Model Management</a> <a href="/memo-blog/tags/ML-Ops/" style="font-size: 10px;">ML Ops</a> <a href="/memo-blog/tags/MLflow/" style="font-size: 10px;">MLflow</a> <a href="/memo-blog/tags/Machine-Learning/" style="font-size: 20px;">Machine Learning</a> <a href="/memo-blog/tags/Machine-Learning-Lifecycle/" style="font-size: 10px;">Machine Learning Lifecycle</a> <a href="/memo-blog/tags/Machine-Learning-Lifecycle/" style="font-size: 10px;">Machine Learning Lifecycle/</a> <a href="/memo-blog/tags/Management/" style="font-size: 10px;">Management</a> <a href="/memo-blog/tags/Map/" style="font-size: 10px;">Map</a> <a href="/memo-blog/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/memo-blog/tags/Messaging-System/" style="font-size: 10px;">Messaging System</a> <a href="/memo-blog/tags/Metadata-Management/" style="font-size: 10px;">Metadata Management</a> <a href="/memo-blog/tags/MillWheel/" style="font-size: 10px;">MillWheel</a> <a href="/memo-blog/tags/Minikube/" style="font-size: 10px;">Minikube</a> <a href="/memo-blog/tags/Minio/" style="font-size: 10.77px;">Minio</a> <a href="/memo-blog/tags/Model/" style="font-size: 12.31px;">Model</a> <a href="/memo-blog/tags/Model-Management/" style="font-size: 12.31px;">Model Management</a> <a href="/memo-blog/tags/Monitering/" style="font-size: 10px;">Monitering</a> <a href="/memo-blog/tags/Mouse/" style="font-size: 10px;">Mouse</a> <a href="/memo-blog/tags/NERDTree/" style="font-size: 10px;">NERDTree</a> <a href="/memo-blog/tags/NVM/" style="font-size: 10px;">NVM</a> <a href="/memo-blog/tags/Nature-Remo/" style="font-size: 10px;">Nature Remo</a> <a href="/memo-blog/tags/Network/" style="font-size: 10px;">Network</a> <a href="/memo-blog/tags/OLAP/" style="font-size: 10px;">OLAP</a> <a href="/memo-blog/tags/OneDrive/" style="font-size: 10px;">OneDrive</a> <a href="/memo-blog/tags/OpML/" style="font-size: 10px;">OpML</a> <a href="/memo-blog/tags/Open-API/" style="font-size: 10px;">Open API</a> <a href="/memo-blog/tags/Open-Data/" style="font-size: 10.77px;">Open Data</a> <a href="/memo-blog/tags/Open-Messaging-Benchmark/" style="font-size: 10px;">Open Messaging Benchmark</a> <a href="/memo-blog/tags/OpenAPI/" style="font-size: 10px;">OpenAPI</a> <a href="/memo-blog/tags/OpenML/" style="font-size: 10px;">OpenML</a> <a href="/memo-blog/tags/Oracle/" style="font-size: 10px;">Oracle</a> <a href="/memo-blog/tags/PAPIDS/" style="font-size: 10px;">PAPIDS</a> <a href="/memo-blog/tags/PDF/" style="font-size: 10px;">PDF</a> <a href="/memo-blog/tags/Pandoc/" style="font-size: 10px;">Pandoc</a> <a href="/memo-blog/tags/Paper/" style="font-size: 18.46px;">Paper</a> <a href="/memo-blog/tags/Parquet/" style="font-size: 10px;">Parquet</a> <a href="/memo-blog/tags/Partial-Dependency-Plot/" style="font-size: 10px;">Partial Dependency Plot</a> <a href="/memo-blog/tags/Pinot/" style="font-size: 10px;">Pinot</a> <a href="/memo-blog/tags/Pipenv/" style="font-size: 10px;">Pipenv</a> <a href="/memo-blog/tags/PostgreSQL/" style="font-size: 10px;">PostgreSQL</a> <a href="/memo-blog/tags/Power-Grid-Data/" style="font-size: 10px;">Power Grid Data</a> <a href="/memo-blog/tags/PowerShell/" style="font-size: 10px;">PowerShell</a> <a href="/memo-blog/tags/Preparation/" style="font-size: 10.77px;">Preparation</a> <a href="/memo-blog/tags/Profiler/" style="font-size: 10px;">Profiler</a> <a href="/memo-blog/tags/Pulsar/" style="font-size: 10px;">Pulsar</a> <a href="/memo-blog/tags/PySpark/" style="font-size: 12.31px;">PySpark</a> <a href="/memo-blog/tags/Python/" style="font-size: 17.69px;">Python</a> <a href="/memo-blog/tags/Python3/" style="font-size: 10px;">Python3</a> <a href="/memo-blog/tags/QMK/" style="font-size: 10px;">QMK</a> <a href="/memo-blog/tags/Query-Engine/" style="font-size: 10px;">Query Engine</a> <a href="/memo-blog/tags/RDBMS/" style="font-size: 10.77px;">RDBMS</a> <a href="/memo-blog/tags/RPA/" style="font-size: 10px;">RPA</a> <a href="/memo-blog/tags/Redshift/" style="font-size: 10px;">Redshift</a> <a href="/memo-blog/tags/Research-later/" style="font-size: 10px;">Research later</a> <a href="/memo-blog/tags/S3/" style="font-size: 10px;">S3</a> <a href="/memo-blog/tags/SBT/" style="font-size: 10px;">SBT</a> <a href="/memo-blog/tags/SDK/" style="font-size: 10px;">SDK</a> <a href="/memo-blog/tags/SQLAlchemy/" style="font-size: 10.77px;">SQLAlchemy</a> <a href="/memo-blog/tags/SQLite/" style="font-size: 10px;">SQLite</a> <a href="/memo-blog/tags/SX-Aurora/" style="font-size: 10px;">SX-Aurora</a> <a href="/memo-blog/tags/Samba/" style="font-size: 10px;">Samba</a> <a href="/memo-blog/tags/Scala/" style="font-size: 10px;">Scala</a> <a href="/memo-blog/tags/Scraping/" style="font-size: 10px;">Scraping</a> <a href="/memo-blog/tags/Seaborn/" style="font-size: 10px;">Seaborn</a> <a href="/memo-blog/tags/Security/" style="font-size: 10px;">Security</a> <a href="/memo-blog/tags/Session/" style="font-size: 10px;">Session</a> <a href="/memo-blog/tags/Slenium/" style="font-size: 10px;">Slenium</a> <a href="/memo-blog/tags/Smart-Home/" style="font-size: 10px;">Smart Home</a> <a href="/memo-blog/tags/Snowflake/" style="font-size: 10px;">Snowflake</a> <a href="/memo-blog/tags/Software-Engineering-Patterns/" style="font-size: 10px;">Software Engineering Patterns</a> <a href="/memo-blog/tags/Spark/" style="font-size: 15.38px;">Spark</a> <a href="/memo-blog/tags/Spark-Summit/" style="font-size: 10px;">Spark Summit</a> <a href="/memo-blog/tags/Sphinx/" style="font-size: 10px;">Sphinx</a> <a href="/memo-blog/tags/Statistic/" style="font-size: 10px;">Statistic</a> <a href="/memo-blog/tags/Stonebraker/" style="font-size: 10px;">Stonebraker</a> <a href="/memo-blog/tags/Storage/" style="font-size: 10px;">Storage</a> <a href="/memo-blog/tags/Storage-Engine/" style="font-size: 10px;">Storage Engine</a> <a href="/memo-blog/tags/Storage-Layer/" style="font-size: 11.54px;">Storage Layer</a> <a href="/memo-blog/tags/Storage-Layer-Software/" style="font-size: 10px;">Storage Layer Software</a> <a href="/memo-blog/tags/Stream-Processing/" style="font-size: 18.46px;">Stream Processing</a> <a href="/memo-blog/tags/Superset/" style="font-size: 10px;">Superset</a> <a href="/memo-blog/tags/Supervision/" style="font-size: 10px;">Supervision</a> <a href="/memo-blog/tags/Tellus/" style="font-size: 10px;">Tellus</a> <a href="/memo-blog/tags/TensorFlow/" style="font-size: 11.54px;">TensorFlow</a> <a href="/memo-blog/tags/TensorFlowOnSpark/" style="font-size: 10.77px;">TensorFlowOnSpark</a> <a href="/memo-blog/tags/Tools/" style="font-size: 10px;">Tools</a> <a href="/memo-blog/tags/Trends/" style="font-size: 10px;">Trends</a> <a href="/memo-blog/tags/Troubleshoot/" style="font-size: 10px;">Troubleshoot</a> <a href="/memo-blog/tags/Twitter/" style="font-size: 10px;">Twitter</a> <a href="/memo-blog/tags/Twitter-Heron/" style="font-size: 10px;">Twitter Heron</a> <a href="/memo-blog/tags/Uber/" style="font-size: 10.77px;">Uber</a> <a href="/memo-blog/tags/Ubuntu/" style="font-size: 15.38px;">Ubuntu</a> <a href="/memo-blog/tags/VMWare/" style="font-size: 10px;">VMWare</a> <a href="/memo-blog/tags/Vagrant/" style="font-size: 10.77px;">Vagrant</a> <a href="/memo-blog/tags/Vault/" style="font-size: 10px;">Vault</a> <a href="/memo-blog/tags/Vector-Engine/" style="font-size: 10px;">Vector Engine</a> <a href="/memo-blog/tags/Video-Processing/" style="font-size: 10px;">Video Processing</a> <a href="/memo-blog/tags/Vim/" style="font-size: 10.77px;">Vim</a> <a href="/memo-blog/tags/Visualization/" style="font-size: 10.77px;">Visualization</a> <a href="/memo-blog/tags/WSL/" style="font-size: 13.85px;">WSL</a> <a href="/memo-blog/tags/Web/" style="font-size: 10px;">Web</a> <a href="/memo-blog/tags/WhereHows/" style="font-size: 10px;">WhereHows</a> <a href="/memo-blog/tags/WiFi/" style="font-size: 10px;">WiFi</a> <a href="/memo-blog/tags/WiFi6/" style="font-size: 10px;">WiFi6</a> <a href="/memo-blog/tags/Windows/" style="font-size: 13.08px;">Windows</a> <a href="/memo-blog/tags/Windows-Tools/" style="font-size: 10px;">Windows Tools</a> <a href="/memo-blog/tags/Word/" style="font-size: 10px;">Word</a> <a href="/memo-blog/tags/Word2Vec/" style="font-size: 10px;">Word2Vec</a> <a href="/memo-blog/tags/X-Window/" style="font-size: 10px;">X Window</a> <a href="/memo-blog/tags/X-Road/" style="font-size: 10px;">X-Road</a> <a href="/memo-blog/tags/XGBoost/" style="font-size: 10px;">XGBoost</a> <a href="/memo-blog/tags/Zeppelin/" style="font-size: 10px;">Zeppelin</a> <a href="/memo-blog/tags/ZooKeeper/" style="font-size: 12.31px;">ZooKeeper</a> <a href="/memo-blog/tags/ansible/" style="font-size: 10px;">ansible</a> <a href="/memo-blog/tags/bug/" style="font-size: 10px;">bug</a> <a href="/memo-blog/tags/dein/" style="font-size: 10px;">dein</a> <a href="/memo-blog/tags/dstat/" style="font-size: 10px;">dstat</a> <a href="/memo-blog/tags/fsync/" style="font-size: 10px;">fsync</a> <a href="/memo-blog/tags/git/" style="font-size: 10px;">git</a> <a href="/memo-blog/tags/keyboard/" style="font-size: 10px;">keyboard</a> <a href="/memo-blog/tags/libvirt/" style="font-size: 10px;">libvirt</a> <a href="/memo-blog/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/memo-blog/tags/nltk/" style="font-size: 10px;">nltk</a> <a href="/memo-blog/tags/pandoc/" style="font-size: 11.54px;">pandoc</a> <a href="/memo-blog/tags/pyenv/" style="font-size: 10px;">pyenv</a> <a href="/memo-blog/tags/tmux/" style="font-size: 10.77px;">tmux</a> <a href="/memo-blog/tags/vim/" style="font-size: 13.85px;">vim</a> <a href="/memo-blog/tags/windows/" style="font-size: 10px;">windows</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">リンク</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fas fa-angle-up"></div>
</aside>

            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2024 dobachi<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        


    
        <script src="/memo-blog/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/memo-blog/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/memo-blog/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/memo-blog/js/main.js"></script>

    </div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>